# SpendMe v2 - Cursor Rules & Development Guidelines

## ğŸ—ï¸ Proje Mimarisi

### Teknoloji Stack
- **Frontend**: React 18 + TypeScript
- **Backend**: Supabase (PostgreSQL + Auth + Storage)
- **Styling**: Tailwind CSS
- **State Management**: React Context + Custom Hooks
- **Routing**: React Router DOM v6
- **Build Tool**: Create React App (CRA)
- **Package Manager**: npm

### KlasÃ¶r YapÄ±sÄ±
```
src/
â”œâ”€â”€ components/          # Yeniden kullanÄ±labilir UI bileÅŸenleri
â”‚   â”œâ”€â”€ auth/           # Kimlik doÄŸrulama bileÅŸenleri
â”‚   â”œâ”€â”€ charts/         # Grafik ve chart bileÅŸenleri
â”‚   â”œâ”€â”€ forms/          # Form bileÅŸenleri
â”‚   â”œâ”€â”€ layout/         # Layout ve navigasyon bileÅŸenleri
â”‚   â””â”€â”€ ui/             # Genel UI bileÅŸenleri
â”œâ”€â”€ contexts/            # React Context'ler
â”œâ”€â”€ hooks/               # Custom React hooks
â”œâ”€â”€ lib/                 # KÃ¼tÃ¼phane konfigÃ¼rasyonlarÄ±
â”œâ”€â”€ pages/               # Sayfa bileÅŸenleri
â”‚   â”œâ”€â”€ accounts/        # Hesap yÃ¶netimi
â”‚   â”œâ”€â”€ auth/            # Kimlik doÄŸrulama
â”‚   â”œâ”€â”€ budgets/         # BÃ¼tÃ§e yÃ¶netimi
â”‚   â”œâ”€â”€ categories/      # Kategori yÃ¶netimi
â”‚   â”œâ”€â”€ dashboard/       # Ana dashboard
â”‚   â”œâ”€â”€ profile/         # KullanÄ±cÄ± profili
â”‚   â”œâ”€â”€ reports/         # Raporlar
â”‚   â”œâ”€â”€ settings/        # Ayarlar
â”‚   â””â”€â”€ transactions/    # Ä°ÅŸlem yÃ¶netimi
â”œâ”€â”€ services/            # API ve servis katmanÄ±
â”œâ”€â”€ stores/              # State store'larÄ±
â”œâ”€â”€ types/               # TypeScript tip tanÄ±mlarÄ±
â””â”€â”€ utils/               # YardÄ±mcÄ± fonksiyonlar
```

## ğŸ“ Kodlama StandartlarÄ±

### TypeScript KurallarÄ±
- **Strict Mode**: TÃ¼m TypeScript strict ayarlarÄ± aktif
- **Tip TanÄ±mlarÄ±**: Her bileÅŸen ve fonksiyon iÃ§in tip tanÄ±mÄ± zorunlu
- **Interface KullanÄ±mÄ±**: Props ve state iÃ§in interface kullan
- **Generic Types**: MÃ¼mkÃ¼n olduÄŸunda generic type'lar kullan

### React KurallarÄ±
- **Functional Components**: Sadece functional component'ler kullan
- **Hooks**: Custom hook'lar iÃ§in `use` prefix'i zorunlu
- **Performance**: `useCallback`, `useMemo` kullanarak gereksiz re-render'larÄ± Ã¶nle
- **State Management**: Local state iÃ§in `useState`, global state iÃ§in Context kullan

### Naming Conventions
- **Components**: PascalCase (Ã¶rn: `TransactionList`)
- **Functions**: camelCase (Ã¶rn: `handleTransactionDelete`)
- **Constants**: UPPER_SNAKE_CASE (Ã¶rn: `MAX_TRANSACTIONS`)
- **Files**: kebab-case (Ã¶rn: `transaction-list.tsx`)
- **Database Tables**: `spendme_` prefix'i ile baÅŸla

## ğŸ¨ UI/UX KurallarÄ±

### Tailwind CSS
- **Responsive Design**: `sm:`, `md:`, `lg:` prefix'lerini kullan
- **Dark Mode**: `dark:` prefix'i ile dark mode desteÄŸi ekle
- **Component Classes**: Ortak component'ler iÃ§in `card`, `input`, `button` class'larÄ± kullan
- **Color System**: Proje renk paletini kullan (success, danger, warning, info)

### Accessibility
- **Semantic HTML**: Uygun HTML tag'lerini kullan
- **ARIA Labels**: Screen reader desteÄŸi iÃ§in ARIA attribute'larÄ± ekle
- **Keyboard Navigation**: Tab navigation desteÄŸi saÄŸla
- **Color Contrast**: WCAG AA standartlarÄ±na uygun renk kontrastÄ±

## ğŸ” GÃ¼venlik KurallarÄ±

### Supabase GÃ¼venliÄŸi
- **RLS Policies**: TÃ¼m tablolar iÃ§in Row Level Security aktif
- **User Isolation**: KullanÄ±cÄ±lar sadece kendi verilerine eriÅŸebilir
- **Input Validation**: TÃ¼m kullanÄ±cÄ± girdilerini validate et
- **SQL Injection**: Parametrized query'ler kullan

### Authentication
- **Protected Routes**: Hassas sayfalar iÃ§in `ProtectedRoute` kullan
- **Session Management**: Supabase auth session'larÄ±nÄ± doÄŸru yÃ¶net
- **Error Handling**: Auth hatalarÄ±nÄ± kullanÄ±cÄ± dostu ÅŸekilde gÃ¶ster

## ğŸš€ Performance KurallarÄ±

### Optimization
- **Lazy Loading**: Route bazlÄ± code splitting kullan
- **Memoization**: `useMemo` ve `useCallback` ile gereksiz hesaplamalarÄ± Ã¶nle
- **Pagination**: BÃ¼yÃ¼k veri setleri iÃ§in pagination kullan
- **Caching**: Supabase cache ve local cache kullan

### Bundle Size
- **Tree Shaking**: KullanÄ±lmayan import'larÄ± kaldÄ±r
- **Dynamic Imports**: BÃ¼yÃ¼k bileÅŸenleri lazy load et
- **Image Optimization**: WebP formatÄ± ve responsive images kullan

## ğŸ§ª Test ve Quality

### Code Quality
- **ESLint**: TÃ¼m ESLint kurallarÄ±na uy
- **Prettier**: Kod formatlamasÄ± iÃ§in Prettier kullan
- **Type Safety**: TypeScript strict mode'da hata vermeyecek kod yaz
- **Error Boundaries**: React Error Boundary'ler kullan

### Testing
- **Unit Tests**: Kritik fonksiyonlar iÃ§in unit test yaz
- **Integration Tests**: API entegrasyonlarÄ± iÃ§in test yaz
- **E2E Tests**: KullanÄ±cÄ± senaryolarÄ± iÃ§in E2E test yaz

## ğŸ“± Mobile First Approach

### Responsive Design
- **Mobile First**: Ã–nce mobile tasarÄ±m, sonra desktop
- **Touch Friendly**: Touch target'lar minimum 44x44px
- **Gesture Support**: Swipe ve pinch gesture'larÄ± destekle
- **Performance**: Mobile cihazlarda optimize performans

## ğŸŒ Internationalization

### Localization
- **Turkish Support**: VarsayÄ±lan dil TÃ¼rkÃ§e
- **Currency**: TL (â‚º) para birimi kullan
- **Date Format**: TÃ¼rkiye tarih formatÄ± (DD/MM/YYYY)
- **Number Format**: TÃ¼rkiye sayÄ± formatÄ± (1.234,56)

## ğŸ”„ State Management

### Context Pattern
- **AuthContext**: KullanÄ±cÄ± kimlik doÄŸrulama durumu
- **ThemeContext**: Dark/Light mode durumu
- **Global State**: Uygulama geneli state'ler iÃ§in Context kullan
- **Local State**: Component bazlÄ± state'ler iÃ§in useState kullan

### Data Flow
- **Top-Down**: Props ile veri aktarÄ±mÄ±
- **Bottom-Up**: Callback fonksiyonlarÄ± ile event handling
- **Context**: Global state iÃ§in Context API kullan
- **Services**: API Ã§aÄŸrÄ±larÄ± iÃ§in service layer kullan

## ğŸ“Š Database Design

### Table Structure
- **Naming**: `spendme_` prefix'i ile baÅŸla
- **Relationships**: Foreign key'ler ile iliÅŸkileri tanÄ±mla
- **Indexes**: Performans iÃ§in gerekli index'leri ekle
- **Constraints**: Data integrity iÃ§in constraint'ler ekle

### Data Types
- **UUID**: Primary key'ler iÃ§in UUID kullan
- **Timestamps**: `created_at`, `updated_at` alanlarÄ± zorunlu
- **Soft Delete**: Silinen kayÄ±tlar iÃ§in soft delete kullan
- **Audit Trail**: Ã–nemli deÄŸiÅŸiklikler iÃ§in audit log tut

## ğŸš¨ Error Handling

### Error Patterns
- **Try-Catch**: Async iÅŸlemler iÃ§in try-catch kullan
- **Error Boundaries**: React component hatalarÄ±nÄ± yakala
- **User Feedback**: HatalarÄ± kullanÄ±cÄ± dostu ÅŸekilde gÃ¶ster
- **Logging**: HatalarÄ± console'a logla (production'da kaldÄ±r)

### Validation
- **Input Validation**: TÃ¼m kullanÄ±cÄ± girdilerini validate et
- **Form Validation**: Form validation iÃ§in react-hook-form kullan
- **API Validation**: API response'larÄ±nÄ± validate et
- **Type Validation**: TypeScript ile compile-time validation

## ğŸ“ Documentation

### Code Documentation
- **JSDoc**: Fonksiyonlar iÃ§in JSDoc comment'leri ekle
- **README**: Proje setup ve kullanÄ±m talimatlarÄ±
- **API Docs**: API endpoint'leri iÃ§in dokÃ¼mantasyon
- **Component Docs**: BileÅŸen kullanÄ±m Ã¶rnekleri

### Commit Messages
- **Conventional Commits**: `feat:`, `fix:`, `docs:` prefix'leri kullan
- **Descriptive**: Commit mesajlarÄ±nda ne yapÄ±ldÄ±ÄŸÄ±nÄ± aÃ§Ä±kla
- **Turkish**: TÃ¼rkÃ§e commit mesajlarÄ± kullan
- **Reference**: Issue/PR referanslarÄ± ekle

## ğŸ”§ Development Workflow

### Git Workflow
- **Feature Branches**: Yeni Ã¶zellikler iÃ§in feature branch'leri kullan
- **Pull Requests**: Code review iÃ§in PR'lar oluÅŸtur
- **Squash Commits**: Feature branch'leri squash merge et
- **Clean History**: Git history'yi temiz tut

### Environment
- **Environment Variables**: Hassas bilgileri .env dosyasÄ±nda tut
- **Configuration**: FarklÄ± environment'lar iÃ§in config dosyalarÄ±
- **Secrets**: API key'leri ve secret'larÄ± Git'e commit etme
- **Local Development**: Local development iÃ§in gerekli setup

## ğŸ¯ Business Logic

### Financial Rules
- **Currency**: TL (â‚º) para birimi kullan
- **Decimal Precision**: Para iÅŸlemleri iÃ§in 2 decimal precision
- **Installments**: Taksitli iÅŸlemler iÃ§in installment logic
- **Balance Calculation**: Hesap bakiyelerini doÄŸru hesapla

### User Experience
- **Onboarding**: Yeni kullanÄ±cÄ±lar iÃ§in setup wizard
- **Progressive Disclosure**: KarmaÅŸÄ±k Ã¶zellikleri aÅŸamalÄ± gÃ¶ster
- **Feedback**: KullanÄ±cÄ± aksiyonlarÄ± iÃ§in immediate feedback
- **Loading States**: Uzun sÃ¼ren iÅŸlemler iÃ§in loading indicator'lar

## ğŸš€ Deployment

### Build Process
- **Environment**: Production build iÃ§in environment variables
- **Optimization**: Bundle size ve performance optimization
- **Assets**: Static asset'leri optimize et
- **CDN**: Static dosyalar iÃ§in CDN kullan

### Monitoring
- **Error Tracking**: Production hatalarÄ±nÄ± track et
- **Performance**: Core Web Vitals'Ä± monitor et
- **Analytics**: KullanÄ±cÄ± davranÄ±ÅŸlarÄ±nÄ± analiz et
- **Uptime**: Uygulama uptime'Ä±nÄ± monitor et

## ğŸ“‹ Code Review Checklist

### Before Commit
- [ ] ESLint hatalarÄ± dÃ¼zeltildi
- [ ] TypeScript hatalarÄ± dÃ¼zeltildi
- [ ] Test'ler geÃ§iyor
- [ ] Code formatting dÃ¼zeltildi
- [ ] Gereksiz console.log'lar kaldÄ±rÄ±ldÄ±
- [ ] Performance issue'lar kontrol edildi
- [ ] Security issue'lar kontrol edildi
- [ ] Accessibility issue'lar kontrol edildi

### Before PR
- [ ] Feature branch gÃ¼ncel
- [ ] Test coverage yeterli
- [ ] Documentation gÃ¼ncellendi
- [ ] Breaking changes belgelendi
- [ ] Migration script'leri hazÄ±rlandÄ±
- [ ] Rollback plan'Ä± hazÄ±rlandÄ±

## ğŸ¯ Dosya DeÄŸiÅŸiklik KurallarÄ±

### Sadece Gerekli Dosyalarda DeÄŸiÅŸiklik Yap
- **Hedef OdaklÄ±**: Sadece belirtilen gÃ¶rev iÃ§in gerekli olan dosyalarda deÄŸiÅŸiklik yap
- **Gereksiz DeÄŸiÅŸiklik**: DiÄŸer dosyalarda otomatik olarak deÄŸiÅŸiklik yapma
- **Minimal Impact**: MÃ¼mkÃ¼n olduÄŸunca az dosyada deÄŸiÅŸiklik yap
- **Context Awareness**: Sadece mevcut konuyla ilgili dosyalarda Ã§alÄ±ÅŸ

### Dosya SeÃ§im Kriterleri
- **Direct Dependencies**: DoÄŸrudan ilgili olan dosyalar
- **Import/Export**: Gerekli import/export baÄŸlantÄ±larÄ±
- **Type Definitions**: Tip tanÄ±mlarÄ± gerekli olan dosyalar
- **Configuration**: KonfigÃ¼rasyon deÄŸiÅŸikliÄŸi gerekli olan dosyalar

### YasaklÄ± Ä°ÅŸlemler
- **Auto-formatting**: TÃ¼m projeyi otomatik formatlama
- **Bulk Changes**: Toplu dosya deÄŸiÅŸiklikleri
- **Unrelated Files**: Ä°lgisiz dosyalarda deÄŸiÅŸiklik
- **Style Changes**: Sadece stil deÄŸiÅŸikliÄŸi iÃ§in dosya aÃ§ma

Bu kurallar, SpendMe v2 projesinin tutarlÄ±, gÃ¼venli ve performanslÄ± bir ÅŸekilde geliÅŸtirilmesini saÄŸlar. TÃ¼m geliÅŸtiriciler bu kurallara uymalÄ± ve gerektiÄŸinde gÃ¼ncellemeler yapÄ±lmalÄ±dÄ±r.
