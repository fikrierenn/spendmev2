/*! For license information please see main.34de023b.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var n=r(853),a=r(43),s=r(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),k=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case j:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case k:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return O(e(t))}catch(Sr){}}return null}var z=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},I=[],$=-1;function M(e){return{current:e}}function F(e){0>$||(e.current=I[$],I[$]=null,$--)}function B(e,t){$++,I[$]=e.current,e.current=t}var U=M(null),q=M(null),H=M(null),G=M(null);function K(e,t){switch(B(H,t),B(q,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(U),B(U,e)}function W(){F(U),F(q),F(H)}function Y(e){null!==e.memoizedState&&B(G,e);var t=U.current,r=od(t,e.type);t!==r&&(B(q,e),B(U,r))}function V(e){q.current===e&&(F(U),F(q)),G.current===e&&(F(G),Qd._currentValue=D)}var Q=Object.prototype.hasOwnProperty,J=n.unstable_scheduleCallback,X=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ie=n.unstable_LowPriority,oe=n.unstable_IdlePriority,le=n.log,ce=n.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fe(e)/pe|0)|0},fe=Math.log,pe=Math.LN2;var ge=256,ye=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~s)?a=be(n):0!==(i&=o)?a=be(i):r||0!==(r=o&~e)&&(a=be(r)):0!==(o=n&~s)?a=be(o):0!==i?a=be(i):r||0!==(r=n&~e)&&(a=be(r)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:a}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function _e(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-me(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Ee(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-me(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Ae=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ae,ze="__reactProps$"+Ae,Re="__reactContainer$"+Ae,Le="__reactEvents$"+Ae,De="__reactListeners$"+Ae,Ie="__reactHandles$"+Ae,$e="__reactResources$"+Ae,Me="__reactMarker$"+Ae;function Fe(e){delete e[Oe],delete e[ze],delete e[Le],delete e[De],delete e[Ie]}function Be(e){var t=e[Oe];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Re]||r[Oe]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=kd(e);null!==e;){if(r=e[Oe])return r;e=kd(e)}return t}r=(e=r).parentNode}return null}function Ue(e){if(e=e[Oe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function He(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Me]=!0}var Ke=new Set,We={};function Ye(e,t){Ve(e,t),Ve(e+"Capture",t)}function Ve(e,t){for(We[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(a=t,Q.call(et,a)||!Q.call(Ze,a)&&(Xe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function at(e){if(void 0===Qe)try{throw Error()}catch(Sr){var t=Sr.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Je=-1<Sr.stack.indexOf("\n    at")?" (<anonymous>)":-1<Sr.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Je}var st=!1;function it(e,t){if(!e||st)return"";st=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(Sr){var n=Sr}Reflect.construct(e,[],r)}else{try{r.call()}catch(a){n=a}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(i){if(i&&n&&"string"===typeof i.stack)return[i.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(Sr){return"\nError generating stack: "+Sr.message+"\n"+Sr.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(nr){return e.body}}var ft=/[\n"\\]/g;function pt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,n,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,ct(t)):null!=r?bt(e,i,ct(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,r,n,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function bt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(i(92));if(z(n)){if(1<n.length)throw Error(i(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function wt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||jt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Nt(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&_t(e,a,n)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,zt=null;function Rt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var r=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[ze]||null;if(!a)throw Error(i(90));gt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":vt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&xt(e,!!r.multiple,t,!1)}}}var Lt=!1;function Dt(e,t,r){if(Lt)return e(t,r);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Ot||null!==zt)&&(qc(),Ot&&(t=Ot,e=zt,zt=Ot=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function It(e,t){var r=e.stateNode;if(null===r)return null;var n=r[ze]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var $t=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Mt=!1;if($t)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(nr){Mt=!1}var Bt=null,Ut=null,qt=null;function Ht(){if(qt)return qt;var e,t,r=Ut,n=r.length,a="value"in Bt?Bt.value:Bt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return qt=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Wt(){return!1}function Yt(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Vt,Qt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Xt),er=h({},Xt,{view:0,detail:0}),tr=Yt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Vt=e.screenX-Jt.screenX,Qt=e.screenY-Jt.screenY):Qt=Vt=0,Jt=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),ar=Yt(rr),sr=Yt(h({},rr,{dataTransfer:0})),ir=Yt(h({},er,{relatedTarget:0})),or=Yt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),lr=Yt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cr=Yt(h({},Xt,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hr[e])&&!!t[e]}function fr(){return mr}var pr=Yt(h({},er,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gr=Yt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Yt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),br=Yt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xr=Yt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vr=Yt(h({},Xt,{newState:0,oldState:0})),kr=[9,13,27,32],wr=$t&&"CompositionEvent"in window,jr=null;$t&&"documentMode"in document&&(jr=document.documentMode);var _r=$t&&"TextEvent"in window&&!jr,Nr=$t&&(!wr||jr&&8<jr&&11>=jr),Er=String.fromCharCode(32),Cr=!1;function Tr(e,t){switch(e){case"keyup":return-1!==kr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ar=!1;var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}function Rr(e,t,r,n){Ot?zt?zt.push(n):zt=[n]:Ot=n,0<(t=Ku(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Lr=null,Dr=null;function Ir(e){$u(e,0)}function $r(e){if(ht(qe(e)))return e}function Mr(e,t){if("change"===e)return t}var Fr=!1;if($t){var Br;if($t){var Ur="oninput"in document;if(!Ur){var qr=document.createElement("div");qr.setAttribute("oninput","return;"),Ur="function"===typeof qr.oninput}Br=Ur}else Br=!1;Fr=Br&&(!document.documentMode||9<document.documentMode)}function Hr(){Lr&&(Lr.detachEvent("onpropertychange",Gr),Dr=Lr=null)}function Gr(e){if("value"===e.propertyName&&$r(Dr)){var t=[];Rr(t,Dr,e,At(e)),Dt(Ir,t)}}function Kr(e,t,r){"focusin"===e?(Hr(),Dr=r,(Lr=t).attachEvent("onpropertychange",Gr)):"focusout"===e&&Hr()}function Wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(Dr)}function Yr(e,t){if("click"===e)return $r(t)}function Vr(e,t){if("input"===e||"change"===e)return $r(t)}var Qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jr(e,t){if(Qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Q.call(t,a)||!Qr(e[a],t[a]))return!1}return!0}function Xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zr(e,t){var r,n=Xr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xr(n)}}function en(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?en(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tn(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nn=$t&&"documentMode"in document&&11>=document.documentMode,an=null,sn=null,on=null,ln=!1;function cn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ln||null==an||an!==mt(n)||("selectionStart"in(n=an)&&rn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},on&&Jr(on,n)||(on=n,0<(n=Ku(sn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=an)))}function un(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},hn={},mn={};function fn(e){if(hn[e])return hn[e];if(!dn[e])return e;var t,r=dn[e];for(t in r)if(r.hasOwnProperty(t)&&t in mn)return hn[e]=r[t];return e}$t&&(mn=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);var pn=fn("animationend"),gn=fn("animationiteration"),yn=fn("animationstart"),bn=fn("transitionrun"),xn=fn("transitionstart"),vn=fn("transitioncancel"),kn=fn("transitionend"),wn=new Map,jn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){wn.set(e,t),Ye(t,[e])}jn.push("scrollEnd");var Nn=new WeakMap;function Sn(e,t){if("object"===typeof e&&null!==e){var r=Nn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},Nn.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var En=[],Cn=0,Tn=0;function Pn(){for(var e=Cn,t=Tn=Cn=0;t<e;){var r=En[t];En[t++]=null;var n=En[t];En[t++]=null;var a=En[t];En[t++]=null;var s=En[t];if(En[t++]=null,null!==n&&null!==a){var i=n.pending;null===i?a.next=a:(a.next=i.next,i.next=a),n.pending=a}0!==s&&Rn(r,a,s)}}function An(e,t,r,n){En[Cn++]=e,En[Cn++]=t,En[Cn++]=r,En[Cn++]=n,Tn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function On(e,t,r,n){return An(e,t,r,n),Ln(e)}function zn(e,t){return An(e,null,null,t),Ln(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(n=s.alternate)&&(n.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-me(r),null===(n=(e=s.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),s):null}function Ln(e){if(50<Rc)throw Rc=0,Lc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dn={};function In(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,r,n){return new In(e,t,r,n)}function Mn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=$n(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,r,n,a,s){var o=0;if(n=e,"function"===typeof e)Mn(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=$n(31,r,t,a)).elementType=E,e.lanes=s,e;case g:return qn(r.children,a,s,t);case y:o=8,a|=24;break;case b:return(e=$n(12,r,t,2|a)).elementType=b,e.lanes=s,e;case j:return(e=$n(13,r,t,a)).elementType=j,e.lanes=s,e;case _:return(e=$n(19,r,t,a)).elementType=_,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case k:o=10;break e;case v:o=9;break e;case w:o=11;break e;case N:o=14;break e;case S:o=16,n=null;break e}o=29,r=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=$n(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function qn(e,t,r,n){return(e=$n(7,e,n,t)).lanes=r,e}function Hn(e,t,r){return(e=$n(6,e,null,t)).lanes=r,e}function Gn(e,t,r){return(t=$n(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kn=[],Wn=0,Yn=null,Vn=0,Qn=[],Jn=0,Xn=null,Zn=1,ea="";function ta(e,t){Kn[Wn++]=Vn,Kn[Wn++]=Yn,Yn=e,Vn=t}function ra(e,t,r){Qn[Jn++]=Zn,Qn[Jn++]=ea,Qn[Jn++]=Xn,Xn=e;var n=Zn;e=ea;var a=32-me(n)-1;n&=~(1<<a),r+=1;var s=32-me(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Zn=1<<32-me(t)+a|r<<a|n,ea=s+e}else Zn=1<<s|r<<a|n,ea=e}function na(e){null!==e.return&&(ta(e,1),ra(e,1,0))}function aa(e){for(;e===Yn;)Yn=Kn[--Wn],Kn[Wn]=null,Vn=Kn[--Wn],Kn[Wn]=null;for(;e===Xn;)Xn=Qn[--Jn],Qn[Jn]=null,ea=Qn[--Jn],Qn[Jn]=null,Zn=Qn[--Jn],Qn[Jn]=null}var sa=null,ia=null,oa=!1,la=null,ca=!1,ua=Error(i(519));function da(e){throw ya(Sn(Error(i(418,"")),e)),ua}function ha(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Oe]=e,t[ze]=n,r){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(r=0;r<Du.length;r++)Mu(Du[r],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),kt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Xu(t.textContent,r)?(null!=n.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=n.onScroll&&Mu("scroll",t),null!=n.onScrollEnd&&Mu("scrollend",t),null!=n.onClick&&(t.onclick=Zu),t=!0):t=!1,t||da(e)}function ma(e){for(sa=e.return;sa;)switch(sa.tag){case 5:case 13:return void(ca=!1);case 27:case 3:return void(ca=!0);default:sa=sa.return}}function fa(e){if(e!==sa)return!1;if(!oa)return ma(e),oa=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&ia&&da(e),ma(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){ia=xd(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}ia=null}}else 27===r?(r=ia,pd(e.type)?(e=vd,vd=null,ia=e):ia=r):ia=sa?xd(e.stateNode.nextSibling):null;return!0}function pa(){ia=sa=null,oa=!1}function ga(){var e=la;return null!==e&&(null===kc?kc=e:kc.push.apply(kc,e),la=null),e}function ya(e){null===la?la=[e]:la.push(e)}var ba=M(null),xa=null,va=null;function ka(e,t,r){B(ba,t._currentValue),t._currentValue=r}function wa(e){e._currentValue=ba.current,F(ba)}function ja(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _a(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),ja(s.return,r,e),n||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),ja(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Na(e,t,r,n){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Qr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&_a(t,e,r,n),t.flags|=262144}function Sa(e){for(e=e.firstContext;null!==e;){if(!Qr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){xa=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return Pa(xa,e)}function Ta(e,t){return null===xa&&Ea(e),Pa(e,t)}function Pa(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===va){if(null===e)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return r}var Aa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oa=n.unstable_scheduleCallback,za=n.unstable_NormalPriority,Ra={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function La(){return{controller:new Aa,data:new Map,refCount:0}}function Da(e){e.refCount--,0===e.refCount&&Oa(za,function(){e.controller.abort()})}var Ia=null,$a=0,Ma=0,Fa=null;function Ba(){if(0===--$a&&null!==Ia){null!==Fa&&(Fa.status="fulfilled");var e=Ia;Ia=null,Ma=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ia){var r=Ia=[];$a=0,Ma=Au(),Fa={status:"pending",value:void 0,then:function(e){r.push(e)}}}$a++,t.then(Ba,Ba)}(0,t),null!==Ua&&Ua(e,t)};var qa=M(null);function Ha(){var e=qa.current;return null!==e?e:sc.pooledCache}function Ga(e,t){B(qa,null===t?qa.current:t.pool)}function Ka(){var e=Ha();return null===e?null:{parent:Ra._currentValue,pool:e}}var Wa=Error(i(460)),Ya=Error(i(474)),Va=Error(i(542)),Qa={then:function(){}};function Ja(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Za(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Xa,Xa),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw rs(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw rs(e=t.reason),e}throw es=t,Wa}}var es=null;function ts(){if(null===es)throw Error(i(459));var e=es;return es=null,e}function rs(e){if(e===Wa||e===Va)throw Error(i(483))}var ns=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function os(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&ac)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Ln(e),Rn(e,null,r),t}return An(e,n,t,r),Ln(e)}function ls(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ee(e,r)}}function cs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==Fa)throw Fa}}function hs(e,t,r,n){us=!1;var a=e.updateQueue;ns=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var m=-536870913&o.lane,f=m!==o.lane;if(f?(oc&m)===m:(n&m)===m){0!==m&&m===Ma&&(us=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;m=t;var y=r;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(y,d,m);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=g.payload)?p.call(y,d,m):p)||void 0===m)break e;d=h({},d,m);break e;case 2:ns=!0}}null!==(m=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[m]:f.push(m))}else f={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),pc|=i,e.lanes=i,e.memoizedState=d}}function ms(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function fs(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ms(r[e],t)}var ps=M(null),gs=M(0);function ys(e,t){B(gs,e=mc),B(ps,t),mc=e|t.baseLanes}function bs(){B(gs,mc),B(ps,ps.current)}function xs(){mc=gs.current,F(ps),F(gs)}var vs=0,ks=null,ws=null,js=null,_s=!1,Ns=!1,Ss=!1,Es=0,Cs=0,Ts=null,Ps=0;function As(){throw Error(i(321))}function Os(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qr(e[r],t[r]))return!1;return!0}function zs(e,t,r,n,a,s){return vs=s,ks=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Wi:Yi,Ss=!1,s=r(n,a),Ss=!1,Ns&&(s=Ls(t,r,n,a)),Rs(e),s}function Rs(e){R.H=Ki;var t=null!==ws&&null!==ws.next;if(vs=0,js=ws=ks=null,_s=!1,Cs=0,Ts=null,t)throw Error(i(300));null===e||To||null!==(e=e.dependencies)&&Sa(e)&&(To=!0)}function Ls(e,t,r,n){ks=e;var a=0;do{if(Ns&&(Ts=null),Cs=0,Ns=!1,25<=a)throw Error(i(301));if(a+=1,js=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Vi,s=t(r,n)}while(Ns);return s}function Ds(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Us(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(ks.flags|=1024),t}function Is(){var e=0!==Es;return Es=0,e}function $s(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ms(e){if(_s){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_s=!1}vs=0,js=ws=ks=null,Ns=!1,Cs=Es=0,Ts=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===js?ks.memoizedState=js=e:js=js.next=e,js}function Bs(){if(null===ws){var e=ks.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===js?ks.memoizedState:js.next;if(null!==t)js=t,ws=e;else{if(null===e){if(null===ks.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===js?ks.memoizedState=js=e:js=js.next=e}return js}function Us(e){var t=Cs;return Cs+=1,null===Ts&&(Ts=[]),e=Za(Ts,e,t),t=ks,null===(null===js?t.memoizedState:js.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Wi:Yi),e}function qs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Us(e);if(e.$$typeof===k)return Ca(e)}throw Error(i(438,String(e)))}function Hs(e){var t=null,r=ks.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=ks.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},ks.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=C;return t.index++,r}function Gs(e,t){return"function"===typeof t?t(e):t}function Ks(e){return Ws(Bs(),ws,e)}function Ws(e,t,r){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=r;var a=e.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,n.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(vs&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ma&&(d=!0);else{if((vs&m)===m){u=u.next,m===Ma&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,ks.lanes|=m,pc|=m}h=u.action,Ss&&r(s,h),s=u.hasEagerState?u.eagerState:r(s,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=s):c=c.next=m,ks.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qr(s,e.memoizedState)&&(To=!0,d&&null!==(r=Fa)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ys(e){var t=Bs(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Qr(s,t.memoizedState)||(To=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Vs(e,t,r){var n=ks,a=Bs(),s=oa;if(s){if(void 0===r)throw Error(i(407));r=r()}else r=t();var o=!Qr((ws||a).memoizedState,r);if(o&&(a.memoizedState=r,To=!0),a=a.queue,bi(2048,8,Xs.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==js&&1&js.memoizedState.tag){if(n.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Js.bind(null,n,a,r,t),null),null===sc)throw Error(i(349));s||0!==(124&vs)||Qs(n,t,r)}return r}function Qs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ks.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ks.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Js(e,t,r,n){t.value=r,t.getSnapshot=n,Zs(t)&&ei(e)}function Xs(e,t,r){return r(function(){Zs(t)&&ei(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qr(e,r)}catch(n){return!0}}function ei(e){var t=zn(e,2);null!==t&&$c(t,e,2)}function ti(e){var t=Fs();if("function"===typeof e){var r=e;if(e=r(),Ss){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:e},t}function ri(e,t,r,n){return e.baseState=r,Ws(e,ws,"function"===typeof n?n:Gs)}function ni(e,t,r,n,a){if(qi(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?r(!0):s.isTransition=!1,n(s),null===(r=t.pending)?(s.next=t.pending=s,ai(t,s)):(s.next=r.next,t.pending=r.next=s)}}function ai(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var s=R.T,i={};R.T=i;try{var o=r(a,n),l=R.S;null!==l&&l(i,o),si(e,t,o)}catch(c){oi(e,t,c)}finally{R.T=s}}else try{si(e,t,s=r(a,n))}catch(u){oi(e,t,u)}}function si(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){ii(e,t,r)},function(r){return oi(e,t,r)}):ii(e,t,r)}function ii(e,t,r){t.status="fulfilled",t.value=r,li(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ai(e,r)))}function oi(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,li(t),t=t.next}while(t!==n)}e.action=null}function li(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ci(e,t){return t}function ui(e,t){if(oa){var r=sc.formState;if(null!==r){e:{var n=ks;if(oa){if(ia){t:{for(var a=ia,s=ca;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=xd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ia=xd(a.nextSibling),n="F!"===a.data;break e}}da(n)}n=!1}n&&(t=r[0])}}return(r=Fs()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},r.queue=n,r=Fi.bind(null,ks,n),n.dispatch=r,n=ti(!1),s=Ui.bind(null,ks,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=Fs()).queue=a,r=ni.bind(null,ks,a,s,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function di(e){return hi(Bs(),ws,e)}function hi(e,t,r){if(t=Ws(e,t,ci)[0],e=Ks(Gs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Us(t)}catch(Sr){if(Sr===Wa)throw Va;throw Sr}else n=t;var a=(t=Bs()).queue,s=a.dispatch;return r!==t.memoizedState&&(ks.flags|=2048,pi(9,{destroy:void 0,resource:void 0},mi.bind(null,a,r),null)),[n,s,e]}function mi(e,t){e.action=t}function fi(e){var t=Bs(),r=ws;if(null!==r)return hi(t,r,e);Bs(),t=t.memoizedState;var n=(r=Bs()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function pi(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=ks.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ks.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function gi(){return Bs().memoizedState}function yi(e,t,r,n){var a=Fs();n=void 0===n?null:n,ks.flags|=e,a.memoizedState=pi(1|t,{destroy:void 0,resource:void 0},r,n)}function bi(e,t,r,n){var a=Bs();n=void 0===n?null:n;var s=a.memoizedState.inst;null!==ws&&null!==n&&Os(n,ws.memoizedState.deps)?a.memoizedState=pi(t,s,r,n):(ks.flags|=e,a.memoizedState=pi(1|t,s,r,n))}function xi(e,t){yi(8390656,8,e,t)}function vi(e,t){bi(2048,8,e,t)}function ki(e,t){return bi(4,2,e,t)}function wi(e,t){return bi(4,4,e,t)}function ji(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function _i(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,bi(4,4,ji.bind(null,t,e),r)}function Ni(){}function Si(e,t){var r=Bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Os(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ei(e,t){var r=Bs();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Os(t,n[1]))return n[0];if(n=e(),Ss){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function Ci(e,t,r){return void 0===r||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=r,e=Ic(),ks.lanes|=e,pc|=e,r)}function Ti(e,t,r,n){return Qr(r,t)?r:null!==ps.current?(e=Ci(e,r,n),Qr(e,t)||(To=!0),e):0===(42&vs)?(To=!0,e.memoizedState=r):(e=Ic(),ks.lanes|=e,pc|=e,t)}function Pi(e,t,r,n,a){var s=L.p;L.p=0!==s&&8>s?s:8;var i=R.T,o={};R.T=o,Ui(e,!1,t,r);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n);Bi(e,t,u,Dc())}else Bi(e,t,n,Dc())}catch(d){Bi(e,t,{then:function(){},status:"rejected",reason:d},Dc())}finally{L.p=s,R.T=i}}function Ai(){}function Oi(e,t,r,n){if(5!==e.tag)throw Error(i(476));var a=zi(e).queue;Pi(e,a,t,D,null===r?Ai:function(){return Ri(e),r(n)})}function zi(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:D},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ri(e){Bi(e,zi(e).next.queue,{},Dc())}function Li(){return Ca(Qd)}function Di(){return Bs().memoizedState}function Ii(){return Bs().memoizedState}function $i(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Dc(),n=os(t,e=is(r),r);return null!==n&&($c(n,t,r),ls(n,t,r)),t={cache:La()},void(e.payload=t)}t=t.return}}function Mi(e,t,r){var n=Dc();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qi(e)?Hi(t,r):null!==(r=On(e,t,r,n))&&($c(r,e,n),Gi(r,t,n))}function Fi(e,t,r){Bi(e,t,r,Dc())}function Bi(e,t,r,n){var a={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Hi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Qr(o,i))return An(e,t,a,0),null===sc&&Pn(),!1}catch(l){}if(null!==(r=On(e,t,a,n)))return $c(r,e,n),Gi(r,t,n),!0}return!1}function Ui(e,t,r,n){if(n={lane:2,revertLane:Au(),action:n,hasEagerState:!1,eagerState:null,next:null},qi(e)){if(t)throw Error(i(479))}else null!==(t=On(e,r,n,2))&&$c(t,e,2)}function qi(e){var t=e.alternate;return e===ks||null!==t&&t===ks}function Hi(e,t){Ns=_s=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gi(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ee(e,r)}}var Ki={readContext:Ca,use:qs,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Wi={readContext:Ca,use:qs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:xi,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,yi(4194308,4,ji.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){yi(4,2,e,t)},useMemo:function(e,t){var r=Fs();t=void 0===t?null:t;var n=e();if(Ss){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Fs();if(void 0!==r){var a=r(t);if(Ss){he(!0);try{r(t)}finally{he(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=Mi.bind(null,ks,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=ti(e)).queue,r=Fi.bind(null,ks,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Ni,useDeferredValue:function(e,t){return Ci(Fs(),e,t)},useTransition:function(){var e=ti(!1);return e=Pi.bind(null,ks,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=ks,a=Fs();if(oa){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===sc)throw Error(i(349));0!==(124&oc)||Qs(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,xi(Xs.bind(null,n,s,e),[e]),n.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Js.bind(null,n,s,r,t),null),r},useId:function(){var e=Fs(),t=sc.identifierPrefix;if(oa){var r=ea;t="\xab"+t+"R"+(r=(Zn&~(1<<32-me(Zn)-1)).toString(32)+r),0<(r=Es++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Ps++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Li,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Ui.bind(null,ks,!0,r),r.dispatch=t,[e,t]},useMemoCache:Hs,useCacheRefresh:function(){return Fs().memoizedState=$i.bind(null,ks)}},Yi={readContext:Ca,use:qs,useCallback:Si,useContext:Ca,useEffect:vi,useImperativeHandle:_i,useInsertionEffect:ki,useLayoutEffect:wi,useMemo:Ei,useReducer:Ks,useRef:gi,useState:function(){return Ks(Gs)},useDebugValue:Ni,useDeferredValue:function(e,t){return Ti(Bs(),ws.memoizedState,e,t)},useTransition:function(){var e=Ks(Gs)[0],t=Bs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Vs,useId:Di,useHostTransitionStatus:Li,useFormState:di,useActionState:di,useOptimistic:function(e,t){return ri(Bs(),0,e,t)},useMemoCache:Hs,useCacheRefresh:Ii},Vi={readContext:Ca,use:qs,useCallback:Si,useContext:Ca,useEffect:vi,useImperativeHandle:_i,useInsertionEffect:ki,useLayoutEffect:wi,useMemo:Ei,useReducer:Ys,useRef:gi,useState:function(){return Ys(Gs)},useDebugValue:Ni,useDeferredValue:function(e,t){var r=Bs();return null===ws?Ci(r,e,t):Ti(r,ws.memoizedState,e,t)},useTransition:function(){var e=Ys(Gs)[0],t=Bs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Vs,useId:Di,useHostTransitionStatus:Li,useFormState:fi,useActionState:fi,useOptimistic:function(e,t){var r=Bs();return null!==ws?ri(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:Ii},Qi=null,Ji=0;function Xi(e){var t=Ji;return Ji+=1,null===Qi&&(Qi=[]),Za(Qi,e,t)}function Zi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function ro(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Hn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===g?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===S&&to(s)===t.type)?(Zi(t=a(t,r.props),r),t.return=e,t):(Zi(t=Un(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Gn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=qn(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Zi(r=Un(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case p:return(t=Gn(t,e.mode,r)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),r)}if(z(t)||P(t))return(t=qn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Xi(t),r);if(t.$$typeof===k)return h(e,Ta(e,t),r);eo(e,t)}return null}function m(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return r.key===a?c(e,t,r,n):null;case p:return r.key===a?u(e,t,r,n):null;case S:return m(e,t,r=(a=r._init)(r._payload),n)}if(z(r)||P(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return m(e,t,Xi(r),n);if(r.$$typeof===k)return m(e,t,Ta(e,r),n);eo(e,r)}return null}function y(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case p:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case S:return y(e,t,r,n=(0,n._init)(n._payload),a)}if(z(n)||P(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return y(e,t,r,Xi(n),a);if(n.$$typeof===k)return y(e,t,r,Ta(t,n),a);eo(t,n)}return null}function b(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===S&&to(x)===c.type){r(l,c.sibling),Zi(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=qn(u.props.children,l.mode,d,u.key)).return=l,l=d):(Zi(d=Un(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case p:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=Gn(u,l.mode,d)).return=l,l=d}return o(l);case S:return b(l,c,u=(x=u._init)(u._payload),d)}if(z(u))return function(a,i,o,l){for(var c=null,u=null,d=i,f=i=0,p=null;null!==d&&f<o.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var g=m(a,d,o[f],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(a,d),i=s(g,i,f),null===u?c=g:u.sibling=g,u=g,d=p}if(f===o.length)return r(a,d),oa&&ta(a,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(a,o[f],l))&&(i=s(d,i,f),null===u?c=d:u.sibling=d,u=d);return oa&&ta(a,f),c}for(d=n(d);f<o.length;f++)null!==(p=y(d,a,f,o[f],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),i=s(p,i,f),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(a,e)}),oa&&ta(a,f),c}(l,c,u,d);if(P(u)){if("function"!==typeof(x=P(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,f=o,p=o=0,g=null,b=l.next();null!==f&&!b.done;p++,b=l.next()){f.index>p?(g=f,f=null):g=f.sibling;var x=m(a,f,b.value,c);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(a,f),o=s(x,o,p),null===d?u=x:d.sibling=x,d=x,f=g}if(b.done)return r(a,f),oa&&ta(a,p),u;if(null===f){for(;!b.done;p++,b=l.next())null!==(b=h(a,b.value,c))&&(o=s(b,o,p),null===d?u=b:d.sibling=b,d=b);return oa&&ta(a,p),u}for(f=n(f);!b.done;p++,b=l.next())null!==(b=y(f,a,p,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?p:b.key),o=s(b,o,p),null===d?u=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(a,e)}),oa&&ta(a,p),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return b(l,c,Xi(u),d);if(u.$$typeof===k)return b(l,c,Ta(l,u),d);eo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=Hn(u,l.mode,d)).return=l,l=d),o(l)):r(l,c)}return function(e,t,r,n){try{Ji=0;var a=b(e,t,r,n);return Qi=null,a}catch(Sr){if(Sr===Wa||Sr===Va)throw Sr;var s=$n(29,Sr,null,e.mode);return s.lanes=n,s.return=e,s}}}var no=ro(!0),ao=ro(!1),so=M(null),io=null;function oo(e){var t=e.alternate;B(ho,1&ho.current),B(so,e),null===io&&(null===t||null!==ps.current||null!==t.memoizedState)&&(io=e)}function lo(e){if(22===e.tag){if(B(ho,ho.current),B(so,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else co()}function co(){B(ho,ho.current),B(so,so.current)}function uo(e){F(so),io===e&&(io=null),F(ho)}var ho=M(0);function mo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||bd(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var po={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=is(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=os(e,a,n))&&($c(t,e,n),ls(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dc(),a=is(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=os(e,a,n))&&($c(t,e,n),ls(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dc(),n=is(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=os(e,n,r))&&($c(t,e,r),ls(t,e,r))}};function go(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Jr(r,n)||!Jr(a,s))}function yo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function bo(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=h({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}var xo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){xo(e)}function ko(e){console.error(e)}function wo(e){xo(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function _o(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function No(e,t,r){return(r=is(r)).tag=3,r.payload={element:null},r.callback=function(){jo(e,t)},r}function So(e){return(e=is(e)).tag=3,e}function Eo(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var s=n.value;e.payload=function(){return a(s)},e.callback=function(){_o(t,r,n)}}var i=r.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){_o(t,r,n),"function"!==typeof a&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Co=Error(i(461)),To=!1;function Po(e,t,r,n){t.child=null===e?ao(t,null,r,n):no(t,e.child,r,n)}function Ao(e,t,r,n,a){r=r.render;var s=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return Ea(t),n=zs(e,t,r,i,s,a),o=Is(),null===e||To?(oa&&o&&na(t),t.flags|=1,Po(e,t,n,a),t.child):($s(e,t,a),Jo(e,t,a))}function Oo(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Mn(s)||void 0!==s.defaultProps||null!==r.compare?((e=Un(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zo(e,t,s,n,a))}if(s=e.child,!Xo(e,a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:Jr)(i,n)&&e.ref===t.ref)return Jo(e,t,a)}return t.flags|=1,(e=Fn(s,n)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(Jr(s,n)&&e.ref===t.ref){if(To=!1,t.pendingProps=n=s,!Xo(e,a))return t.lanes=e.lanes,Jo(e,t,a);0!==(131072&e.flags)&&(To=!0)}}return Io(e,t,r,n,a)}function Ro(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==s?s.baseLanes|r:r,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return Lo(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Lo(e,t,null!==s?s.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ga(0,null!==s?s.cachePool:null),null!==s?ys(t,s):bs(),lo(t)}else null!==s?(Ga(0,s.cachePool),ys(t,s),co(),t.memoizedState=null):(null!==e&&Ga(0,null),bs(),co());return Po(e,t,a,r),t.child}function Lo(e,t,r,n){var a=Ha();return a=null===a?null:{parent:Ra._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&Ga(0,null),bs(),lo(t),null!==e&&Na(e,t,n,!0),null}function Do(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(i(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Io(e,t,r,n,a){return Ea(t),r=zs(e,t,r,n,void 0,a),n=Is(),null===e||To?(oa&&n&&na(t),t.flags|=1,Po(e,t,r,a),t.child):($s(e,t,a),Jo(e,t,a))}function $o(e,t,r,n,a,s){return Ea(t),t.updateQueue=null,r=Ls(t,n,r,a),Rs(e),n=Is(),null===e||To?(oa&&n&&na(t),t.flags|=1,Po(e,t,r,s),t.child):($s(e,t,s),Jo(e,t,s))}function Mo(e,t,r,n,a){if(Ea(t),null===t.stateNode){var s=Dn,i=r.contextType;"object"===typeof i&&null!==i&&(s=Ca(i)),s=new r(n,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=po,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=n,s.state=t.memoizedState,s.refs={},as(t),i=r.contextType,s.context="object"===typeof i&&null!==i?Ca(i):Dn,s.state=t.memoizedState,"function"===typeof(i=r.getDerivedStateFromProps)&&(fo(t,r,i,n),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&po.enqueueReplaceState(s,s.state,null),hs(t,n,s,a),ds(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=bo(r,o);s.props=l;var c=s.context,u=r.contextType;i=Dn,"object"===typeof u&&null!==u&&(i=Ca(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&yo(t,s,n,i),ns=!1;var h=t.memoizedState;s.state=h,hs(t,n,s,a),ds(),c=t.memoizedState,o||h!==c||ns?("function"===typeof d&&(fo(t,r,d,n),c=t.memoizedState),(l=ns||go(t,r,l,n,h,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=i,n=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ss(e,t),u=bo(r,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=r.contextType,l=Dn,"object"===typeof c&&null!==c&&(l=Ca(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&yo(t,s,n,l),ns=!1,h=t.memoizedState,s.state=h,hs(t,n,s,a),ds();var m=t.memoizedState;i!==d||h!==m||ns||null!==e&&null!==e.dependencies&&Sa(e.dependencies)?("function"===typeof o&&(fo(t,r,o,n),m=t.memoizedState),(u=ns||go(t,r,u,n,h,m,l)||null!==e&&null!==e.dependencies&&Sa(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Do(e,t),n=0!==(128&t.flags),s||n?(s=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&n?(t.child=no(t,e.child,null,a),t.child=no(t,null,r,a)):Po(e,t,r,a),t.memoizedState=s.state,e=t.child):e=Jo(e,t,a),e}function Fo(e,t,r,n){return pa(),t.flags|=256,Po(e,t,r,n),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Ka()}}function qo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=bc),e}function Ho(e,t,r){var n,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&ho.current)),n&&(s=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(oa){if(s?oo(t):co(),oa){var l,c=ia;if(l=c){e:{for(l=c,c=ca;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xn?{id:Zn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},(l=$n(18,null,null,0)).stateNode=c,l.return=t,t.child=l,sa=t,ia=null,l=!0):l=!1}l||da(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return bd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=a.children,a=a.fallback,s?(co(),c=Ko({mode:"hidden",children:c},s=t.mode),a=qn(a,s,r,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Uo(r),s.childLanes=qo(e,n,r),t.memoizedState=Bo,a):(oo(t),Go(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Wo(e,t,r)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),s=a.fallback,c=t.mode,a=Ko({mode:"visible",children:a.children},c),(s=qn(s,c,r,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,no(t,e.child,null,r),(a=t.child).memoizedState=Uo(r),a.childLanes=qo(e,n,r),t.memoizedState=Bo,t=s);else if(oo(t),bd(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(i(419))).stack="",a.digest=n,ya({value:a,source:null,stack:null}),t=Wo(e,t,r)}else if(To||Na(e,t,r,!1),n=0!==(r&e.childLanes),To||n){if(null!==(n=sc)&&(0!==(a=0!==((a=0!==(42&(a=r&-r))?1:Ce(a))&(n.suspendedLanes|r))?0:a)&&a!==l.retryLane))throw l.retryLane=a,zn(e,a),$c(n,e,a),Co;"$?"===c.data||Vc(),t=Wo(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ia=xd(c.nextSibling),sa=t,oa=!0,la=null,ca=!1,null!==e&&(Qn[Jn++]=Zn,Qn[Jn++]=ea,Qn[Jn++]=Xn,Zn=e.id,ea=e.overflow,Xn=t),(t=Go(t,a.children)).flags|=4096);return t}return s?(co(),s=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Fn(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fn(u,s):(s=qn(s,c,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Uo(r):(null!==(l=c.cachePool)?(u=Ra._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ka(),c={baseLanes:c.baseLanes|r,cachePool:l}),s.memoizedState=c,s.childLanes=qo(e,n,r),t.memoizedState=Bo,a):(oo(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Go(e,t){return(t=Ko({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ko(e,t){return(e=$n(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,r){return no(t,e.child,null,r),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ja(e.return,t,r)}function Vo(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Qo(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Po(e,t,n.children,r),0!==(2&(n=ho.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,r,t);else if(19===e.tag)Yo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(B(ho,n),a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===mo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Vo(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===mo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Vo(t,!0,r,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Na(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Sa(e))}function Zo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!Xo(e,r)&&0===(128&t.flags))return To=!1,function(e,t,r){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ka(0,Ra,e.memoizedState.cache),pa();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ka(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(oo(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Ho(e,t,r):(oo(t),null!==(e=Jo(e,t,r))?e.sibling:null);oo(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Na(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return Qo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(ho,ho.current),n)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,r);case 24:ka(0,Ra,e.memoizedState.cache)}return Jo(e,t,r)}(e,t,r);To=0!==(131072&e.flags)}else To=!1,oa&&0!==(1048576&t.flags)&&ra(t,Vn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===w){t.tag=11,t=Ao(null,t,n,e,r);break e}if(a===N){t.tag=14,t=Oo(null,t,n,e,r);break e}}throw t=O(n)||n,Error(i(306,t,""))}Mn(n)?(e=bo(n,e),t.tag=1,t=Mo(null,t,n,e,r)):(t.tag=0,t=Io(null,t,n,e,r))}return t;case 0:return Io(e,t,t.type,t.pendingProps,r);case 1:return Mo(e,t,n=t.type,a=bo(n,t.pendingProps),r);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var s=t.memoizedState;a=s.element,ss(e,t),hs(t,n,null,r);var o=t.memoizedState;if(n=o.cache,ka(0,Ra,n),n!==s.cache&&_a(t,[Ra],r,!0),ds(),n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fo(e,t,n,r);break e}if(n!==a){ya(a=Sn(Error(i(424)),t)),t=Fo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ia=xd(e.firstChild),sa=t,oa=!0,la=null,ca=!0,r=ao(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pa(),n===a){t=Jo(e,t,r);break e}Po(e,t,n,r)}t=t.child}return t;case 26:return Do(e,t),null===e?(r=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=r:oa||(r=t.type,e=t.pendingProps,(n=sd(H.current).createElement(r))[Oe]=t,n[ze]=e,rd(n,r,e),Ge(n),t.stateNode=n):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&oa&&(n=t.stateNode=wd(t.type,t.pendingProps,H.current),sa=t,ca=!0,a=ia,pd(t.type)?(vd=a,ia=xd(n.firstChild)):ia=a),Po(e,t,t.pendingProps.children,r),Do(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oa&&((a=n=ia)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Me])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=xd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,ca))?(t.stateNode=n,sa=t,ia=xd(n.firstChild),ca=!1,a=!0):a=!1),a||da(t)),Y(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,n=s.children,ld(a,s)?n=null:null!==o&&ld(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=zs(e,t,Ds,null,null,r),Qd._currentValue=a),Do(e,t),Po(e,t,n,r),t.child;case 6:return null===e&&oa&&((e=r=ia)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=xd(e.nextSibling)))return null}return e}(r,t.pendingProps,ca))?(t.stateNode=r,sa=t,ia=null,e=!0):e=!1),e||da(t)),null;case 13:return Ho(e,t,r);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=no(t,null,n,r):Po(e,t,n,r),t.child;case 11:return Ao(e,t,t.type,t.pendingProps,r);case 7:return Po(e,t,t.pendingProps,r),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ka(0,t.type,n.value),Po(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Ea(t),n=n(a=Ca(a)),t.flags|=1,Po(e,t,n,r),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,r);case 15:return zo(e,t,t.type,t.pendingProps,r);case 19:return Qo(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Ko(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Fn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Ro(e,t,r);case 24:return Ea(t),n=Ca(Ra),null===e?(null===(a=Ha())&&(a=sc,s=La(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=r),a=s),t.memoizedState={parent:n,cache:a},as(t),ka(0,Ra,a)):(0!==(e.lanes&r)&&(ss(e,t),hs(t,null,null,r),ds()),a=e.memoizedState,s=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ka(0,Ra,n)):(n=s.cache,ka(0,Ra,n),n!==a.cache&&_a(t,[Ra],r,!0))),Po(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=so.current)&&((4194048&oc)===oc?null!==io:(62914560&oc)!==oc&&0===(536870912&oc)||t!==io))throw es=Qa,Ya;e.flags|=8192}}function rl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,xc|=t)}function nl(e,t){if(!oa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function al(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sl(e,t,r){var n=t.pendingProps;switch(aa(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return al(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(Ra),W(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?el(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ga())),al(t),null;case 26:return r=t.memoizedState,null===e?(el(t),null!==r?(al(t),tl(t,r)):(al(t),t.flags&=-16777217)):r?r!==e.memoizedState?(el(t),al(t),tl(t,r)):(al(t),t.flags&=-16777217):(e.memoizedProps!==n&&el(t),al(t),t.flags&=-16777217),null;case 27:V(t),r=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&el(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return al(t),null}e=U.current,fa(t)?ha(t):(e=wd(a,n,r),t.stateNode=e,el(t))}return al(t),null;case 5:if(V(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&el(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return al(t),null}if(e=U.current,fa(t))ha(t);else{switch(a=sd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(r,{is:n.is}):a.createElement(r)}}e[Oe]=t,e[ze]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(rd(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return al(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&el(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=H.current,fa(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=sa))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Xu(e.nodeValue,r)))||da(t)}else(e=sd(e).createTextNode(n))[Oe]=t,t.stateNode=e}return al(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fa(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Oe]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;al(t),a=!1}else a=ga(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var s=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),rl(t,t.updateQueue),al(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),al(t),null;case 10:return wa(t.type),al(t),null;case 19:if(F(ho),null===(a=t.memoizedState))return al(t),null;if(n=0!==(128&t.flags),null===(s=a.rendering))if(n)nl(a,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=mo(e))){for(t.flags|=128,nl(a,!1),e=s.updateQueue,t.updateQueue=e,rl(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Bn(r,e),r=r.sibling;return B(ho,1&ho.current|2),t.child}e=e.sibling}null!==a.tail&&te()>_c&&(t.flags|=128,n=!0,nl(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=mo(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,rl(t,e),nl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!oa)return al(t),null}else 2*te()-a.renderingStartTime>_c&&536870912!==r&&(t.flags|=128,n=!0,nl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=ho.current,B(ho,n?1&e|2:1&e),t):(al(t),null);case 22:case 23:return uo(t),xs(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(al(t),6&t.subtreeFlags&&(t.flags|=8192)):al(t),null!==(r=t.updateQueue)&&rl(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&F(qa),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wa(Ra),al(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function il(e,t){switch(aa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wa(Ra),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return V(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(ho),null;case 4:return W(),null;case 10:return wa(t.type),null;case 22:case 23:return uo(t),xs(),null!==e&&F(qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wa(Ra),null;default:return null}}function ol(e,t){switch(aa(t),t.tag){case 3:wa(Ra),W();break;case 26:case 27:case 5:V(t);break;case 4:W();break;case 13:uo(t);break;case 19:F(ho);break;case 10:wa(t.type);break;case 22:case 23:uo(t),xs(),null!==e&&F(qa);break;case 24:wa(Ra)}}function ll(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var s=r.create,i=r.inst;n=s(),i.destroy=n}r=r.next}while(r!==a)}}catch(o){hu(t,t.return,o)}}function cl(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=r,c=o;try{c()}catch(u){hu(a,l,u)}}}n=n.next}while(n!==s)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{fs(t,r)}catch(n){hu(e,e.return,n)}}}function dl(e,t,r){r.props=bo(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){hu(e,t,n)}}function hl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){hu(e,t,a)}}function ml(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){hu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){hu(e,t,s)}else r.current=null}function fl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){hu(e,e.return,a)}}function pl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(f in r){var h=r[f];if(r.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(f)||ed(e,t,f,null,n,h)}}for(var m in n){var f=n[m];if(h=r[m],n.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":s=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==h&&ed(e,t,m,f,n,h)}}return void gt(e,o,l,c,u,d,s,a);case"select":for(s in f=o=l=m=null,r)if(c=r[s],r.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:n.hasOwnProperty(s)||ed(e,t,s,null,n,c)}for(a in n)if(s=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ed(e,t,a,s,n,c)}return t=l,r=o,n=f,void(null!=m?xt(e,!!r,m,!1):!!n!==!!r&&(null!=t?xt(e,!!r,t,!0):xt(e,!!r,r?[]:"",!1)));case"textarea":for(l in f=m=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,n,a)}for(o in n)if(a=n[o],s=r[o],n.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&ed(e,t,o,a,n,s)}return void vt(e,m,f);case"option":for(var p in r)if(m=r[p],r.hasOwnProperty(p)&&null!=m&&!n.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ed(e,t,p,null,n,m);for(c in n)if(m=n[c],f=r[c],n.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else ed(e,t,c,m,n,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)m=r[g],r.hasOwnProperty(g)&&null!=m&&!n.hasOwnProperty(g)&&ed(e,t,g,null,n,m);for(u in n)if(m=n[u],f=r[u],n.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:ed(e,t,u,m,n,f)}return;default:if(St(t)){for(var y in r)m=r[y],r.hasOwnProperty(y)&&void 0!==m&&!n.hasOwnProperty(y)&&td(e,t,y,void 0,n,m);for(d in n)m=n[d],f=r[d],!n.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||td(e,t,d,m,n,f);return}}for(var b in r)m=r[b],r.hasOwnProperty(b)&&null!=m&&!n.hasOwnProperty(b)&&ed(e,t,b,null,n,m);for(h in n)m=n[h],f=r[h],!n.hasOwnProperty(h)||m===f||null==m&&null==f||ed(e,t,h,m,n,f)}(n,e.type,r,t),n[ze]=t}catch(a){hu(e,e.return,a)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zu));else if(4!==n&&(27===n&&pd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(bl(e,t,r),e=e.sibling;null!==e;)bl(e,t,r),e=e.sibling}function xl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&pd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(xl(e,t,r),e=e.sibling;null!==e;)xl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);rd(t,n,r),t[Oe]=e,t[ze]=r}catch(s){hu(e,e.return,s)}}var kl=!1,wl=!1,jl=!1,_l="function"===typeof WeakSet?WeakSet:Set,Nl=null;function Sl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ml(e,r),4&n&&ll(5,r);break;case 1:if(Ml(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){hu(r,r.return,i)}else{var a=bo(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(r,r.return,o)}}64&n&&ul(r),512&n&&hl(r,r.return);break;case 3:if(Ml(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{fs(e,t)}catch(i){hu(r,r.return,i)}}break;case 27:null===t&&4&n&&vl(r);case 26:case 5:Ml(e,r),null===t&&4&n&&fl(r),512&n&&hl(r,r.return);break;case 12:Ml(e,r);break;case 13:Ml(e,r),4&n&&Ol(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=gu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||kl)){t=null!==t&&null!==t.memoizedState||wl,a=kl;var s=wl;kl=n,(wl=t)&&!s?Bl(e,r,0!==(8772&r.subtreeFlags)):Ml(e,r),kl=a,wl=s}break;case 30:break;default:Ml(e,r)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Fe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Tl=!1;function Pl(e,t,r){for(r=r.child;null!==r;)Al(e,t,r),r=r.sibling}function Al(e,t,r){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,r)}catch(s){}switch(r.tag){case 26:wl||ml(r,t),Pl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:wl||ml(r,t);var n=Cl,a=Tl;pd(r.type)&&(Cl=r.stateNode,Tl=!1),Pl(e,t,r),jd(r.stateNode),Cl=n,Tl=a;break;case 5:wl||ml(r,t);case 6:if(n=Cl,a=Tl,Cl=null,Pl(e,t,r),Tl=a,null!==(Cl=n))if(Tl)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(r.stateNode)}catch(i){hu(r,t,i)}else try{Cl.removeChild(r.stateNode)}catch(i){hu(r,t,i)}break;case 18:null!==Cl&&(Tl?(gd(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Th(e)):gd(Cl,r.stateNode));break;case 4:n=Cl,a=Tl,Cl=r.stateNode.containerInfo,Tl=!0,Pl(e,t,r),Cl=n,Tl=a;break;case 0:case 11:case 14:case 15:wl||cl(2,r,t),wl||cl(4,r,t),Pl(e,t,r);break;case 1:wl||(ml(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&dl(r,t,n)),Pl(e,t,r);break;case 21:Pl(e,t,r);break;case 22:wl=(n=wl)||null!==r.memoizedState,Pl(e,t,r),wl=n;break;default:Pl(e,t,r)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(r){hu(t,t.return,r)}}function zl(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var n=yu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Rl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Cl=l.stateNode,Tl=!1;break e}break;case 5:Cl=l.stateNode,Tl=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===Cl)throw Error(i(160));Al(s,o,a),Cl=null,Tl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ll=null;function Dl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Il(e),4&n&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Rl(t,e),Il(e),512&n&&(wl||null===r||ml(r,r.return)),64&n&&kl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Ll;if(Rl(t,e),Il(e),512&n&&(wl||null===r||ml(r,r.return)),4&n){var s=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Me]||s[Oe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(n),a.head.insertBefore(s,a.querySelector("head > title"))),rd(s,n,r),s[Oe]=e,Ge(s),n=s;break e;case"link":var o=Bd("link","href",a).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}rd(s=a.createElement(n),n,r),a.head.appendChild(s);break;case"meta":if(o=Bd("meta","content",a).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}rd(s=a.createElement(n),n,r),a.head.appendChild(s);break;default:throw Error(i(468,n))}s[Oe]=e,Ge(s),n=s}e.stateNode=n}else Ud(a,e.type,e.stateNode);else e.stateNode=Dd(a,n,e.memoizedProps);else s!==n?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===n?Ud(a,e.type,e.stateNode):Dd(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&pl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Rl(t,e),Il(e),512&n&&(wl||null===r||ml(r,r.return)),null!==r&&4&n&&pl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Rl(t,e),Il(e),512&n&&(wl||null===r||ml(r,r.return)),32&e.flags){a=e.stateNode;try{wt(a,"")}catch(f){hu(e,e.return,f)}}4&n&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(jl=!0);break;case 6:if(Rl(t,e),Il(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){hu(e,e.return,f)}}break;case 3:if(Fd=null,a=Ll,Ll=Sd(t.containerInfo),Rl(t,e),Ll=a,Il(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(f){hu(e,e.return,f)}jl&&(jl=!1,$l(e));break;case 4:n=Ll,Ll=Sd(e.stateNode.containerInfo),Rl(t,e),Il(e),Ll=n;break;case 12:default:Rl(t,e),Il(e);break;case 13:Rl(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(jc=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,zl(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=kl,d=wl;if(kl=u||a,wl=d||c,Rl(t,e),wl=d,kl=u,Il(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||kl||wl||Fl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){hu(c,c.return,f)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){hu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,zl(e,r))));break;case 19:Rl(t,e),Il(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,zl(e,n)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(gl(n)){r=n;break}n=n.return}if(null==r)throw Error(i(160));switch(r.tag){case 27:var a=r.stateNode;xl(e,yl(e),a);break;case 5:var s=r.stateNode;32&r.flags&&(wt(s,""),r.flags&=-33),xl(e,yl(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;bl(e,yl(e),o);break;default:throw Error(i(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Fl(t);break;case 1:ml(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&dl(t,t.return,r),Fl(t);break;case 27:jd(t.stateNode);case 26:case 5:ml(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Bl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Bl(a,s,r),ll(4,s);break;case 1:if(Bl(a,s,r),"function"===typeof(a=(n=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){hu(n,n.return,c)}if(null!==(a=(n=s).updateQueue)){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ms(l[a],o)}catch(c){hu(n,n.return,c)}}r&&64&i&&ul(s),hl(s,s.return);break;case 27:vl(s);case 26:case 5:Bl(a,s,r),r&&null===n&&4&i&&fl(s),hl(s,s.return);break;case 12:Bl(a,s,r);break;case 13:Bl(a,s,r),r&&4&i&&Ol(a,s);break;case 22:null===s.memoizedState&&Bl(a,s,r),hl(s,s.return);break;case 30:break;default:Bl(a,s,r)}t=t.sibling}}function Ul(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Da(r))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e))}function Hl(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gl(e,t,r,n),t=t.sibling}function Gl(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,r,n),2048&a&&ll(9,t);break;case 1:case 13:default:Hl(e,t,r,n);break;case 3:Hl(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Da(e)));break;case 12:if(2048&a){Hl(e,t,r,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Hl(e,t,r,n);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Hl(e,t,r,n):Wl(e,t):2&s._visibility?Hl(e,t,r,n):(s._visibility|=2,Kl(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&a&&Ul(i,t);break;case 24:Hl(e,t,r,n),2048&a&&ql(t.alternate,t)}}function Kl(e,t,r,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=r,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:Kl(s,i,o,l,a),ll(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Kl(s,i,o,l,a):Wl(s,i):(u._visibility|=2,Kl(s,i,o,l,a)),a&&2048&c&&Ul(i.alternate,i);break;case 24:Kl(s,i,o,l,a),a&&2048&c&&ql(i.alternate,i);break;default:Kl(s,i,o,l,a)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Wl(r,n),2048&a&&Ul(n.alternate,n);break;case 24:Wl(r,n),2048&a&&ql(n.alternate,n);break;default:Wl(r,n)}t=t.sibling}}var Yl=8192;function Vl(e){if(e.subtreeFlags&Yl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Vl(e),e.flags&Yl&&null!==e.memoizedState&&function(e,t,r){if(null===Hd)throw Error(i(475));var n=Hd;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ad(r.href),s=e.querySelector(Od(a));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Kd.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,void Ge(s);s=e.ownerDocument||e,r=zd(r),(a=_d.get(a))&&$d(r,a),Ge(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),rd(s,"link",r),t.instance=s}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Kd.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Vl(e);break;case 3:case 4:var t=Ll;Ll=Sd(e.stateNode.containerInfo),Vl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Yl,Yl=16777216,Vl(e),Yl=t):Vl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Nl=n,tc(n,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xl(e)}}function ec(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Nl=n,tc(n,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==Nl;){var r=Nl;switch(r.tag){case 0:case 11:case 15:cl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Da(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Nl=n;else e:for(r=e;null!==Nl;){var a=(n=Nl).sibling,s=n.return;if(El(n),n===r){Nl=null;break e}if(null!==a){a.return=s,Nl=a;break e}Nl=s}}}var rc={getCacheForType:function(e){var t=Ca(Ra),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},nc="function"===typeof WeakMap?WeakMap:Map,ac=0,sc=null,ic=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,mc=0,fc=0,pc=0,gc=0,yc=0,bc=0,xc=0,vc=null,kc=null,wc=!1,jc=0,_c=1/0,Nc=null,Sc=null,Ec=0,Cc=null,Tc=null,Pc=0,Ac=0,Oc=null,zc=null,Rc=0,Lc=null;function Dc(){if(0!==(2&ac)&&0!==oc)return oc&-oc;if(null!==R.T){return 0!==Ma?Ma:Au()}return Pe()}function Ic(){0===bc&&(bc=0===(536870912&oc)||oa?we():536870912);var e=so.current;return null!==e&&(e.flags|=32),bc}function $c(e,t,r){(e!==sc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Gc(e,0),Uc(e,oc,bc,!1)),Ne(e,r),0!==(2&ac)&&e===sc||(e===sc&&(0===(2&ac)&&(gc|=r),4===fc&&Uc(e,oc,bc,!1)),_u(e))}function Mc(e,t,r){if(0!==(6&ac))throw Error(i(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),a=n?function(e,t){var r=ac;ac|=2;var n=Wc(),a=Yc();sc!==e||oc!==t?(Nc=null,_c=te()+500,Gc(e,t)):dc=ve(e,t);e:for(;;)try{if(0!==lc&&null!==ic){t=ic;var s=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,s,1);break;case 2:case 9:if(Ja(s)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||sc!==e||(lc=7),_u(e)},s.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Ja(s)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,s,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||qd(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,ru(u)):ic=null}break t}}lc=0,cc=null,tu(e,t,s,5);break;case 6:lc=0,cc=null,tu(e,t,s,6);break;case 8:Hc(),fc=6;break e;default:throw Error(i(462))}}Xc();break}catch(d){Kc(e,d)}return va=xa=null,R.H=n,R.A=a,ac=r,null!==ic?0:(sc=null,oc=0,Pn(),fc)}(e,t):Qc(e,t,!0),s=n;;){if(0===a){dc&&!n&&Uc(e,t,0,!1);break}if(r=e.current.alternate,!s||Bc(r)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Gc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,gc|=s,a=4;break e}s=kc,kc=a,null!==s&&(null===kc?kc=s:kc.push.apply(kc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Gc(e,0),Uc(e,t,0,!0);break}e:{switch(n=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Uc(n,t,bc,!uc);break e;case 2:kc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=jc+300-te())){if(Uc(n,t,bc,!uc),0!==xe(n,0,!0))break e;n.timeoutHandle=ud(Fc.bind(null,n,r,kc,Nc,wc,t,bc,gc,xc,uc,s,2,-0,0),a)}else Fc(n,r,kc,Nc,wc,t,bc,gc,xc,uc,s,0,-0,0)}break}a=Qc(e,t,!1),s=!1}_u(e)}function Fc(e,t,r,n,a,s,o,l,c,u,d,h,m,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Hd={stylesheets:null,count:0,unsuspend:Gd},Ql(t),null!==(h=function(){if(null===Hd)throw Error(i(475));var e=Hd;return e.stylesheets&&0===e.count&&Yd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Yd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(au.bind(null,e,t,s,r,n,a,o,l,c,d,1,m,f)),void Uc(e,s,o,!u);au(e,t,s,r,n,a,o,l,c)}function Bc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Qr(s(),a))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,r,n){t&=~yc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var s=31-me(a),i=1<<s;n[s]=-1,a&=~i}0!==r&&Se(e,r,t)}function qc(){return 0!==(6&ac)||(Nu(0,!1),!1)}function Hc(){if(null!==ic){if(0===lc)var e=ic.return;else va=xa=null,Ms(e=ic),Qi=null,Ji=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Gc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,dd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Hc(),sc=e,ic=r=Fn(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=ve(e,t),hc=!1,xc=bc=yc=gc=pc=fc=0,kc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-me(n),s=1<<a;t|=e[a],n&=~s}return mc=t,Pn(),r}function Kc(e,t){ks=null,R.H=Ki,t===Wa||t===Va?(t=ts(),lc=3):t===Ya?(t=ts(),lc=4):lc=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,cc=t,null===ic&&(fc=1,jo(e,Sn(t,e.current)))}function Wc(){var e=R.H;return R.H=Ki,null===e?Ki:e}function Yc(){var e=R.A;return R.A=rc,e}function Vc(){fc=4,uc||(4194048&oc)!==oc&&null!==so.current||(dc=!0),0===(134217727&pc)&&0===(134217727&gc)||null===sc||Uc(sc,oc,bc,!1)}function Qc(e,t,r){var n=ac;ac|=2;var a=Wc(),s=Yc();sc===e&&oc===t||(Nc=null,Gc(e,t)),t=!1;var i=fc;e:for(;;)try{if(0!==lc&&null!==ic){var o=ic,l=cc;switch(lc){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:null===so.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),r&&dc){i=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Jc(),i=fc;break}catch(u){Kc(e,u)}return t&&e.shellSuspendCounter++,va=xa=null,ac=n,R.H=a,R.A=s,null===ic&&(sc=null,oc=0,Pn()),i}function Jc(){for(;null!==ic;)Zc(ic)}function Xc(){for(;null!==ic&&!Z();)Zc(ic)}function Zc(e){var t=Zo(e.alternate,e,mc);e.memoizedProps=e.pendingProps,null===t?ru(e):ic=t}function eu(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=$o(r,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=$o(r,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Ms(t);default:ol(r,t),t=Zo(r,t=ic=Bn(t,mc),mc)}e.memoizedProps=e.pendingProps,null===t?ru(e):ic=t}function tu(e,t,r,n){va=xa=null,Ms(t),Qi=null,Ji=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Na(t,r,a,!0),null!==(r=so.current)){switch(r.tag){case 13:return null===io?Vc():null===r.alternate&&0===fc&&(fc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Qa?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),mu(e,n,a)),!1;case 22:return r.flags|=65536,n===Qa?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),mu(e,n,a)),!1}throw Error(i(435,r.tag))}return mu(e,n,a),Vc(),!1}if(oa)return null!==(t=so.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==ua&&ya(Sn(e=Error(i(422),{cause:n}),r))):(n!==ua&&ya(Sn(t=Error(i(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Sn(n,r),cs(e,a=No(e.stateNode,n,a)),4!==fc&&(fc=2)),!1;var s=Error(i(520),{cause:n});if(s=Sn(s,r),null===vc?vc=[s]:vc.push(s),4!==fc&&(fc=2),null===t)return!0;n=Sn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,cs(r,e=No(r.stateNode,n,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return r.flags|=65536,a&=-a,r.lanes|=a,Eo(a=So(a),e,r,n),cs(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,oc))return fc=1,jo(e,Sn(r,e.current)),void(ic=null)}catch(s){if(null!==a)throw ic=a,s;return fc=1,jo(e,Sn(r,e.current)),void(ic=null)}32768&t.flags?(oa||1===n?e=!0:dc||0!==(536870912&oc)?e=!1:(uc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=so.current)&&13===n.tag&&(n.flags|=16384))),nu(t,e)):ru(t)}function ru(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,uc);e=t.return;var r=sl(t.alternate,t,mc);if(null!==r)return void(ic=r);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var r=il(e.alternate,e);if(null!==r)return r.flags&=32767,void(ic=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=r}while(null!==e);fc=6,ic=null}function au(e,t,r,n,a,s,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Ec);if(0!==(6&ac))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,r,n,a,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var u=31-me(r),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}r&=~d}0!==n&&Se(e,n,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,r,s|=Tn,o,l,c),e===sc&&(ic=sc=null,oc=0),Tc=t,Cc=e,Pc=r,Ac=s,Oc=a,zc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(se,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null,a=L.p,L.p=2,o=ac,ac|=4;try{!function(e,t){if(e=e.containerInfo,nd=ah,rn(e=tn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++u===a&&(l=o),m===s&&++d===n&&(c=o),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ad={focusedElem:e,selectionRange:r},ah=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(s=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,a=s.memoizedProps,s=s.memoizedState,n=r.stateNode;try{var p=bo(r.type,a,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(p,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))yd(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{ac=o,L.p=a,R.T=n}}Ec=1,su(),iu(),ou()}}function su(){if(1===Ec){Ec=0;var e=Cc,t=Tc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null;var n=L.p;L.p=2;var a=ac;ac|=4;try{Dl(t,e);var s=ad,i=tn(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&en(o.ownerDocument.documentElement,o)){if(null!==l&&rn(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=o.textContent.length,p=Math.min(l.start,f),g=void 0===l.end?p:Math.min(l.end,f);!m.extend&&p>g&&(i=g,g=p,p=i);var y=Zr(o,p),b=Zr(o,g);if(y&&b&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var x=d.createRange();x.setStart(y.node,y.offset),m.removeAllRanges(),p>g?(m.addRange(x),m.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),m.addRange(x))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var v=d[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ah=!!nd,ad=nd=null}finally{ac=a,L.p=n,R.T=r}}e.current=t,Ec=2}}function iu(){if(2===Ec){Ec=0;var e=Cc,t=Tc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=R.T,R.T=null;var n=L.p;L.p=2;var a=ac;ac|=4;try{Sl(e,t.alternate,t)}finally{ac=a,L.p=n,R.T=r}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=Cc,t=Tc,r=Pc,n=zc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Tc=Cc=null,lu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Sc=null),Te(r),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=R.T,a=L.p,L.p=2,R.T=null;try{for(var s=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];s(o.value,{componentStack:o.stack})}}finally{R.T=t,L.p=a}}0!==(3&Pc)&&cu(),_u(e),a=e.pendingLanes,0!==(4194090&r)&&0!==(42&a)?e===Lc?Rc++:(Rc=0,Lc=e):Rc=0,Nu(0,!1)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Da(t)))}function cu(e){return su(),iu(),ou(),uu()}function uu(){if(5!==Ec)return!1;var e=Cc,t=Ac;Ac=0;var r=Te(Pc),n=R.T,a=L.p;try{L.p=32>r?32:r,R.T=null,r=Oc,Oc=null;var s=Cc,o=Pc;if(Ec=0,Tc=Cc=null,Pc=0,0!==(6&ac))throw Error(i(331));var l=ac;if(ac|=4,Zl(s.current),Gl(s,s.current,o,r),ac=l,Nu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{L.p=a,R.T=n,lu(e,t)}}function du(e,t,r){t=Sn(r,t),null!==(e=os(e,t=No(e.stateNode,t,2),2))&&(Ne(e,2),_u(e))}function hu(e,t,r){if(3===e.tag)du(e,e,r);else for(;null!==t;){if(3===t.tag){du(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Sc||!Sc.has(n))){e=Sn(r,e),null!==(n=os(t,r=So(2),2))&&(Eo(r,n,t,e),Ne(n,2),_u(n));break}}t=t.return}}function mu(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new nc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(hc=!0,a.add(r),e=fu.bind(null,e,t,r),t.then(e,e))}function fu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,sc===e&&(oc&r)===r&&(4===fc||3===fc&&(62914560&oc)===oc&&300>te()-jc?0===(2&ac)&&Gc(e,0):yc|=r,xc===oc&&(xc=0)),_u(e)}function pu(e,t){0===t&&(t=je()),null!==(e=zn(e,t))&&(Ne(e,t),_u(e))}function gu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),pu(e,r)}function yu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),pu(e,r)}var bu=null,xu=null,vu=!1,ku=!1,wu=!1,ju=0;function _u(e){e!==xu&&null===e.next&&(null===xu?bu=xu=e:xu=xu.next=e),ku=!0,vu||(vu=!0,md(function(){0!==(6&ac)?J(ne,Su):Eu()}))}function Nu(e,t){if(!wu&&ku){wu=!0;do{for(var r=!1,n=bu;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var s=0;else{var i=n.suspendedLanes,o=n.pingedLanes;s=(1<<31-me(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Pu(n,s))}else s=oc,0===(3&(s=xe(n,n===sc?s:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||ve(n,s)||(r=!0,Pu(n,s));n=n.next}}while(r);wu=!1}}function Su(){Eu()}function Eu(){ku=vu=!1;var e=0;0!==ju&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=ju),ju=0);for(var t=te(),r=null,n=bu;null!==n;){var a=n.next,s=Cu(n,t);0===s?(n.next=null,null===r?bu=a:r.next=a,null===a&&(xu=r)):(r=n,(0!==e||0!==(3&s))&&(ku=!0)),n=a}Nu(e,!1)}function Cu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-me(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=ke(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(r=oc,r=xe(e,e===(t=sc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&X(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||ve(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&X(n),Te(r)){case 2:case 8:r=ae;break;case 32:default:r=se;break;case 268435456:r=oe}return n=Tu.bind(null,e),r=J(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&X(n),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(cu()&&e.callbackNode!==r)return null;var n=oc;return 0===(n=xe(e,e===sc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,n,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===r?Tu.bind(null,e):null)}function Pu(e,t){if(cu())return null;Mc(e,t,!0)}function Au(){return 0===ju&&(ju=we()),ju}function Ou(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function zu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Ru=0;Ru<jn.length;Ru++){var Lu=jn[Ru];_n(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}_n(pn,"onAnimationEnd"),_n(gn,"onAnimationIteration"),_n(yn,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(bn,"onTransitionRun"),_n(xn,"onTransitionStart"),_n(vn,"onTransitionCancel"),_n(kn,"onTransitionEnd"),Ve("onMouseEnter",["mouseout","mouseover"]),Ve("onMouseLeave",["mouseout","mouseover"]),Ve("onPointerEnter",["pointerout","pointerover"]),Ve("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function $u(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){xo(u)}a.currentTarget=null,s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){xo(u)}a.currentTarget=null,s=l}}}}function Mu(e,t){var r=t[Le];void 0===r&&(r=t[Le]=new Set);var n=e+"__bubble";r.has(n)||(qu(t,e,2,!1),r.add(n))}function Fu(e,t,r){var n=0;t&&(n|=4),qu(r,e,n,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Bu]){e[Bu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Fu("selectionchange",!1,t))}}function qu(e,t,r,n){switch(dh(t)){case 2:var a=sh;break;case 8:a=ih;break;default:a=oh}r=a.bind(null,t,r,e),a=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hu(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Be(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){n=s=i;continue e}o=o.parentNode}}n=n.return}Dt(function(){var n=s,a=At(r),i=[];e:{var o=wn.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Gt(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":u="focus",c=ir;break;case"focusout":u="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yr;break;case pn:case gn:case yn:c=or;break;case kn:c=br;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=xr;break;case"copy":case"cut":case"paste":c=lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gr;break;case"toggle":case"beforetoggle":c=vr}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=n;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=It(p,m))&&d.push(Gu(p,g,f)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,r,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Pt||!(u=r.relatedTarget||r.fromElement)||!Be(u)&&!u[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=ar,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=gr,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?o:qe(c),f=null==u?o:qe(u),(o=new d(g,p+"leave",c,r,a)).target=h,o.relatedTarget=f,g=null,Be(a)===n&&((d=new d(m,p+"enter",u,r,a)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,p=0,f=d=c;f;f=Wu(f))p++;for(f=0,g=m;g;g=Wu(g))f++;for(;0<p-f;)d=Wu(d),p--;for(;0<f-p;)m=Wu(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wu(d),m=Wu(m)}d=null}else d=null;null!==c&&Yu(i,o,c,d,!1),null!==u&&null!==h&&Yu(i,h,u,d,!0)}if("select"===(c=(o=n?qe(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Mr;else if(zr(o))if(Fr)y=Vr;else{y=Wr;var b=Kr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&St(n.elementType)&&(y=Mr):y=Yr;switch(y&&(y=y(e,n))?Rr(i,y,r,a):(b&&b(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&bt(o,"number",o.value)),b=n?qe(n):window,e){case"focusin":(zr(b)||"true"===b.contentEditable)&&(an=b,sn=n,on=null);break;case"focusout":on=sn=an=null;break;case"mousedown":ln=!0;break;case"contextmenu":case"mouseup":case"dragend":ln=!1,cn(i,r,a);break;case"selectionchange":if(nn)break;case"keydown":case"keyup":cn(i,r,a)}var x;if(wr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ar?Tr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Nr&&"ko"!==r.locale&&(Ar||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ar&&(x=Ht()):(Ut="value"in(Bt=a)?Bt.value:Bt.textContent,Ar=!0)),0<(b=Ku(n,v)).length&&(v=new cr(v,e,null,r,a),i.push({event:v,listeners:b}),x?v.data=x:null!==(x=Pr(r))&&(v.data=x))),(x=_r?function(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return 32!==t.which?null:(Cr=!0,Er);case"textInput":return(e=t.data)===Er&&Cr?null:e;default:return null}}(e,r):function(e,t){if(Ar)return"compositionend"===e||!wr&&Tr(e,t)?(e=Ht(),qt=Ut=Bt=null,Ar=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(v=Ku(n,"onBeforeInput")).length&&(b=new cr("onBeforeInput","beforeinput",null,r,a),i.push({event:b,listeners:v}),b.data=x)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var s=Ou((a[ze]||null).action),i=n.submitter;i&&null!==(t=(t=i[ze]||null)?Ou(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new Zt("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==ju){var e=i?zu(a,i):new FormData(a);Oi(r,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?zu(a,i):new FormData(a),Oi(r,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,n,r,a)}$u(i,t)})}function Gu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ku(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=It(e,r))&&n.unshift(Gu(e,a,s)),null!=(a=It(e,t))&&n.push(Gu(e,a,s))),3===e.tag)return n;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yu(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=It(r,s))&&i.unshift(Gu(r,c,l)):a||null!=(c=It(r,s))&&i.push(Gu(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Vu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Qu,"")}function Xu(e,t){return t=Ju(t),Ju(e)===t}function Zu(){}function ed(e,t,r,n,a,s){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||wt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&wt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":Nt(e,n,s);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Tt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Tt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Zu);break;case"onScroll":null!=n&&Mu("scroll",e);break;case"onScrollEnd":null!=n&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Tt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Et.get(r)||r,n)}}function td(e,t,r,n,a,s){switch(r){case"style":Nt(e,n,s);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=r}}break;case"children":"string"===typeof n?wt(e,n):("number"===typeof n||"bigint"===typeof n)&&wt(e,""+n);break;case"onScroll":null!=n&&Mu("scroll",e);break;case"onScrollEnd":null!=n&&Mu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(s=null!=(s=e[ze]||null)?s[r]:null)&&e.removeEventListener(t,s,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function rd(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var n,a=!1,s=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ed(e,t,n,o,r,null)}}return s&&ed(e,t,"srcSet",r.srcSet,r,null),void(a&&ed(e,t,"src",r.src,r,null));case"input":Mu("invalid",e);var l=n=o=s=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:ed(e,t,a,d,r,null)}}return yt(e,n,l,c,u,o,s,!1),void dt(e);case"select":for(s in Mu("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ed(e,t,s,l,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=r&&xt(e,!!a,r,!0));case"textarea":for(o in Mu("invalid",e),n=s=a=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:ed(e,t,o,l,r,null)}return kt(e,a,s,n),void dt(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else ed(e,t,c,a,r,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(a=0;a<Du.length;a++)Mu(Du[a],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ed(e,t,u,a,r,null)}return;default:if(St(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&td(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&ed(e,t,l,a,r,null))}var nd=null,ad=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"===typeof setTimeout?setTimeout:void 0,dd="function"===typeof clearTimeout?clearTimeout:void 0,hd="function"===typeof Promise?Promise:void 0,md="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hd?function(e){return hd.resolve(null).then(e).catch(fd)}:ud;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var r=t,n=0,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0<n&&8>n){r=n;var i=e.ownerDocument;if(1&r&&jd(i.documentElement),2&r&&jd(i.body),4&r)for(jd(r=i.head),i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Me]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||r.removeChild(i),i=o}}if(0===a)return e.removeChild(s),void Th(t);a--}else"$"===r||"$?"===r||"$!"===r?a++:n=r.charCodeAt(0)-48;else n=0;r=s}while(r);Th(t)}function yd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),Fe(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function kd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function wd(e,t,r){switch(t=sd(r),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var _d=new Map,Nd=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=L.d;L.d={f:function(){var e=Ed.f(),t=qc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ri(t):Ed.r(e)},D:function(e){Ed.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Td("preconnect",e,t)},L:function(e,t,r){Ed.L(e,t,r);var n=Cd;if(n&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+pt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+pt(r.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var s=a;switch(t){case"style":s=Ad(e);break;case"script":s=Rd(e)}_d.has(s)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),_d.set(s,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Od(s))||"script"===t&&n.querySelector(Ld(s))||(rd(t=n.createElement("link"),"link",e),Ge(t),n.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var r=Cd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(n)+'"][href="'+pt(e)+'"]',s=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Rd(e)}if(!_d.has(s)&&(e=h({rel:"modulepreload",href:e},t),_d.set(s,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ld(s)))return}rd(n=r.createElement("link"),"link",e),Ge(n),r.head.appendChild(n)}}},X:function(e,t){Ed.X(e,t);var r=Cd;if(r&&e){var n=He(r).hoistableScripts,a=Rd(e),s=n.get(a);s||((s=r.querySelector(Ld(a)))||(e=h({src:e,async:!0},t),(t=_d.get(a))&&Md(e,t),Ge(s=r.createElement("script")),rd(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}},S:function(e,t,r){Ed.S(e,t,r);var n=Cd;if(n&&e){var a=He(n).hoistableStyles,s=Ad(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(Od(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=_d.get(s))&&$d(e,r);var l=i=n.createElement("link");Ge(l),rd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Id(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Ed.M(e,t);var r=Cd;if(r&&e){var n=He(r).hoistableScripts,a=Rd(e),s=n.get(a);s||((s=r.querySelector(Ld(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(a))&&Md(e,t),Ge(s=r.createElement("script")),rd(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}}};var Cd="undefined"===typeof document?null:document;function Td(e,t,r){var n=Cd;if(n&&"string"===typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Nd.has(a)||(Nd.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(rd(t=n.createElement("link"),"link",e),Ge(t),n.head.appendChild(t)))}}function Pd(e,t,r,n){var a,s,o,l,c=(c=H.current)?Sd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Ad(r.href),(n=(r=He(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Ad(r.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Od(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_d.set(e,r),u||(a=c,s=e,o=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rd(s,"link",o),Ge(s),a.head.appendChild(s))))),t&&null===n)throw Error(i(528,""));return d}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(r),(n=(r=He(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ad(e){return'href="'+pt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function zd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+pt(e)+'"]'}function Ld(e){return"script[async]"+e}function Dd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+pt(r.href)+'"]');if(n)return t.instance=n,Ge(n),n;var a=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ge(n=(e.ownerDocument||e).createElement("style")),rd(n,"style",a),Id(n,r.precedence,e),t.instance=n;case"stylesheet":a=Ad(r.href);var s=e.querySelector(Od(a));if(s)return t.state.loading|=4,t.instance=s,Ge(s),s;n=zd(r),(a=_d.get(a))&&$d(n,a),Ge(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),rd(s,"link",n),t.state.loading|=4,Id(s,r.precedence,e),t.instance=s;case"script":return s=Rd(r.src),(a=e.querySelector(Ld(s)))?(t.instance=a,Ge(a),a):(n=r,(a=_d.get(s))&&Md(n=h({},r),a),Ge(a=(e=e.ownerDocument||e).createElement("script")),rd(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Id(n,r.precedence,e));return t.instance}function Id(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,s=a,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Bd(e,t,r){if(null===Fd){var n=new Map,a=Fd=new Map;a.set(r,n)}else(n=(a=Fd).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var s=r[a];if(!(s[Me]||s[Oe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(s):n.set(i,[s])}}return n}function Ud(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function qd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function Gd(){}function Kd(){if(this.count--,0===this.count)if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Yd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Vd,e),Wd=null,Kd.call(e))}function Vd(e,t){if(!(4&t.state.loading)){var r=Wd.get(e);if(r)var n=r.get(null);else{r=new Map,Wd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}i=(a=t.instance).getAttribute("data-precedence"),(s=r.get(i)||n)===n&&r.set(null,a),r.set(i,a),this.count++,n=Kd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:k,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Jd(e,t,r,n,a,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,r,n,a,s,i,o,l,c,u,d){return e=new Jd(e,t,r,i,o,l,c,d),t=1,!0===s&&(t|=24),s=$n(3,null,null,t),e.current=s,s.stateNode=e,(t=La()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:r,cache:t},as(s),e}function Zd(e){return e?e=Dn:Dn}function eh(e,t,r,n,a,s){a=Zd(a),null===n.context?n.context=a:n.pendingContext=a,(n=is(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(n.callback=s),null!==(r=os(e,n,t))&&($c(r,0,t),ls(r,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function rh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function nh(e){if(13===e.tag){var t=zn(e,67108864);null!==t&&$c(t,0,67108864),rh(e,67108864)}}var ah=!0;function sh(e,t,r,n){var a=R.T;R.T=null;var s=L.p;try{L.p=2,oh(e,t,r,n)}finally{L.p=s,R.T=a}}function ih(e,t,r,n){var a=R.T;R.T=null;var s=L.p;try{L.p=8,oh(e,t,r,n)}finally{L.p=s,R.T=a}}function oh(e,t,r,n){if(ah){var a=lh(n);if(null===a)Hu(e,t,n,ch,r),vh(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return mh=kh(mh,e,t,r,n,a),!0;case"dragenter":return fh=kh(fh,e,t,r,n,a),!0;case"mouseover":return ph=kh(ph,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return gh.set(s,kh(gh.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,yh.set(s,kh(yh.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(vh(e,n),4&t&&-1<xh.indexOf(e)){for(;null!==a;){var s=Ue(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=be(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-me(i);o.entanglements[1]|=l,i&=~l}_u(s),0===(6&ac)&&(_c=te()+500,Nu(0,!1))}}break;case 13:null!==(o=zn(s,2))&&$c(o,0,2),qc(),rh(s,2)}if(null===(s=lh(n))&&Hu(e,t,n,ch,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hu(e,t,n,null,r)}}function lh(e){return uh(e=At(e))}var ch=null;function uh(e){if(ch=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ae:return 8;case se:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var hh=!1,mh=null,fh=null,ph=null,gh=new Map,yh=new Map,bh=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":mh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function kh(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ue(t))&&nh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function wh(e){var t=Be(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=L.p;try{return L.p=e,t()}finally{L.p=r}}(e.priority,function(){if(13===r.tag){var e=Dc();e=Ce(e);var t=zn(r,e);null!==t&&$c(t,0,e),rh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=lh(e.nativeEvent);if(null!==r)return null!==(t=Ue(r))&&nh(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Pt=n,r.target.dispatchEvent(n),Pt=null,t.shift()}return!0}function _h(e,t,r){jh(e)&&r.delete(t)}function Nh(){hh=!1,null!==mh&&jh(mh)&&(mh=null),null!==fh&&jh(fh)&&(fh=null),null!==ph&&jh(ph)&&(ph=null),gh.forEach(_h),yh.forEach(_h)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,hh||(hh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Nh)))}var Eh=null;function Ch(e){Eh!==e&&(Eh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===uh(n||r))continue;break}var s=Ue(r);null!==s&&(e.splice(t,3),t-=3,Oi(s,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Th(e){function t(t){return Sh(t,e)}null!==mh&&Sh(mh,e),null!==fh&&Sh(fh,e),null!==ph&&Sh(ph,e),gh.forEach(t),yh.forEach(t);for(var r=0;r<bh.length;r++){var n=bh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<bh.length&&null===(r=bh[0]).blockedOn;)wh(r),null===r.blockedOn&&bh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],s=r[n+1],i=a[ze]||null;if("function"===typeof s)i||Ch(r);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[ze]||null)o=i.formAction;else if(null!==uh(a))continue}else o=i.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Ch(r)}}}function Ph(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));eh(t.current,Dc(),e,t,null,null)},Ah.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),qc(),t[Re]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bh.length&&0!==t&&t<bh[r].priority;r++);bh.splice(r,0,e),0===r&&wh(e)}};var Oh=a.version;if("19.1.0"!==Oh)throw Error(i(527,Oh,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return u(a),e;if(s===n)return u(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var zh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ue=Rh.inject(zh),de=Rh}catch(Lh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,n="",a=vo,s=ko,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,r,n,a,s,l,0,null),e[Re]=t.current,Uu(e),new Ph(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var n=!1,a="",s=vo,l=ko,c=wo,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Xd(e,1,!0,t,0,n,a,s,l,c,0,u)).context=Zd(null),r=t.current,(a=is(n=Ce(n=Dc()))).callback=null,os(r,a,n),r=n,t.current.lanes=r,Ne(t,r),_u(t),e[Re]=t.current,Uu(e),new Ah(t)},t.version="19.1.0"},43:(e,t,r)=>{e.exports=r(288)},210:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(829)),s=n(r(736)),i=r(745);class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?`{${r.join(",")}}`:`${r}`]}).forEach(e=>{let[t,r]=e;o.searchParams.append(t,r)})):(t="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new s.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},286:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(630)),s=n(r(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let a=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&s&&s.length>1&&(o=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function b(){}function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var v=x.prototype=new b;v.constructor=x,p(v,y.prototype),v.isPureReactComponent=!0;var k=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function _(e,t,n,a,s,i){return n=i.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:i}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function T(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return T((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+E(e,0):s,k(i)?(a="",null!=u&&(a=u.replace(S,"$&/")+"/"),T(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+u,i=_(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,f=""===s?".":s+":";if(k(e))for(var p=0;p<e.length;p++)u+=T(s=e[p],t,a,o=f+E(s,p),i);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(s=e.next()).done;)u+=T(s=s.value,t,a,o=f+E(s,p++),i);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,r){if(null==e)return e;var n=[],a=0;return T(e,n,"","",function(e){return t.call(r,e,a++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function z(){}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=p({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!j.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];n.children=i}return _(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)j.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return _(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,r={};w.T=r;try{var n=e(),a=w.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(z,O)}catch(s){O(s)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,r){return w.H.useActionState(e,t,r)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=w.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,r){return w.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return w.H.useReducer(e,t,r)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return w.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.0"},374:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(286));class s extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":`${n}.offset`,s="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},391:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,r)=>{e.exports=r(799)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{r.r(t),r.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,s=n.fetch.bind(n),i=n.Headers,o=n.Request,l=n.Response},672:(e,t,r)=>{var n=r(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:s}):"script"===r&&i.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},736:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=s},745:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},799:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},829:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,r)=>{e.exports=r(896)},896:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,r))c<a&&0>s(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(g=!1,k(e),!p)if(null!==n(c))p=!0,_||(_=!0,j());else{var t=n(u);null!==t&&O(w,t.startTime-e)}}var j,_=!1,N=-1,S=5,E=-1;function C(){return!!y||!(t.unstable_now()-E<S)}function T(){if(y=!1,_){var e=t.unstable_now();E=e;var r=!0;try{e:{p=!1,g&&(g=!1,x(N),N=-1),f=!0;var s=m;try{t:{for(k(e),h=n(c);null!==h&&!(h.expirationTime>e&&C());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,k(e),r=!0;break t}h===n(c)&&a(c),k(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&O(w,l.startTime-e),r=!1}}break e}finally{h=null,m=s,f=!1}r=void 0}}finally{r?j():_=!1}}}if("function"===typeof v)j=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=T,j=function(){A.postMessage(null)}}else j=function(){b(T,0)};function O(e,r){N=b(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(u,e),null===n(c)&&e===n(u)&&(g?(x(N),N=-1):g=!0,O(w,s-i))):(e.sortIndex=o,r(c,e),p||f||(p=!0,_||(_=!0,j()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)},980:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(210));t.PostgrestClient=a.default;const s=n(r(829));t.PostgrestQueryBuilder=s.default;const i=n(r(736));t.PostgrestFilterBuilder=i.default;const o=n(r(374));t.PostgrestTransformBuilder=o.default;const l=n(r(286));t.PostgrestBuilder=l.default;const c=n(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".c954541f.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(nr){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="spendmev2:";r.l=(n,a,s,i)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),t)return t(r)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/spendmev2/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise((r,n)=>a=e[t]=[r,n]);n.push(a[2]=s);var i=r.p+r.u(t),o=new Error;r.l(i,n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,s,i=n[0],o=n[1],l=n[2],c=0;if(i.some(t=>0!==e[t])){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkspendmev2=self.webpackChunkspendmev2||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r(43),a=r(391),s="popstate";function i(){return m(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return u("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(nr){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function h(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function m(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",d=null,h=m();function m(){return(o.state||{idx:null}).idx}function p(){l="POP";let e=m(),t=null==e?null:e-h;h=e,d&&d({action:l,location:y.location,delta:t})}function g(e){return f(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let y={get action(){return l},get location(){return e(a,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(s,p),d=e,()=>{a.removeEventListener(s,p),d=null}},createHref:e=>t(a,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=u(y.location,e,t);r&&r(n,e),h=m()+1;let s=c(n,h),f=y.createHref(n);try{o.pushState(s,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(f)}i&&d&&d({action:l,location:y.location,delta:1})},replace:function(e,t){l="REPLACE";let n=u(y.location,e,t);r&&r(n,e),h=m();let a=c(n,h),s=y.createHref(n);o.replaceState(a,"",s),i&&d&&d({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),o(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function p(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,r,n){let a=A(("string"===typeof t?h(t):t).pathname||"/",r);if(null==a)return null;let s=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=P(a);i=E(s[o],e,n)}return i}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(n),`Absolute route path "${i.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(n.length));let l=D([n,i.relativePath]),c=r.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=b(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var x=/^:[\w-]+$/,v=3,k=2,w=1,j=10,_=-2,N=e=>"*"===e;function S(e,t){let r=e.split("/"),n=r.length;return r.some(N)&&(n+=_),t&&(n+=k),r.filter(e=>!N(e)).reduce((e,t)=>e+(x.test(t)?v:""===t?w:j),n)}function E(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:D([s,u.pathname]),pathnameBase:I(D([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=D([s,u.pathnameBase]))}return i}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=T(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function O(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e){let t=z(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function L(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=h(e):(n={...e},o(!n.pathname||!n.pathname.includes("?"),O("?","pathname","search",n)),o(!n.pathname||!n.pathname.includes("#"),O("#","pathname","hash",n)),o(!n.search||!n.search.includes("#"),O("#","search","hash",n)));let s,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)s=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?h(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:$(n),hash:M(a)}}(n,s),u=l&&"/"!==l&&l.endsWith("/"),d=(i||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var B=["POST","PUT","PATCH","DELETE"],U=(new Set(B),["GET",...B]);new Set(U),Symbol("ResetLoaderData");var q=n.createContext(null);q.displayName="DataRouter";var H=n.createContext(null);H.displayName="DataRouterState";var G=n.createContext(!1);var K=n.createContext({isTransitioning:!1});K.displayName="ViewTransition";var W=n.createContext(new Map);W.displayName="Fetchers";var Y=n.createContext(null);Y.displayName="Await";var V=n.createContext(null);V.displayName="Navigation";var Q=n.createContext(null);Q.displayName="Location";var J=n.createContext({outlet:null,matches:[],isDataRoute:!1});J.displayName="Route";var X=n.createContext(null);X.displayName="RouteError";function Z(){return null!=n.useContext(Q)}function ee(){return o(Z(),"useLocation() may be used only in the context of a <Router> component."),n.useContext(Q).location}var te="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function re(e){n.useContext(V).static||n.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=n.useContext(J);return e?function(){let{router:e}=me("useNavigate"),t=pe("useNavigate"),r=n.useRef(!1);re(()=>{r.current=!0});let a=n.useCallback(async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(r.current,te),r.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,{fromRouteId:t,...a}))},[e,t]);return a}():function(){o(Z(),"useNavigate() may be used only in the context of a <Router> component.");let e=n.useContext(q),{basename:t,navigator:r}=n.useContext(V),{matches:a}=n.useContext(J),{pathname:s}=ee(),i=JSON.stringify(R(a)),c=n.useRef(!1);re(()=>{c.current=!0});let u=n.useCallback(function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,te),!c.current)return;if("number"===typeof n)return void r.go(n);let o=L(n,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:D([t,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[t,r,i,s,e]);return u}()}var ae=n.createContext(null);function se(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=n.useContext(J),{pathname:a}=ee(),s=JSON.stringify(R(r));return n.useMemo(()=>L(e,JSON.parse(s),a,"path"===t),[e,s,a,t])}function ie(e,t,r,a){o(Z(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=n.useContext(V),{matches:i}=n.useContext(J),c=i[i.length-1],u=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";be(d,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=ee();if(t){let e="string"===typeof t?h(t):t;o("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let b=g.pathname||"/",x=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=p(e,{pathname:x});l(f||null!=v,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=de(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:D([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,a);return t&&k?n.createElement(Q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},k):k}function oe(){let e=ge(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=n.createElement(n.Fragment,null,n.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",n.createElement("code",{style:i},"ErrorBoundary")," or"," ",n.createElement("code",{style:i},"errorElement")," prop on your route.")),n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:s},r):null,o)}var le=n.createElement(oe,null),ce=class extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(J.Provider,{value:this.props.routeContext},n.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ue(e){let{routeContext:t,match:r,children:a}=e,s=n.useContext(q);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(J.Provider,{value:t},a)}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,s=r?.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,l=-1;if(r)for(let n=0;n<a.length;n++){let e=a[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=n),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){i=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,o,c)=>{let u,d=!1,h=null,m=null;r&&(u=s&&o.route.id?s[o.route.id]:void 0,h=o.route.errorElement||le,i&&(l<0&&0===c?(be("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):l===c&&(d=!0,m=o.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,c+1)),p=()=>{let t;return t=u?h:d?m:o.route.Component?n.createElement(o.route.Component,null):o.route.element?o.route.element:e,n.createElement(ue,{match:o,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?n.createElement(ce,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}function he(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function me(e){let t=n.useContext(q);return o(t,he(e)),t}function fe(e){let t=n.useContext(H);return o(t,he(e)),t}function pe(e){let t=function(e){let t=n.useContext(J);return o(t,he(e)),t}(e),r=t.matches[t.matches.length-1];return o(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ge(){let e=n.useContext(X),t=fe("useRouteError"),r=pe("useRouteError");return void 0!==e?e:t.errors?.[r]}var ye={};function be(e,t,r){t||ye[e]||(ye[e]=!0,l(!1,r))}var xe={};function ve(e,t){e||xe[t]||(xe[t]=!0,console.warn(t))}n.memo(function(e){let{routes:t,future:r,state:n}=e;return ie(t,void 0,n,r)});function ke(e){let{to:t,replace:r,state:a,relative:s}=e;o(Z(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=n.useContext(V);l(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=n.useContext(J),{pathname:u}=ee(),d=ne(),h=L(t,R(c),u,"path"===s),m=JSON.stringify(h);return n.useEffect(()=>{d(JSON.parse(m),{replace:r,state:a,relative:s})},[d,m,s,r,a]),null}function we(e){return function(e){let t=n.useContext(J).outlet;return t?n.createElement(ae.Provider,{value:e},t):t}(e.context)}function je(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _e(e){let{basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:c=!1}=e;o(!Z(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=n.useMemo(()=>({basename:u,navigator:i,static:c,future:{}}),[u,i,c]);"string"===typeof a&&(a=h(a));let{pathname:m="/",search:f="",hash:p="",state:g=null,key:y="default"}=a,b=n.useMemo(()=>{let e=A(m,u);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:y},navigationType:s}},[u,m,f,p,g,y,s]);return l(null!=b,`<Router basename="${u}"> is not able to match the URL "${m}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==b?null:n.createElement(V.Provider,{value:d},n.createElement(Q.Provider,{children:r,value:b}))}function Ne(e){let{children:t,location:r}=e;return ie(Se(t),r)}n.Component;function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let s=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,Se(e.props.children,s));o(e.type===je,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Se(e.props.children,s)),r.push(i)}),r}var Ee="get",Ce="application/x-www-form-urlencoded";function Te(e){return null!=e&&"string"===typeof e.tagName}function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}var Ae=null;var Oe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Oe.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ce}"`),null)}function Re(e,t){let r,n,a,s,i;if(Te(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?A(i,t):null,r=e.getAttribute("method")||Ee,a=ze(e.getAttribute("enctype"))||Ce,s=new FormData(e)}else if(function(e){return Te(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Te(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?A(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Ee,a=ze(e.getAttribute("formenctype"))||ze(i.getAttribute("enctype"))||Ce,s=new FormData(i,e),!function(){if(null===Ae)try{new FormData(document.createElement("form"),0),Ae=!1}catch(nr){Ae=!0}return Ae}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,n)}}else{if(Te(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ee,n=null,a=Ce,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Le(e){return{__html:e}}function De(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ie(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===A(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function $e(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Fe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Be(e,t,r,n,a,s){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Ue(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function qe(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Me(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(s)||(r.add(s),e.push({key:s,link:a})),e},[])}function He(e,t){return"lazy"===e.mode&&!0===t}function Ge(){let e=n.useContext(q);return De(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ke(){let e=n.useContext(H);return De(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var We=n.createContext(void 0);function Ye(){let e=n.useContext(We);return De(e,"You must render this element inside a <HydratedRouter> element"),e}function Ve(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Qe(e,t,r){if(r&&!et)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}We.displayName="FrameworkContext";function Je(e){let{page:t,...r}=e,{router:a}=Ge(),s=n.useMemo(()=>p(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?n.createElement(Ze,{page:t,matches:s,...r}):null}function Xe(e){let{manifest:t,routeModules:r}=Ye(),[a,s]=n.useState([]);return n.useEffect(()=>{let n=!1;return async function(e,t,r){let n=await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await $e(n,r);return e.links?e.links():[]}return[]}));return qe(n.flat(1).filter(Fe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,r).then(e=>{n||s(e)}),()=>{n=!0}},[e,t,r]),a}function Ze(e){let{page:t,matches:r,...a}=e,s=ee(),{manifest:i,routeModules:o}=Ye(),{basename:l}=Ge(),{loaderData:c,matches:u}=Ke(),d=n.useMemo(()=>Be(t,r,u,i,s,"data"),[t,r,u,i,s]),h=n.useMemo(()=>Be(t,r,u,i,s,"assets"),[t,r,u,i,s]),m=n.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,n=!1;if(r.forEach(t=>{let r=i.routes[t.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===t.route.id)&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||r.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let a=Ie(t,l,"data");return n&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,c,s,i,d,r,t,o]),f=n.useMemo(()=>Ue(h,i),[h,i]),p=Xe(h);return n.createElement(n.Fragment,null,m.map(e=>n.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),f.map(e=>n.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),p.map(e=>{let{key:t,link:r}=e;return n.createElement("link",{key:t,...r})}))}var et=!1;function tt(e){let{manifest:t,serverHandoffString:r,isSpaMode:a,renderMeta:s,routeDiscovery:i,ssr:o}=Ye(),{router:l,static:c,staticContext:u}=Ge(),{matches:d}=Ke(),h=n.useContext(G),m=He(i,o);s&&(s.didRenderScripts=!0);let f=Qe(d,null,a);n.useEffect(()=>{et=!0},[]);let g=n.useMemo(()=>{if(h)return null;let a=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=c?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${m?"":`import ${JSON.stringify(t.url)}`};\n${f.map((e,r)=>{let n=`route${r}`,a=t.routes[e.route.id];De(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:`${n}_clientAction`}]:[],...i?[{module:i,varName:`${n}_clientLoader`}]:[],...o?[{module:o,varName:`${n}_clientMiddleware`}]:[],...l?[{module:l,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${n} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${m?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(s.pop();s.length>0;)i.push(`/${s.join("/")}`),s.pop();i.forEach(e=>{let r=p(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return{...n,routes:o,sri:!!r||void 0}}(t,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return n.createElement(n.Fragment,null,n.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(a),type:void 0}),n.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(s),type:"module",async:!0}))},[]),y=et||h?[]:(b=t.entry.imports.concat(Ue(f,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let x="object"===typeof t.sri?t.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),et||h?null:n.createElement(n.Fragment,null,"object"===typeof t.sri?n.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,m?null:n.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),n.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),y.map(t=>n.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),g)}function rt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}n.Component;function nt(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let a,s=n.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(F(t))return n.createElement(at,{title:"Unhandled Thrown Response!"},n.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return n.createElement(at,{title:"Application Error!",isOutsideRemixApp:r},n.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),n.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function at(e){let{title:t,renderScripts:r,isOutsideRemixApp:a,children:s}=e,{routeModules:i}=Ye();return i.root?.Layout&&!a?s:n.createElement("html",{lang:"en"},n.createElement("head",null,n.createElement("meta",{charSet:"utf-8"}),n.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),n.createElement("title",null,t)),n.createElement("body",null,n.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?n.createElement(tt,null):null)))}var st="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{st&&(window.__reactRouterVersion="7.7.0")}catch(nr){}function it(e){let{basename:t,children:r,window:a}=e,s=n.useRef();null==s.current&&(s.current=i({window:a,v5Compat:!0}));let o=s.current,[l,c]=n.useState({action:o.action,location:o.location}),u=n.useCallback(e=>{n.startTransition(()=>c(e))},[c]);return n.useLayoutEffect(()=>o.listen(u),[o,u]),n.createElement(_e,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o})}var ot=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=n.forwardRef(function(e,t){let r,{onClick:a,discover:s="render",prefetch:i="none",relative:c,reloadDocument:u,replace:h,state:m,target:f,to:p,preventScrollReset:g,viewTransition:y,...b}=e,{basename:x}=n.useContext(V),v="string"===typeof p&&ot.test(p),k=!1;if("string"===typeof p&&v&&(r=p,st))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),r=A(t.pathname,x);t.origin===e.origin&&null!=r?p=r+t.search+t.hash:k=!0}catch(nr){l(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Z(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=n.useContext(V),{hash:s,pathname:i,search:l}=se(e,{relative:t}),c=i;return"/"!==r&&(c="/"===i?r:D([r,i])),a.createHref({pathname:c,search:l,hash:s})}(p,{relative:c}),[j,_,N]=function(e,t){let r=n.useContext(We),[a,s]=n.useState(!1),[i,o]=n.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,m=n.useRef(null);n.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),n.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let f=()=>{s(!0)},p=()=>{s(!1),o(!1)};return r?"intent"!==e?[i,m,{}]:[i,m,{onFocus:Ve(l,f),onBlur:Ve(c,p),onMouseEnter:Ve(u,f),onMouseLeave:Ve(d,p),onTouchStart:Ve(h,f)}]:[!1,m,{}]}(i,b),S=function(e){let{target:t,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ne(),c=ee(),u=se(e,{relative:i});return n.useCallback(n=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(n,t)){n.preventDefault();let t=void 0!==r?r:d(c)===d(u);l(e,{replace:t,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,a,t,e,s,i,o])}(p,{replace:h,state:m,target:f,preventScrollReset:g,relative:c,viewTransition:y});let E=n.createElement("a",{...b,...N,href:r||w,onClick:k||u?a:function(e){a&&a(e),e.defaultPrevented||S(e)},ref:rt(t,_),target:f,"data-discover":v||"render"!==s?void 0:"true"});return j&&!v?n.createElement(n.Fragment,null,E,n.createElement(Je,{page:w})):E});lt.displayName="Link";var ct=n.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,m=se(c,{relative:h.relative}),f=ee(),p=n.useContext(H),{navigator:g,basename:y}=n.useContext(V),b=null!=p&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useContext(K);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ht("useViewTransitionState"),s=se(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=A(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=A(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=C(s.pathname,l)||null!=C(s.pathname,i)}(m)&&!0===u,x=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,v=f.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(v=v.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&y&&(k=A(k,y)||k);const w="/"!==x&&x.endsWith("/")?x.length-1:x.length;let j,_=v===x||!i&&v.startsWith(x)&&"/"===v.charAt(w),N=null!=k&&(k===x||!i&&k.startsWith(x)&&"/"===k.charAt(x.length)),S={isActive:_,isPending:N,isTransitioning:b},E=_?r:void 0;j="function"===typeof s?s(S):[s,_?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof l?l(S):l;return n.createElement(lt,{...h,"aria-current":E,className:j,ref:t,style:T,to:c,viewTransition:u},"function"===typeof d?d(S):d)});ct.displayName="NavLink";var ut=n.forwardRef((e,t)=>{let{discover:r="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:l,state:c,method:u=Ee,action:h,onSubmit:m,relative:f,preventScrollReset:p,viewTransition:g,...y}=e,b=gt(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=n.useContext(V),a=n.useContext(J);o(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...se(e||".",{relative:t})},l=ee();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();i.search=r?`?${r}`:""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:D([r,i.pathname]));return d(i)}(h,{relative:f}),v="get"===u.toLowerCase()?"get":"post",k="string"===typeof h&&ot.test(h);return n.createElement("form",{ref:t,method:v,action:x,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||u;b(t||e.currentTarget,{fetcherKey:a,method:r,navigate:s,replace:l,state:c,relative:f,preventScrollReset:p,viewTransition:g})},...y,"data-discover":k||"render"!==r?void 0:"true"})});function dt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ht(e){let t=n.useContext(q);return o(t,dt(e)),t}function mt(e){l("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=n.useRef(Pe(e)),r=n.useRef(!1),a=ee(),s=n.useMemo(()=>function(e,t){let r=Pe(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(a.search,r.current?null:t.current),[a.search]),i=ne(),o=n.useCallback((e,t)=>{const n=Pe("function"===typeof e?e(new URLSearchParams(s)):e);r.current=!0,i("?"+n,t)},[i,s]);return[s,o]}ut.displayName="Form";var ft=0,pt=()=>`__${String(++ft)}__`;function gt(){let{router:e}=ht("useSubmit"),{basename:t}=n.useContext(V),r=pe("useRouteId");return n.useCallback(async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Re(n,t);if(!1===a.navigate){let t=a.fetcherKey||pt();await e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}var yt="undefined"===typeof window||"Deno"in globalThis;function bt(){}function xt(e,t){return"function"===typeof e?e(t):e}function vt(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i)if(n){if(t.queryHash!==wt(i,t.options))return!1}else if(!_t(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!a||a===t.state.fetchStatus)&&!(s&&!s(t)))}function kt(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(jt(t.options.mutationKey)!==jt(s))return!1}else if(!_t(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&!(a&&!a(t))}function wt(e,t){return(t?.queryKeyHashFn||jt)(e)}function jt(e){return JSON.stringify(e,(e,t)=>Et(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function _t(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(r=>_t(e[r],t[r])))}function Nt(e,t){if(e===t)return e;const r=St(e)&&St(t);if(r||Et(e)&&Et(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,o=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<i;u++){const n=r?u:s[u];(!r&&l.has(n)||r)&&void 0===e[n]&&void 0===t[n]?(o[n]=void 0,c++):(o[n]=Nt(e[n],t[n]),o[n]===e[n]&&void 0!==e[n]&&c++)}return a===i&&c===a?e:o}return t}function St(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Et(e){if(!Ct(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!Ct(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Ct(e){return"[object Object]"===Object.prototype.toString.call(e)}function Tt(e,t,r){return"function"===typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Nt(e,t):t}function Pt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[...e,t];return r&&n.length>r?n.slice(1):n}function At(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ot=Symbol();function zt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Ot?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var Rt=e=>setTimeout(e,0);var Lt=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},a=Rt;const s=n=>{t?e.push(n):a(()=>{r(n)})};return{batch:s=>{let i;t++;try{i=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a(()=>{n(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s(()=>{e(...r)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{a=e}}}(),Dt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},It=new class extends Dt{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!yt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},$t=new class extends Dt{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!yt&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function Mt(e){return Math.min(1e3*2**e,3e4)}function Ft(e){return"online"!==(e??"online")||$t.isOnline()}var Bt=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ut(e){return e instanceof Bt}function qt(e){let t,r=!1,n=0,a=!1;const s=function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}(),i=()=>It.isFocused()&&("always"===e.networkMode||$t.isOnline())&&e.canRun(),o=()=>Ft(e.networkMode)&&e.canRun(),l=r=>{a||(a=!0,e.onSuccess?.(r),t?.(),s.resolve(r))},c=r=>{a||(a=!0,e.onError?.(r),t?.(),s.reject(r))},u=()=>new Promise(r=>{t=e=>{(a||i())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,a||e.onContinue?.()}),d=()=>{if(a)return;let t;const s=0===n?e.initialPromise:void 0;try{t=s??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{if(a)return;const s=e.retry??(yt?0:3),o=e.retryDelay??Mt,l="function"===typeof o?o(n,t):o,h=!0===s||"number"===typeof s&&n<s||"function"===typeof s&&s(n,t);var m;!r&&h?(n++,e.onFail?.(n,t),(m=l,new Promise(e=>{setTimeout(e,m)})).then(()=>i()?void 0:u()).then(()=>{r?c(t):d()})):c(t)})};return{promise:s,cancel:t=>{a||(c(new Bt(t)),e.abort?.())},continue:()=>(t?.(),s),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?d():u().then(d),s)}}var Ht=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#a=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yt?1/0:3e5))}clearGcTimeout(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}},Gt=class extends Ht{#s;#i;#o;#l;#c;#u;#d;constructor(e){super(),this.#d=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#o=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){const r=Tt(this.state.data,e,this.options);return this.#h({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(bt).catch(bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,r=this,"function"===typeof t?t(r):t);var t,r})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ot||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===xt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#d?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,r.signal)})},a=()=>{const e=zt(this.options,t),r=(()=>{const e={client:this.#l,queryKey:this.queryKey,meta:this.meta};return n(e),e})();return this.#d=!1,this.options.persister?this.options.persister(e,r,this):e(r)},s=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:a};return n(e),e})();this.options.behavior?.onFetch(s,this),this.#i=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===s.fetchOptions?.meta||this.#h({type:"fetch",meta:s.fetchOptions?.meta});const i=e=>{Ut(e)&&e.silent||this.#h({type:"error",error:e}),Ut(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=qt({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void i(t)}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else i(new Error(`${this.queryHash} data is undefined`))},onError:i,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#c.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Kt(t.data,this.options),fetchMeta:e.meta??null};case"success":return this.#i=void 0,{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Ut(r)&&r.revert&&this.#i?{...this.#i,fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Lt.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}};function Kt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ft(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Wt=class extends Dt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#m=new Map}#m;build(e,t,r){const n=t.queryKey,a=t.queryHash??wt(n,t);let s=this.get(a);return s||(s=new Gt({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#m.has(e.queryHash)||(this.#m.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#m.get(e.queryHash);t&&(e.destroy(),t===e&&this.#m.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#m.get(e)}getAll(){return[...this.#m.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>vt(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>vt(e,t)):t}notify(e){Lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yt=class extends Ht{#f;#p;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#p=e.mutationCache,this.#f=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter(t=>t!==e),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#h({type:"continue"})};this.#c=qt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});const r="pending"===this.state.status,n=!this.#c.canStart();try{if(r)t();else{this.#h({type:"pending",variables:e,isPaused:n}),await(this.#p.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:n})}const a=await this.#c.start();return await(this.#p.config.onSuccess?.(a,e,this.state.context,this)),await(this.options.onSuccess?.(a,e,this.state.context)),await(this.#p.config.onSettled?.(a,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(a,null,e,this.state.context)),this.#h({type:"success",data:a}),a}catch(a){try{throw await(this.#p.config.onError?.(a,e,this.state.context,this)),await(this.options.onError?.(a,e,this.state.context)),await(this.#p.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,a,e,this.state.context)),a}finally{this.#h({type:"error",error:a})}}finally{this.#p.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Lt.batch(()=>{this.#f.forEach(t=>{t.onMutationUpdate(e)}),this.#p.notify({mutation:this,type:"updated",action:e})})}};var Vt=class extends Dt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#g=new Set,this.#y=new Map,this.#b=0}#g;#y;#b;build(e,t,r){const n=new Yt({mutationCache:this,mutationId:++this.#b,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#g.add(e);const t=Qt(e);if("string"===typeof t){const r=this.#y.get(t);r?r.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=Qt(e);if("string"===typeof t){const r=this.#y.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Qt(e);if("string"===typeof t){const r=this.#y.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}return!0}runNext(e){const t=Qt(e);if("string"===typeof t){const r=this.#y.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Lt.batch(()=>{this.#g.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#g.clear(),this.#y.clear()})}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>kt(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>kt(e,t))}notify(e){Lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Lt.batch(()=>Promise.all(e.map(e=>e.continue().catch(bt))))}};function Qt(e){return e.options.scope?.id}function Jt(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=zt(t.options,t.fetchOptions),u=async(e,n,a)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:n,direction:a?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),i=await c(s),{maxPages:o}=t.options,l=a?At:Pt;return{pages:l(e.pages,i,o),pageParams:l(e.pageParams,n,o)}};if(a&&s.length){const e="backward"===a,t={pages:s,pageParams:i},r=(e?Zt:Xt)(n,t);o=await u(t,r,e)}else{const t=e??s.length;do{const e=0===l?i[0]??n.initialPageParam:Xt(n,o);if(l>0&&null==e)break;o=await u(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Xt(e,t){let{pages:r,pageParams:n}=t;const a=r.length-1;return r.length>0?e.getNextPageParam(r[a],r,n[a],n):void 0}function Zt(e,t){let{pages:r,pageParams:n}=t;return r.length>0?e.getPreviousPageParam?.(r[0],r,n[0],n):void 0}var er=r(579),tr=n.createContext(void 0),rr=e=>{let{client:t,children:r}=e;return n.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,er.jsx)(tr.Provider,{value:t,children:r})};let nr={data:""},ar=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||nr,sr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ir=/\/\*[^]*?\*\/|  +/g,or=/\n+/g,lr=(e,t)=>{let r="",n="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+i+";":n+="f"==s[1]?lr(i,s):s+"{"+lr(i,"k"==s[1]?"":t)+"}":"object"==typeof i?n+=lr(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=lr.p?lr.p(s,i):s+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},cr={},ur=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+ur(e[r]);return t}return e},dr=(e,t,r,n,a)=>{let s=ur(e),i=cr[s]||(cr[s]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(s));if(!cr[i]){let t=s!==e?e:(e=>{let t,r,n=[{}];for(;t=sr.exec(e.replace(ir,""));)t[4]?n.shift():t[3]?(r=t[3].replace(or," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(or," ").trim();return n[0]})(e);cr[i]=lr(a?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&cr.g?cr.g:null;return r&&(cr.g=cr[i]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(cr[i],t,n,o),i};function hr(e){let t=this||{},r=e.call?e(t.p):e;return dr(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,a)=>{let s=t[a];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":lr(e,""):!1===e?"":e}return e+n+(null==s?"":s)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,ar(t.target),t.g,t.o,t.k)}hr.bind({g:1});let mr,fr,pr,gr=hr.bind({k:1});function yr(e,t){let r=this||{};return function(){let n=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;r.p=Object.assign({theme:fr&&fr()},o),r.o=/ *go\d+/.test(l),o.className=hr.apply(r,n)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),pr&&c[0]&&pr(o),mr(c,o)}return t?t(a):a}}var br=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,xr=(()=>{let e=0;return()=>(++e).toString()})(),vr=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),kr=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return kr(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},wr=[],jr={toasts:[],pausedAt:void 0},_r=e=>{jr=kr(jr,e),wr.forEach(e=>{e(jr)})},Nr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Sr=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||xr()}}(t,e,r);return _r({type:2,toast:n}),n.id},Er=(e,t)=>Sr("blank")(e,t);Er.error=Sr("error"),Er.success=Sr("success"),Er.loading=Sr("loading"),Er.custom=Sr("custom"),Er.dismiss=e=>{_r({type:3,toastId:e})},Er.remove=e=>_r({type:4,toastId:e}),Er.promise=(e,t,r)=>{let n=Er.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?br(t.success,e):void 0;return a?Er.success(a,{id:n,...r,...null==r?void 0:r.success}):Er.dismiss(n),e}).catch(e=>{let a=t.error?br(t.error,e):void 0;a?Er.error(a,{id:n,...r,...null==r?void 0:r.error}):Er.dismiss(n)}),e};var Cr=(e,t)=>{_r({type:1,toast:{id:e,height:t}})},Tr=()=>{_r({type:5,time:Date.now()})},Pr=new Map,Ar=e=>{let{toasts:t,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,n.useState)(jr),a=(0,n.useRef)(jr);(0,n.useEffect)(()=>(a.current!==jr&&r(jr),wr.push(r),()=>{let e=wr.indexOf(r);e>-1&&wr.splice(e,1)}),[]);let s=t.toasts.map(t=>{var r,n,a;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Nr[t.type],style:{...e.style,...null==(a=e[t.type])?void 0:a.style,...t.style}}});return{...t,toasts:s}}(e);(0,n.useEffect)(()=>{if(r)return;let e=Date.now(),n=t.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>Er.dismiss(t.id),r);t.visible&&Er.dismiss(t.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[t,r]);let a=(0,n.useCallback)(()=>{r&&_r({type:6,time:Date.now()})},[r]),s=(0,n.useCallback)((e,r)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:s}=r||{},i=t.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[t]);return(0,n.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Pr.has(e))return;let r=setTimeout(()=>{Pr.delete(e),_r({type:4,toastId:e})},t);Pr.set(e,r)}(e.id,e.removeDelay);else{let t=Pr.get(e.id);t&&(clearTimeout(t),Pr.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Cr,startPause:Tr,endPause:a,calculateOffset:s}}},Or=gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zr=gr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rr=gr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lr=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Or} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dr=gr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ir=yr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Dr} 1s linear infinite;
`,$r=gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Mr=gr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Fr=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$r} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Mr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Br=yr("div")`
  position: absolute;
`,Ur=yr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qr=gr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hr=yr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Gr=e=>{let{toast:t}=e,{icon:r,type:a,iconTheme:s}=t;return void 0!==r?"string"==typeof r?n.createElement(Hr,null,r):r:"blank"===a?null:n.createElement(Ur,null,n.createElement(Ir,{...s}),"loading"!==a&&n.createElement(Br,null,"error"===a?n.createElement(Lr,{...s}):n.createElement(Fr,{...s})))},Kr=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Wr=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Yr=yr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vr=yr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qr=n.memo(e=>{let{toast:t,position:r,style:a,children:s}=e,i=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=vr()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Kr(r),Wr(r)];return{animation:t?`${gr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||r||"top-center",t.visible):{opacity:0},o=n.createElement(Gr,{toast:t}),l=n.createElement(Vr,{...t.ariaProps},br(t.message,t));return n.createElement(Yr,{className:t.className,style:{...i,...a,...t.style}},"function"==typeof s?s({icon:o,message:l}):n.createElement(n.Fragment,null,o,l))});!function(e,t,r,n){lr.p=t,mr=e,fr=r,pr=n}(n.createElement);var Jr=e=>{let{id:t,className:r,style:a,onHeightUpdate:s,children:i}=e,o=n.useCallback(e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;s(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return n.createElement("div",{ref:o,className:r,style:a},i)},Xr=hr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zr=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:i,containerStyle:o,containerClassName:l}=e,{toasts:c,handlers:u}=Ar(a);return n.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(e=>{let a=e.position||r,o=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}})(a,u.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:r}));return n.createElement(Jr,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Xr:"",style:o},"custom"===e.type?br(e.message,e):i?i(e):n.createElement(Qr,{toast:e,position:a}))}))},en=Er;const tn=(0,n.createContext)(void 0),rn=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(()=>{const e=localStorage.getItem("spendme_theme");return e&&["light","dark","auto"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"auto":"light"}),[s,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=document.documentElement;if("auto"===r){e.classList.remove("light","dark");const t=window.matchMedia("(prefers-color-scheme: dark)");i(t.matches);const r=e=>{i(e.matches)};return t.addEventListener("change",r),()=>t.removeEventListener("change",r)}e.classList.remove("light","dark"),e.classList.add(r),i("dark"===r)},[r]);const o={theme:r,setTheme:e=>{a(e),localStorage.setItem("spendme_theme",e)},isDark:s};return(0,er.jsx)(tn.Provider,{value:o,children:t})};class nn extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class an extends nn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sn extends nn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class on extends nn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ln;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(ln||(ln={}));var cn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class un{constructor(e){let{headers:t={},customFetch:n,region:a=ln.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return cn(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:s}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(i["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(i["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),n),body:c}).catch(e=>{throw new an(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new sn(u);if(!u.ok)throw new on(u);let h,m=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===m?yield u.json():"application/octet-stream"===m?yield u.blob():"text/event-stream"===m?u:"multipart/form-data"===m?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(n){return{data:null,error:n,response:n instanceof on||n instanceof sn?n.context:void 0}}})}}var dn=r(980);const{PostgrestClient:hn,PostgrestQueryBuilder:mn,PostgrestFilterBuilder:fn,PostgrestTransformBuilder:pn,PostgrestBuilder:gn,PostgrestError:yn}=dn;const bn=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var xn,vn,kn,wn,jn,_n;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(xn||(xn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(vn||(vn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(kn||(kn={})),function(e){e.websocket="websocket"}(wn||(wn={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(jn||(jn={}));class Nn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+n));s+=n;const o=r.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class Sn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(_n||(_n={}));const En=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,a)=>(r[a]=Cn(a,e,t,n),r),{})},Cn=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=r[e];return s&&!n.includes(s)?Tn(s,i):Pn(i)},Tn=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Rn(t,r)}switch(e){case _n.bool:return An(t);case _n.float4:case _n.float8:case _n.int2:case _n.int4:case _n.int8:case _n.numeric:case _n.oid:return On(t);case _n.json:case _n.jsonb:return zn(t);case _n.timestamp:return Ln(t);case _n.abstime:case _n.date:case _n.daterange:case _n.int4range:case _n.int8range:case _n.money:case _n.reltime:case _n.text:case _n.time:case _n.timestamptz:case _n.timetz:case _n.tsrange:case _n.tstzrange:default:return Pn(t)}},Pn=e=>e,An=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},On=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Rn=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(Fr){n=a?a.split(","):[]}return n.map(e=>Tn(t,e))}return e},Ln=e=>"string"===typeof e?e.replace(" ","T"):e,Dn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class In{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $n,Mn,Fn,Bn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}($n||($n={}));class Un{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Un.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Un.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Un.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Mn||(Mn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Fn||(Fn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Bn||(Bn={}));class qn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new In(this,kn.join,this.params,this.timeout),this.rejoinTimer=new Sn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Un(this),this.broadcastEndpointURL=Dn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==vn.closed){const{config:{broadcast:a,presence:s,private:i}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(Bn.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Bn.CLOSED));const o={},l={broadcast:a,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=vn.errored,void(null===e||void 0===e||e(Bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(Bn.SUBSCRIBED))}null===e||void 0===e||e(Bn.SUBSCRIBED)}).receive("error",t=>{this.state=vn.errored,null===e||void 0===e||e(Bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=vn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new In(this,kn.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new In(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=kn;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(u,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&qn.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kn.close,{},e)}_onError(e){this._on(kn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=En(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=En(e.columns,e.old_record)),t}}const Hn=()=>{};class Gn{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hn,this.ref=0,this.logger=Hn,this.conn=null,this.sendBuffer=[],this.serializer=new Nn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${wn.websocket}`,this.httpEndpoint=Dn(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sn(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=bn),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xn.connecting:return jn.Connecting;case xn.open:return jn.Open;case xn.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new qn(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:"realtime-js/2.11.15"};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(kn.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:a}=e;"phoenix"===t&&"phx_reply"===r&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${a&&"("+a+")"||""}`,n),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(kn.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Kn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Yn extends Kn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vn extends Kn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Qn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Jn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},Xn=e=>{if(Array.isArray(e))return e.map(e=>Xn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Xn(n)}),t};var Zn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ta=(e,t,n)=>Zn(void 0,void 0,void 0,function*(){const a=yield Qn(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,630))).Response:Response});e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(r=>{t(new Yn(ea(r),e.status||500))}).catch(e=>{t(new Vn(ea(e),e))}):t(new Vn(ea(e),e))});function ra(e,t,r,n,a,s){return Zn(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,s)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>ta(e,o,n))})})}function na(e,t,r,n){return Zn(this,void 0,void 0,function*(){return ra(e,"GET",t,r,n)})}function aa(e,t,r,n,a){return Zn(this,void 0,void 0,function*(){return ra(e,"POST",t,n,a,r)})}function sa(e,t,r,n,a){return Zn(this,void 0,void 0,function*(){return ra(e,"DELETE",t,n,a,r)})}var ia=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const oa={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},la={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ca{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=Jn(n)}uploadOrUpdate(e,t,r,n){return ia(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},la),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===n||void 0===n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}upload(e,t,r){return ia(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return ia(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+`/object/upload/sign/${s}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:la.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);const o=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(Wn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return ia(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield aa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new Kn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}update(e,t,r){return ia(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ia(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}copy(e,t,r){return ia(this,void 0,void 0,function*(){try{return{data:{path:(yield aa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return ia(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield aa(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return ia(this,void 0,void 0,function*(){try{const n=yield aa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}download(e,t){return ia(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield na(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(Wn(s))return{data:null,error:s};throw s}})}info(e){return ia(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield na(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Xn(e),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}exists(e){return ia(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return Zn(this,void 0,void 0,function*(){return ra(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Wn(r)&&r instanceof Vn){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&n.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}remove(e){return ia(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}list(e,t,r){return ia(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},oa),t),{prefix:e||""});return{data:yield aa(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ua={"X-Client-Info":"storage-js/2.7.1"};var da=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class ha{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},ua),t),this.fetch=Jn(r)}listBuckets(){return da(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wn(e))return{data:null,error:e};throw e}})}getBucket(e){return da(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return da(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return da(this,void 0,void 0,function*(){try{const r=yield function(e,t,r,n,a){return Zn(this,void 0,void 0,function*(){return ra(e,"PUT",t,n,a,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return da(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return da(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}}class ma extends ha{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ca(this.url,this.headers,e,this.fetch)}}let fa="";fa="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const pa={headers:{"X-Client-Info":`supabase-js-${fa}/2.52.0`}},ga={schema:"public"},ya={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ba={};var xa=r(630),va=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const ka=e=>{let t;return t=e||("undefined"===typeof fetch?xa.default:fetch),function(){return t(...arguments)}},wa=(e,t,r)=>{const n=ka(r),a="undefined"===typeof Headers?xa.Headers:Headers;return(r,s)=>va(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,Object.assign(Object.assign({},s),{headers:l}))})};var ja=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const _a="2.71.1",Na=3e4,Sa=9e4,Ea={"X-Client-Info":`gotrue-js/${_a}`},Ca="X-Supabase-Api-Version",Ta={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Pa=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Aa extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Oa(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class za extends Aa{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Ra extends Aa{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class La extends Aa{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Da extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ia extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $a extends La{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ma extends La{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fa extends La{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ba extends La{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ua(e){return Oa(e)&&"AuthRetryableFetchError"===e.name}class qa extends La{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ha extends La{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ga="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ka=" \t\n\r=".split(""),Wa=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ka.length;t+=1)e[Ka[t].charCodeAt(0)]=-2;for(let t=0;t<Ga.length;t+=1)e[Ga[t].charCodeAt(0)]=t;return e})();function Ya(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Ga[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Ga[e]),t.queuedBits-=6}}function Va(e,t,r){const n=Wa[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Qa(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)Va(e.charCodeAt(i),a,s);return t.join("")}function Ja(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Xa(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Ja(n,t)}}function Za(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Va(e.charCodeAt(a),r,n);return new Uint8Array(t)}function es(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>Ya(e,r,n)),Ya(null,r,n),t.join("")}const ts=()=>"undefined"!==typeof window&&"undefined"!==typeof document,rs={tested:!1,writable:!1},ns=()=>{if(!ts())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(nr){return!1}if(rs.tested)return rs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rs.tested=!0,rs.writable=!0}catch(nr){rs.tested=!0,rs.writable=!1}return rs.writable};const as=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},ss=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},is=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},os=async(e,t)=>{await e.removeItem(t)};class ls{constructor(){this.promise=new ls.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function cs(e){const t=e.split(".");if(3!==t.length)throw new Ha("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Pa.test(t[r]))throw new Ha("JWT not in base64url format");return{header:JSON.parse(Qa(t[0])),payload:JSON.parse(Qa(t[1])),signature:Za(t[2]),raw:{header:t[0],payload:t[1]}}}function us(e){return("0"+e.toString(16)).substr(-2)}async function ds(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hs(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,us).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ss(e,`${t}-code-verifier`,a);const s=await ds(n);return[s,n===s?"plain":"s256"]}ls.promiseConstructor=Promise;const ms=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const fs=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(e){if(!fs.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gs(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ys(e){return JSON.parse(JSON.stringify(e))}var bs=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vs=[502,503,504];async function ks(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Ba(xs(e),0);if(vs.includes(e.status))throw new Ba(xs(e),e.status);let n,a;try{n=await e.json()}catch(nr){throw new Ra(xs(nr),nr)}const s=function(e){const t=e.headers.get(Ca);if(!t)return null;if(!t.match(ms))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(nr){return null}}(e);if(s&&s.getTime()>=Ta.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new qa(xs(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Da}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new qa(xs(n),e.status,n.weak_password.reasons);throw new za(xs(n),e.status||500,a)}async function ws(e,t,r,n){var a;const s=Object.assign({},null===n||void 0===n?void 0:n.headers);s[Ca]||(s[Ca]=Ta.name),(null===n||void 0===n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);const i=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,a,s){const i=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(nr){throw console.error(nr),new Ba(xs(nr),0)}o.ok||await ks(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(nr){await ks(nr)}}(e,t,r+o,{headers:s,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function js(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function _s(e){const t=js(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ns(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ss(e){return{data:e,error:null}}function Es(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=bs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function Cs(e){return e}const Ts=["global","local","others"];var Ps=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class As{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=as(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ts[0];if(Ts.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ts.join(", ")}`);try{return await ws(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ws(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ns})}catch(r){if(Oa(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Ps(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await ws(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Es,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Oa(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ws(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ns})}catch(t){if(Oa(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await ws(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:Cs});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Oa(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ps(e);try{return await ws(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ns})}catch(t){if(Oa(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ps(e);try{return await ws(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ns})}catch(r){if(Oa(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ps(e);try{return await ws(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ns})}catch(r){if(Oa(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ps(e.userId);try{const{data:t,error:r}=await ws(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Oa(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ps(e.userId),ps(e.id);try{return{data:await ws(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Oa(t))return{data:null,error:t};throw t}}}function Os(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zs=!!(globalThis&&ns()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Rs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ls extends Rs{}async function Ds(e,t,r){zs&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zs&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw zs&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ls(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zs)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(nr){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",nr)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}zs&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{zs&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(nr){"undefined"!==typeof self&&(self.globalThis=self)}}();const Is={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ea,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $s(e,t,r){return await r()}const Ms={};class Fs{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fs.nextInstanceID,Fs.nextInstanceID+=1,this.instanceID>0&&ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Is),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new As({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=as(n.fetch),this.lock=n.lock||$s,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ts()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ds:this.lock=$s,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ns()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Os(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Os(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(nr){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",nr)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Ms[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Ms[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(`GoTrueClient@${this.instanceID} (${_a}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(nr){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ts()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Oa(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Oa(t)?{error:t}:{error:new Ra("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await ws(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:js}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Oa(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await hs(this.storage,this.storageKey)),a=await ws(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:js})}else{if(!("phone"in e))throw new $a("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await ws(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null===i||void 0===i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:js})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Oa(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await ws(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:_s})}else{if(!("phone"in e))throw new $a("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await ws(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:_s})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Ia}}catch(t){if(Oa(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,a,s,i,o,l,c,u,d,h;let m,f;if("message"in e)m=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:p,options:g}=e;let y;if(ts())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const b=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${b.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(m),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:r}=await ws(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:es(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:js});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new Ia}}catch(p){if(Oa(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const t=await is(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await ws(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:js});if(await os(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Ia}}catch(a){if(Oa(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,i=await ws(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:js}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Ia}}catch(t){if(Oa(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await hs(this.storage,this.storageKey));const{error:o}=await ws(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await ws(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new $a("You must provide either an email or phone number.")}catch(i){if(Oa(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await ws(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:js});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(Oa(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await hs(this.storage,this.storageKey)),await ws(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Ss})}catch(a){if(Oa(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Da;const{error:n}=await ws(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Oa(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await ws(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:i}=await ws(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new $a("You must provide either an email or phone number and a type")}catch(t){if(Oa(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(nr){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(nr){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Sa;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await is(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=gs()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await ws(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ns}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ws(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Ns}):{data:{user:null},error:new Da}})}catch(t){if(Oa(t))return function(e){return Oa(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new Da;const s=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await hs(this.storage,this.storageKey));const{data:l,error:c}=await ws(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Ns});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Oa(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Da;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=cs(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Oa(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Da;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Oa(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ts())throw new Ma("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ma(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Fa("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ma("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fa("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new Ma("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Na&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const m=d-u;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:f,error:p}=await this._getUser(a);if(p)throw p;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Oa(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await is(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return Oa(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await hs(this.storage,this.storageKey,!0));try{return await ws(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Oa(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Oa(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await ws(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return ts()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(Oa(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await ws(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(Oa(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await function(e,t){const r=new Promise((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const n=await e(a);if(!t(a,null,n))return void r(n)}catch(nr){if(!t(a,nr))return void n(nr)}})()});return r}(async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ws(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:js})),(e,t)=>{const n=200*Math.pow(2,e);return t&&Ua(t)&&Date.now()+n-r<Na})}catch(r){if(this._debug(t,"error",r),Oa(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ts()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await is(this.storage,this.storageKey);if(a&&this.userStorage){let t=await is(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await ss(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:gs()}else if(a&&!a.user&&!a.user){const e=await is(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await os(this.storage,this.storageKey+"-user"),await ss(this.storage,this.storageKey,a)):a.user=gs()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Sa;if(this._debug(r,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Ua(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(r,"error",a),void console.error(a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ls;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Da;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),Oa(a)){const e={session:null,error:a};return Ua(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(nr){n.push(nr)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await ss(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=ys(e);await ss(this.storage,this.storageKey,n)}else{const e=ys(t);await ss(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await os(this.storage,this.storageKey),await os(this.storage,this.storageKey+"-code-verifier"),await os(this.storage,this.storageKey+"-user"),this.userStorage&&await os(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ts()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(nr){console.error("removing visibilitychange callback failed",nr)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Na);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/Na);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(nr){console.error("Auto refresh tick failed with error. This is likely a transient error.",nr)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(nr){if(!(nr.isAcquireTimeout||nr instanceof Rs))throw nr;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null===r||void 0===r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await hs(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await ws(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Oa(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await ws(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(Oa(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await ws(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(Oa(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await ws(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Oa(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=cs(n.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await ws(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:i,payload:o}}=cs(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return Xa(e,e=>t.push(e)),new Uint8Array(t)}(`${i}.${o}`)))throw new Ha("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}}}Fs.nextInstanceID=0;const Bs=Fs;class Us extends Bs{constructor(e){super(e)}}var qs=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(nr){s(nr)}}function o(e){try{l(n.throw(e))}catch(nr){s(nr)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class Hs{constructor(e,t,r){var n,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>ja(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:ga,realtime:ba,auth:Object.assign(Object.assign({},ya),{storageKey:c}),global:pa});this.storageKey=null!==(n=u.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=wa(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hn(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new un(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ma(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return qs(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Us({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Gn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const Gs=(e,t,r)=>new Hs(e,t,r),Ks="https://rgvegoevmdayjszwgxph.supabase.co",Ws="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJndmVnb2V2bWRheWpzendneHBoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MzU3MzUsImV4cCI6MjA2MzQxMTczNX0.5tpoLHj0vEpfEwtJ9-oIF341Cv9fBOo6DBn3wbGl9x8";console.log("\u2705 Supabase configured with hardcoded credentials"),console.log(Ks,Ws);const Ys=Gs(Ks,Ws),Vs=(0,n.createContext)(void 0),Qs=()=>{const e=(0,n.useContext)(Vs);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Js=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0),c=async e=>{try{console.log("Loading profile for user:",e);const u=new Promise((e,t)=>{setTimeout(()=>t(new Error("Profile load timeout")),1e4)}),d=Ys.from("spendme_user_profiles").select("*").eq("user_id",e).single(),{data:h,error:m}=await Promise.race([d,u]);if(console.log("Profile load result:",{data:h,error:m}),m)return"PGRST116"===m.code||"406"===m.code?(console.log("Profile not found or access denied, setting to null"),void i(null)):(console.error("Profile load error:",m),void i(null));if(h){var t,r,n,a,s,o,l,c;const e={id:h.id,user_id:h.user_id,first_name:h.first_name||"",last_name:h.last_name||"",phone:h.phone||"",location:h.location||"",avatar_url:h.avatar_url,email_notifications:null===(t=h.email_notifications)||void 0===t||t,push_notifications:null===(r=h.push_notifications)||void 0===r||r,budget_alerts:null===(n=h.budget_alerts)||void 0===n||n,transaction_reminders:null===(a=h.transaction_reminders)||void 0===a||a,weekly_reports:null!==(s=h.weekly_reports)&&void 0!==s&&s,monthly_reports:null===(o=h.monthly_reports)||void 0===o||o,security_alerts:null===(l=h.security_alerts)||void 0===l||l,marketing_emails:null!==(c=h.marketing_emails)&&void 0!==c&&c};console.log("Setting user profile:",e),i(e)}else console.log("No profile data found, setting to null"),i(null)}catch(u){console.error("Profile load error:",u),i(null)}},u=async e=>{if(!r)return{error:new Error("User not authenticated")};try{console.log("Updating profile for user:",r.id),console.log("Profile data:",e);const{data:t}=await Ys.from("spendme_user_profiles").select("*").eq("user_id",r.id).single();let n;return console.log("Existing data:",t),t?(console.log("Updating existing profile..."),n=await Ys.from("spendme_user_profiles").update(e).eq("user_id",r.id)):(console.log("Inserting new profile..."),n=await Ys.from("spendme_user_profiles").insert({user_id:r.id,...e})),console.log("Result:",n),n.error?(console.error("Profile update error:",n.error),{error:n.error}):(await d(),{error:null})}catch(t){return console.error("Profile update exception:",t),{error:t}}},d=async()=>{r&&await c(r.id)};(0,n.useEffect)(()=>{let e=!0;const t=setTimeout(()=>{e&&l(!1)},3e3);(async()=>{try{console.log("\ud83d\udd0d Getting initial session...");const{data:{session:t}}=await Ys.auth.getSession();console.log("\ud83d\udd0d Session:",t),e&&null!==t&&void 0!==t&&t.user?(console.log("\u2705 User authenticated:",t.user.email),a(t.user),await c(t.user.id)):console.log("\u274c No user in session")}catch(t){console.error("\u274c Initial session error:",t)}finally{e&&l(!1)}})();const{data:{subscription:r}}=Ys.auth.onAuthStateChange(async(r,n)=>{try{var s;console.log("\ud83d\udd04 Auth state change:",r,null===n||void 0===n||null===(s=n.user)||void 0===s?void 0:s.email),clearTimeout(t),e&&null!==n&&void 0!==n&&n.user?(console.log("\u2705 Auth state change - User authenticated:",n.user.email),a(n.user),await c(n.user.id)):(console.log("\u274c Auth state change - No user"),a(null),i(null))}catch(o){console.error("\u274c Auth state change error:",o)}finally{e&&l(!1)}});return()=>{e=!1,clearTimeout(t),r.unsubscribe()}},[]);const h={user:r,userProfile:s,loading:o,signIn:async(e,t)=>{console.log("\ud83d\udd10 Attempting sign in with:",{email:e,password:"***"});const{error:r}=await Ys.auth.signInWithPassword({email:e,password:t});return console.log("\ud83d\udd10 Sign in result:",{error:null===r||void 0===r?void 0:r.message}),{error:r}},signUp:async(e,t)=>{console.log("\ud83d\udcdd Attempting sign up with:",{email:e,password:"***"});const{error:r}=await Ys.auth.signUp({email:e,password:t});return console.log("\ud83d\udcdd Sign up result:",{error:null===r||void 0===r?void 0:r.message}),{error:r}},signOut:async()=>{await Ys.auth.signOut()},updateUserProfile:u,updateProfilePhoto:async e=>{if(!r)return{error:new Error("User not authenticated")};try{console.log("Uploading profile photo for user:",r.id);const t=await(async(e,t)=>{try{const s=5242880;if(e.size>s)throw new Error("File size too large. Please select an image smaller than 5MB.");if(!e.type.startsWith("image/"))throw new Error("Please select a valid image file.");const i=`${t}-${Date.now()}.${e.name.split(".").pop()}`;console.log("Uploading file:",{fileName:i,fileSize:e.size,fileType:e.type});const o=["avatars","profile-photos","user-avatars"];for(const t of o)try{console.log(`Trying direct upload to bucket: ${t}`);const{data:a,error:s}=await Ys.storage.from(t).upload(i,e,{cacheControl:"3600",upsert:!0});if(s){var r,n;if(console.log(`Upload error for ${t}:`,s),null!==(r=s.message)&&void 0!==r&&r.includes("row-level security policy")){console.log(`RLS policy error for ${t}, trying next bucket...`);continue}if(null!==(n=s.message)&&void 0!==n&&n.includes("not found")){console.log(`Bucket ${t} not found, trying next bucket...`);continue}throw s}if(a){const{data:e}=Ys.storage.from(t).getPublicUrl(i);return console.log(`Upload successful to ${t}, public URL:`,e.publicUrl),e.publicUrl}}catch(a){console.log(`Error with bucket ${t}:`,a);continue}throw new Error("All storage buckets failed. Please check bucket permissions and RLS policies.")}catch(s){throw console.log("Profile photo upload error:",s),s}})(e,r.id);if(!t)throw new Error("Failed to upload profile photo");console.log("Photo uploaded, public URL:",t);const{error:n}=await u({avatar_url:t});if(n)throw n;return console.log("Profile updated with new avatar URL:",t),console.log("Current userProfile after update:",s),{error:null}}catch(t){return console.error("Profile photo update error:",t),{error:t}}},refreshUserProfile:d};return(0,er.jsx)(Vs.Provider,{value:h,children:t})},Xs=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Zs=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},ei=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var ti={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ri=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...u}=e;return(0,n.createElement)("svg",{ref:t,...ti,width:a,height:a,stroke:r,strokeWidth:i?24*Number(s)/Number(a):s,className:Zs("lucide",o),...!l&&!ei(u)&&{"aria-hidden":"true"},...u},[...c.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(l)?l:[l]])}),ni=(e,t)=>{const r=(0,n.forwardRef)((r,a)=>{let{className:s,...i}=r;return(0,n.createElement)(ri,{ref:a,iconNode:t,className:Zs(`lucide-${o=Xs(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i});var o});return r.displayName=Xs(e),r},ai=ni("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),si=ni("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ii=ni("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),oi=ni("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),li=ni("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),ci=ni("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ui=ni("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),di=ni("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hi=[{name:"Dashboard",href:"/dashboard",icon:"Home",mobile:!0},{name:"\u0130\u015flemler",href:"/transactions",icon:"CreditCard",mobile:!0},{name:"Kategoriler",href:"/categories",icon:"Tag",mobile:!1},{name:"Hesaplar",href:"/accounts",icon:"Wallet",mobile:!1},{name:"B\xfct\xe7eler",href:"/budgets",icon:"PieChart",mobile:!0},{name:"Raporlar",href:"/reports",icon:"BarChart3",mobile:!1},{name:"AI Asistan",href:"/ai",icon:"Bot",mobile:!1},{name:"B\xfct\xe7e Durumu",href:"/budget-status",icon:"PieChart",mobile:!1},{name:"Ayarlar",href:"/settings",icon:"Settings",mobile:!0}],mi=hi.filter(e=>e.mobile),fi=hi,pi=["\ud83d\udcb8","\ud83d\udcb0","\ud83c\udfe6","\ud83d\uded2","\ud83c\udf54","\u2615","\ud83d\ude97","\ud83c\udfe0","\ud83e\uddfe","\ud83c\udf81","\ud83c\udfe5","\ud83c\udf93","\ud83d\udecd\ufe0f","\ud83c\udfd6\ufe0f","\ud83d\udc3e","\ud83d\udcf1","\ud83c\udfac","\ud83e\uddf4","\ud83d\udee0\ufe0f","\ud83e\uddf8","\ud83c\udfcb\ufe0f","\ud83d\udcda","\ud83e\udd73","\ud83c\udfeb","\ud83c\udfe2","\ud83c\udfec","\ud83c\udfe7","\ud83c\udfe0","\ud83d\udecf\ufe0f","\ud83d\udda5\ufe0f","\ud83e\uddf3","\ud83d\udee1\ufe0f","\ud83e\uddc3","\ud83e\udd57","\ud83e\uddc2","\ud83e\uddf9","\ud83e\uddfa","\ud83e\uddfb","\ud83e\uddfc","\ud83e\uddef","\ud83e\uddea","\ud83e\uddd1\u200d\ud83c\udf93","\ud83e\uddd1\u200d\ud83d\udcbc","\ud83e\uddd1\u200d\ud83d\udd27","\ud83e\uddd1\u200d\ud83c\udf73","\ud83e\uddd1\u200d\ud83d\ude80","\ud83e\uddd1\u200d\ud83c\udf3e","\ud83e\uddd1\u200d\ud83c\udfa4","\ud83e\uddd1\u200d\ud83c\udfeb"],gi=()=>{var e;const{user:t,userProfile:r}=Qs(),n={Home:ai,CreditCard:si,Tag:ii,Wallet:oi,PieChart:li,BarChart3:ci,Bot:ui,Settings:di},a=e=>{const t=n[e];return t?(0,er.jsx)(t,{className:"h-5 w-5"}):null};return(0,er.jsx)(er.Fragment,{children:(0,er.jsx)("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg",children:(0,er.jsxs)("div",{className:"flex flex-col h-full",children:[(0,er.jsx)("div",{className:"flex items-center justify-center h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,er.jsx)("span",{className:"text-white font-bold text-lg",children:"\u20ba"})}),(0,er.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"SpendMe"})]})}),(0,er.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:fi.map(e=>(0,er.jsxs)(ct,{to:e.href,className:e=>{let{isActive:t}=e;return`\n                  flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200\n                  ${t?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}\n                `},children:[(0,er.jsx)("span",{children:a(e.icon)}),(0,er.jsx)("span",{children:e.name})]},e.href))}),(0,er.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,er.jsxs)(lt,{to:"/profile",className:"flex items-center space-x-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg p-2 -m-2 transition-colors",children:[(0,er.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,er.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null===r||void 0===r?void 0:r.first_name.charAt(0))||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.charAt(0))||"U"})}),(0,er.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:null!==r&&void 0!==r&&r.first_name&&null!==r&&void 0!==r&&r.last_name?`${r.first_name} ${r.last_name}`:(null===r||void 0===r?void 0:r.first_name)||"Kullan\u0131c\u0131"}),(0,er.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(null===t||void 0===t?void 0:t.email)||""})]})]})})]})})})},yi=ni("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),bi=ni("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),xi=ni("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),vi=ni("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ki=ni("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),wi=()=>{const{user:e,userProfile:t,signOut:r}=Qs(),a=ne(),[s,i]=n.useState(""),[o,l]=(0,n.useState)(!1),c=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return(0,er.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40",children:(0,er.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[(0,er.jsxs)("div",{className:"lg:hidden flex items-center space-x-3",children:[(0,er.jsx)("button",{className:"p-2 -ml-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,er.jsx)(yi,{className:"h-5 w-5"})}),(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center mr-3 shadow-sm",children:(0,er.jsx)("span",{className:"text-white font-bold text-lg",children:"\u20ba"})}),(0,er.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"SpendMe"})]})]}),(0,er.jsx)("div",{className:"hidden lg:flex flex-1 max-w-lg mx-8",children:(0,er.jsxs)("div",{className:"relative w-full",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(bi,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{type:"text",placeholder:"\u0130\u015flem, kategori veya hesap ara...",value:s,onChange:e=>i(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl leading-5 bg-white dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-gray-100 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-all duration-200"})]})}),(0,er.jsxs)("div",{className:"flex items-center space-x-1 lg:space-x-3",children:[(0,er.jsx)("button",{className:"lg:hidden p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,er.jsx)(bi,{className:"h-5 w-5"})}),(0,er.jsx)("button",{className:"lg:hidden p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,er.jsx)(di,{className:"h-5 w-5"})}),(0,er.jsxs)("button",{className:"relative p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,er.jsx)(xi,{className:"h-5 w-5 lg:h-6 lg:w-6"}),(0,er.jsx)("span",{className:"absolute top-2 right-2 block h-2.5 w-2.5 rounded-full bg-red-500 border-2 border-white"})]}),(0,er.jsxs)("div",{className:"relative",ref:c,children:[(0,er.jsxs)("button",{onClick:()=>l(!o),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,er.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full flex items-center justify-center shadow-sm",children:(0,er.jsx)(vi,{className:"h-4 w-4 text-white"})}),(0,er.jsx)("span",{className:"hidden lg:block text-sm font-medium text-gray-700 dark:text-gray-300",children:null!==t&&void 0!==t&&t.first_name&&null!==t&&void 0!==t&&t.last_name?`${t.first_name} ${t.last_name}`:(null===t||void 0===t?void 0:t.first_name)||"Kullan\u0131c\u0131"})]}),o&&(0,er.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50",children:[(0,er.jsx)(lt,{to:"/profile",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Profil"}),(0,er.jsx)(lt,{to:"/settings",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Ayarlar"}),(0,er.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,er.jsxs)("button",{onClick:async()=>{try{await r(),en.success("Ba\u015far\u0131yla \xe7\u0131k\u0131\u015f yapt\u0131n\u0131z!"),a("/login")}catch(e){en.error("\xc7\u0131k\u0131\u015f yap\u0131l\u0131rken hata olu\u015ftu!")}},className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,er.jsx)(ki,{className:"h-4 w-4 inline mr-2"}),"\xc7\u0131k\u0131\u015f Yap"]})]})]})]})]})})},ji=()=>{const e={Home:ai,CreditCard:si,Tag:ii,Wallet:oi,PieChart:li,BarChart3:ci,Bot:ui,Settings:di},t=t=>{const r=e[t];return r?(0,er.jsx)(r,{className:"h-6 w-6"}):null};return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)("div",{className:"lg:hidden h-6 bg-white"}),(0,er.jsx)("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 shadow-lg",children:(0,er.jsx)("nav",{className:"flex justify-around px-2 py-3",children:mi.map(e=>(0,er.jsx)(ct,{to:e.href,className:e=>{let{isActive:t}=e;return`\n                relative flex flex-col items-center justify-center py-3 px-2 min-w-0 flex-1 \n                transition-all duration-200 ease-in-out rounded-xl mx-1\n                ${t?"text-primary-600 bg-primary-50 shadow-sm":"text-gray-500 hover:text-primary-600 hover:bg-gray-50"}\n              `},children:r=>{let{isActive:n}=r;return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)("div",{className:`\n                    flex flex-col items-center space-y-1\n                    ${n?"transform scale-110":"transform scale-100"}\n                  `,children:[(0,er.jsx)("span",{className:"transition-transform duration-200",children:t(e.icon)}),(0,er.jsx)("span",{className:"text-xs font-medium truncate leading-tight",children:e.name})]}),n&&(0,er.jsx)("div",{className:"absolute bottom-1 w-1 h-1 bg-primary-600 rounded-full"})]})}},e.href))})})]})},_i=()=>(0,er.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-800",children:[(0,er.jsx)(gi,{}),(0,er.jsxs)("div",{className:"lg:pl-64",children:[(0,er.jsx)(wi,{}),(0,er.jsx)("main",{className:"py-4 lg:py-6 pb-24 lg:pb-6",children:(0,er.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,er.jsx)(we,{})})})]}),(0,er.jsx)(ji,{})]}),Ni=()=>{const{user:e,loading:t}=Qs();return console.log("\ud83d\udd0d ProtectedRoute - Auth check:",{user:null===e||void 0===e?void 0:e.email,loading:t}),t?(console.log("\u23f3 ProtectedRoute - Loading..."),(0,er.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,er.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Y\xfckleniyor..."})]})})):e?(console.log("\u2705 ProtectedRoute - User authenticated, rendering layout"),(0,er.jsx)(_i,{})):(console.log("\u274c ProtectedRoute - No user, redirecting to login"),(0,er.jsx)(ke,{to:"/login",replace:!0}))},Si=ni("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ei=ni("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ci=ni("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ti=ni("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Pi=ni("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ai=ni("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Oi=ni("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),zi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ri(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Li={date:Ri({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ri({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ri({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Di={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ii(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function $i(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var Mi;const Fi={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=zi[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:Li,formatRelative:(e,t,r,n)=>Di[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Ii({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ii({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ii({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ii({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ii({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Mi={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match(Mi.matchPattern);if(!r)return null;const n=r[0],a=e.match(Mi.parsePattern);if(!a)return null;let s=Mi.valueCallback?Mi.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(n.length)}}),era:$i({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:$i({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:$i({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:$i({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:$i({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Bi={};function Ui(){return Bi}Math.pow(10,8);const qi=6048e5,Hi=Symbol.for("constructDateFrom");function Gi(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Hi in e?e[Hi](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ki(e,t){return Gi(t||e,e)}function Wi(e){const t=Ki(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Yi(e,t){const r=Ki(e,t?.in);return r.setHours(0,0,0,0),r}function Vi(e,t,r){const[n,a]=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=Gi.bind(null,e||r.find(e=>"object"===typeof e));return r.map(a)}(r?.in,e,t),s=Yi(n),i=Yi(a),o=+s-Wi(s),l=+i-Wi(i);return Math.round((o-l)/864e5)}function Qi(e,t){const r=Ki(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ji(e,t){const r=Ki(e,t?.in);return Vi(r,Qi(r))+1}function Xi(e,t){const r=Ui(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Ki(e,t?.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Zi(e,t){return Xi(e,{...t,weekStartsOn:1})}function eo(e,t){const r=Ki(e,t?.in),n=r.getFullYear(),a=Gi(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Zi(a),i=Gi(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Zi(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function to(e,t){const r=eo(e,t),n=Gi(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Zi(n)}function ro(e,t){const r=Ki(e,t?.in),n=+Zi(r)-+to(r);return Math.round(n/qi)+1}function no(e,t){const r=Ki(e,t?.in),n=r.getFullYear(),a=Ui(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=Gi(t?.in||e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const o=Xi(i,t),l=Gi(t?.in||e,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Xi(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function ao(e,t){const r=Ui(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=no(e,t),s=Gi(t?.in||e,0);s.setFullYear(a,0,n),s.setHours(0,0,0,0);return Xi(s,t)}function so(e,t){const r=Ki(e,t?.in),n=+Xi(r,t)-+ao(r,t);return Math.round(n/qi)+1}function io(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const oo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return io("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):io(r+1,2)},d:(e,t)=>io(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>io(e.getHours()%12||12,t.length),H:(e,t)=>io(e.getHours(),t.length),m:(e,t)=>io(e.getMinutes(),t.length),s:(e,t)=>io(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return io(Math.trunc(n*Math.pow(10,r-3)),t.length)}},lo="midnight",co="noon",uo="morning",ho="afternoon",mo="evening",fo="night",po={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,r,n){const a=no(e,n),s=a>0?a:1-a;if("YY"===t){return io(s%100,2)}return"Yo"===t?r.ordinalNumber(s,{unit:"year"}):io(s,t.length)},R:function(e,t){return io(eo(e),t.length)},u:function(e,t){return io(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return io(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return io(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return io(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=so(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):io(a,t.length)},I:function(e,t,r){const n=ro(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):io(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,r){const n=Ji(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):io(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return io(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return io(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return io(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?co:0===n?lo:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?mo:n>=12?ho:n>=4?uo:fo,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):io(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):io(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return yo(n);case"XXXX":case"XX":return bo(n);default:return bo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return yo(n);case"xxxx":case"xx":return bo(n);default:return bo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+go(n,":");default:return"GMT"+bo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+go(n,":");default:return"GMT"+bo(n,":")}},t:function(e,t,r){return io(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return io(+e,t.length)}};function go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return 0===s?r+String(a):r+String(a)+t+io(s,2)}function yo(e,t){if(e%60===0){return(e>0?"-":"+")+io(Math.abs(e)/60,2)}return bo(e,t)}function bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+io(Math.trunc(n/60),2)+t+io(n%60,2)}const xo=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},vo=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ko={p:vo,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return xo(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",xo(n,t)).replace("{{time}}",vo(a,t))}},wo=/^D+$/,jo=/^Y+$/,_o=["D","DD","YY","YYYY"];function No(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function So(e){return!(!No(e)&&"number"!==typeof e||isNaN(+Ki(e)))}const Eo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Co=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,To=/^'([^]*?)'?$/,Po=/''/g,Ao=/[a-zA-Z]/;function Oo(e,t,r){const n=Ui(),a=r?.locale??n.locale??Fi,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ki(e,r?.in);if(!So(o))throw new RangeError("Invalid time value");let l=t.match(Co).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,ko[t])(e,a.formatLong)}return e}).join("").match(Eo).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:zo(e)};if(po[t])return{isToken:!0,value:e};if(t.match(Ao))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(n=>{if(!n.isToken)return n.value;const s=n.value;(!r?.useAdditionalWeekYearTokens&&function(e){return jo.test(e)}(s)||!r?.useAdditionalDayOfYearTokens&&function(e){return wo.test(e)}(s))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),_o.includes(e))throw new RangeError(n)}(s,t,String(e));return(0,po[s[0]])(o,s,a.localize,c)}).join("")}function zo(e){const t=e.match(To);return t?t[1].replace(Po,"'"):e}function Ro(e,t,r){const n=Ki(e,r?.in);return isNaN(t)?Gi(r?.in||e,NaN):t?(n.setDate(n.getDate()+t),n):n}function Lo(e,t,r){return Ro(e,-t,r)}const Do=[{id:"1",user_id:"user1",name:"Market",icon:"ShoppingCart",type:"expense",is_main:!0},{id:"2",user_id:"user1",name:"Ula\u015f\u0131m",icon:"Car",type:"expense",is_main:!0},{id:"3",user_id:"user1",name:"Akaryak\u0131t",icon:"Fuel",type:"expense",is_main:!0},{id:"4",user_id:"user1",name:"Faturalar",icon:"FileText",type:"expense",is_main:!0},{id:"5",user_id:"user1",name:"Sa\u011fl\u0131k",icon:"Heart",type:"expense",is_main:!0},{id:"6",user_id:"user1",name:"E\u011flence",icon:"Gamepad2",type:"expense",is_main:!0},{id:"7",user_id:"user1",name:"Restoran",icon:"Utensils",type:"expense",is_main:!0},{id:"8",user_id:"user1",name:"Al\u0131\u015fveri\u015f",icon:"ShoppingBag",type:"expense",is_main:!0},{id:"9",user_id:"user1",name:"Maa\u015f",icon:"DollarSign",type:"income",is_main:!0},{id:"10",user_id:"user1",name:"Ek Gelir",icon:"PlusCircle",type:"income",is_main:!0},{id:"11",user_id:"user1",name:"Yat\u0131r\u0131m",icon:"TrendingUp",type:"income",is_main:!0}],Io=[{id:"1",user_id:"user1",name:"Nakit",type:"nakit",icon:"Banknote",created_at:"2024-01-01"},{id:"2",user_id:"user1",name:"Ziraat Bankas\u0131",type:"banka",icon:"Building",iban:"TR123456789012345678901234",created_at:"2024-01-01"},{id:"3",user_id:"user1",name:"Kredi Kart\u0131",type:"kredi_karti",icon:"CreditCard",card_limit:15e3,statement_day:15,due_day:5,created_at:"2024-01-01"}],$o=([{id:"1",user_id:"user1",type:"expense",amount:450,account_id:"3",category_id:"1",payment_method:"Kredi Kart\u0131",vendor:"Migros",description:"Market al\u0131\u015fveri\u015fi",date:Oo(new Date,"yyyy-MM-dd"),created_at:(new Date).toISOString()},{id:"2",user_id:"user1",type:"expense",amount:120,account_id:"1",category_id:"7",payment_method:"Nakit",vendor:"Kebap\xe7\u0131",description:"\xd6\u011fle yeme\u011fi",date:Oo(Lo(new Date,1),"yyyy-MM-dd"),created_at:Lo(new Date,1).toISOString()},{id:"3",user_id:"user1",type:"expense",amount:800,account_id:"1",category_id:"3",payment_method:"Nakit",vendor:"Petrol Ofisi",description:"Benzin",date:Oo(Lo(new Date,2),"yyyy-MM-dd"),created_at:Lo(new Date,2).toISOString()},{id:"4",user_id:"user1",type:"income",amount:25e3,account_id:"2",category_id:"9",payment_method:"Havale",vendor:"\u015eirket",description:"Maa\u015f",date:Oo(Lo(new Date,5),"yyyy-MM-dd"),created_at:Lo(new Date,5).toISOString()},{id:"5",user_id:"user1",type:"expense",amount:1500,account_id:"2",category_id:"4",payment_method:"Havale",vendor:"Elektrik \u015eirketi",description:"Elektrik faturas\u0131",date:Oo(Lo(new Date,7),"yyyy-MM-dd"),created_at:Lo(new Date,7).toISOString()},{id:"6",user_id:"user1",type:"expense",amount:300,account_id:"3",category_id:"8",payment_method:"Kredi Kart\u0131",vendor:"H&M",description:"K\u0131yafet al\u0131\u015fveri\u015fi",date:Oo(Lo(new Date,10),"yyyy-MM-dd"),created_at:Lo(new Date,10).toISOString()},{id:"7",user_id:"user1",type:"expense",amount:200,account_id:"1",category_id:"6",payment_method:"Nakit",vendor:"Sinema",description:"Film bileti",date:Oo(Lo(new Date,12),"yyyy-MM-dd"),created_at:Lo(new Date,12).toISOString()},{id:"8",user_id:"user1",type:"income",amount:5e3,account_id:"2",category_id:"10",payment_method:"Havale",vendor:"Freelance",description:"Ek gelir",date:Oo(Lo(new Date,15),"yyyy-MM-dd"),created_at:Lo(new Date,15).toISOString()}].slice(0,5),e=>{const t=Do.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Bilinmeyen"}),Mo=e=>{const t=Io.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Bilinmeyen"};function Fo(e){return`\u20ba${e.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}const Bo=e=>Oo(new Date(e),"dd.MM.yyyy"),Uo=e=>{let{title:t,value:r,icon:n,iconColor:a,change:s,changeType:i,onClick:o,clickable:l}=e;return(0,er.jsx)("div",{className:"card p-4 lg:p-6 "+(l?"hover:shadow-lg cursor-pointer transition-all":""),onClick:o,children:(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:`p-2 lg:p-3 rounded-xl ${(e=>{switch(e){case"primary":return"bg-primary-100 text-primary-600";case"success":return"bg-success-100 text-success-600";case"warning":return"bg-warning-100 text-warning-600";case"danger":return"bg-danger-100 text-danger-600";default:return"bg-gray-100 text-gray-600"}})(a)}`,children:(0,er.jsx)(n,{className:"h-5 w-5 lg:h-6 lg:w-6"})}),(0,er.jsxs)("div",{className:"ml-3 lg:ml-4 flex-1 min-w-0",children:[(0,er.jsx)("p",{className:"text-xs lg:text-sm font-medium text-gray-500 truncate",children:t}),(0,er.jsx)("p",{className:"text-lg lg:text-2xl font-bold text-gray-900 truncate",children:r}),s&&(0,er.jsxs)("div",{className:"flex items-center mt-1",children:[(0,er.jsx)("span",{className:`text-xs lg:text-sm font-medium ${(e=>{switch(e){case"positive":return"text-success-600";case"negative":return"text-danger-600";default:return"text-gray-600"}})(i||"")}`,children:s}),(0,er.jsx)("span",{className:"text-xs lg:text-sm text-gray-500 ml-1 hidden sm:inline",children:"ge\xe7en aya g\xf6re"})]})]})]})})},qo=e=>{let{transactions:t}=e;return(0,er.jsx)("div",{className:"space-y-2 lg:space-y-3",children:t.map(e=>(0,er.jsxs)("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer active:scale-98",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,er.jsx)("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center flex-shrink-0 "+("income"===e.type?"bg-success-100 text-success-600":"bg-danger-100 text-danger-600"),children:(0,er.jsx)("span",{className:"text-xs lg:text-sm font-bold",children:"income"===e.type?"+":"-"})}),(0,er.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,er.jsx)("p",{className:"text-sm lg:text-base font-medium text-gray-900 truncate",children:e.description||$o(e.category_id||"")}),(0,er.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:[$o(e.category_id||"")," \u2022 ",Mo(e.account_id||"")]})]})]}),(0,er.jsxs)("div",{className:"text-right flex-shrink-0 ml-2",children:[(0,er.jsxs)("p",{className:"text-sm lg:text-base font-medium "+("income"===e.type?"text-success-600":"text-danger-600"),children:["income"===e.type?"+":"-",Fo(e.amount)]}),(0,er.jsx)("p",{className:"text-xs text-gray-500",children:Bo(e.date)})]})]},e.id))})},Ho=ni("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Go=ni("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Ko=ni("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Wo=ni("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Yo=()=>{const[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{var e;const{data:{session:r}}=await Ys.auth.getSession();t(null!==(e=null===r||void 0===r?void 0:r.user)&&void 0!==e?e:null),a(!1)})();const{data:{subscription:e}}=Ys.auth.onAuthStateChange(async(e,r)=>{var n;t(null!==(n=null===r||void 0===r?void 0:r.user)&&void 0!==n?n:null),a(!1)});return()=>e.unsubscribe()},[]);return{user:e,loading:r,signOut:async()=>{await Ys.auth.signOut()}}},Vo={NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_SERVICE_ROLE_KEY?Gs({NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL,{NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_SERVICE_ROLE_KEY):null;class Qo{static async getBudgets(e){try{const{data:t,error:r}=await Ys.from("spendme_budgets").select("\n          *,\n          category:spendme_categories(name, icon)\n        ").eq("user_id",e).order("created_at",{ascending:!1});if(r){if(console.warn("RLS error, trying service role:",r.message),!Vo)return console.warn("Service role key not configured, returning empty array"),[];const{data:t,error:n}=await Vo.from("spendme_budgets").select("\n            *,\n            category:spendme_categories(name, icon)\n          ").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(`Error fetching budgets: ${n.message}`);return t||[]}return t||[]}catch(t){throw new Error(`Error fetching budgets: ${t instanceof Error?t.message:"Unknown error"}`)}}static async getBudget(e){const{data:t,error:r}=await Ys.from("spendme_budgets").select("\n        *,\n        category:spendme_categories(name, icon)\n      ").eq("id",e).single();if(r)throw new Error(`Error fetching budget: ${r.message}`);return t}static async createBudget(e){const{data:t,error:r}=await Ys.from("spendme_budgets").insert(e).select().single();if(r)throw new Error(`Error creating budget: ${r.message}`);return t}static async updateBudget(e,t){const{data:r,error:n}=await Ys.from("spendme_budgets").update(t).eq("id",e).select().single();if(n)throw new Error(`Error updating budget: ${n.message}`);return r}static async deleteBudget(e){const{error:t}=await Ys.from("spendme_budgets").delete().eq("id",e);if(t)throw new Error(`Error deleting budget: ${t.message}`)}static async getBudgetsByPeriod(e,t){try{console.log("Fetching budgets for user:",e,"period:",t);const{data:r,error:n}=await Ys.from("spendme_budgets").select("*").eq("user_id",e).eq("period",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching budgets:",n),new Error(`Error fetching budgets: ${n.message}`);if(console.log("Raw budgets data:",r),!r||0===r.length)return[];const a=Array.from(new Set(r.map(e=>e.category_id).filter(Boolean)));console.log("Category IDs:",a);const{data:s,error:i}=await Ys.from("spendme_categories").select("id, name, icon, type, parent_id").in("id",a);i&&console.error("Error fetching categories:",i),console.log("Categories data:",s);const o=r.map(e=>{const t=null===s||void 0===s?void 0:s.find(t=>t.id===e.category_id);return{...e,category:t?{name:t.name,icon:t.icon,type:t.type,parent_id:t.parent_id}:void 0}});return console.log("Combined budgets:",o),o}catch(r){throw console.error("Error in getBudgetsByPeriod:",r),new Error(`Error fetching budgets by period: ${r instanceof Error?r.message:"Unknown error"}`)}}static async getCurrentMonthBudgets(e){const t=new Date,r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.getBudgetsByPeriod(e,r)}static cleanBudgets(e){const t=new Map,r=e.sort((e,t)=>new Date(t.created_at||"").getTime()-new Date(e.created_at||"").getTime());return r.forEach(e=>{e.category_id&&t.set(e.category_id,e)}),Array.from(t.values())}static async getHistoricalData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;try{const r=new Date,n=[];for(let e=1;e<=t;e++){const t=new Date(r.getFullYear(),r.getMonth()-e,1),a=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;n.push(a)}console.log("Fetching historical data for periods:",n);const{data:a,error:s}=await Ys.from("spendme_budgets").select("*").eq("user_id",e).in("period",n).order("period",{ascending:!1});if(s){if(console.warn("RLS error, trying service role:",s.message),!Vo)return console.warn("Service role key not configured, returning empty array"),[];const{data:t,error:r}=await Vo.from("spendme_budgets").select("*").eq("user_id",e).in("period",n).order("period",{ascending:!1});if(r)throw new Error(`Error fetching historical data: ${r.message}`);return t||[]}return console.log("Historical data fetched:",(null===a||void 0===a?void 0:a.length)||0,"records"),a||[]}catch(r){throw console.error("Error fetching historical data:",r),new Error(`Error fetching historical data: ${r instanceof Error?r.message:"Unknown error"}`)}}}class Jo{static async getCategories(e){console.log("CategoryService.getCategories called with userId:",e);const{data:t,error:r}=await Ys.from("spendme_categories").select("*").eq("user_id",e).order("name",{ascending:!0});if(console.log("Supabase response - data:",t,"error:",r),r)throw console.error("Supabase error:",r),new Error(`Error fetching categories: ${r.message}`);return console.log("Returning categories:",t||[]),t||[]}static async getCategoriesByType(e,t){const{data:r,error:n}=await Ys.from("spendme_categories").select("*").eq("user_id",e).eq("type",t).order("name",{ascending:!0});if(n)throw new Error(`Error fetching categories: ${n.message}`);return r||[]}static async getMainCategories(e){const{data:t,error:r}=await Ys.from("spendme_categories").select("*").eq("user_id",e).is("parent_id",null).order("name",{ascending:!0});if(r)throw new Error(`Error fetching main categories: ${r.message}`);return t||[]}static async getSubcategories(e,t){const{data:r,error:n}=await Ys.from("spendme_categories").select("*").eq("user_id",e).eq("parent_id",t).order("name",{ascending:!0});if(n)throw new Error(`Error fetching subcategories: ${n.message}`);return r||[]}static async getCategoryWithSubcategories(e){const{data:t,error:r}=await Ys.from("spendme_categories").select("\n        *,\n        subcategories:spendme_categories(*)\n      ").eq("user_id",e).is("parent_id",null).order("name",{ascending:!0});if(r)throw new Error(`Error fetching categories with subcategories: ${r.message}`);return t||[]}static async getCategory(e){const{data:t,error:r}=await Ys.from("spendme_categories").select("*").eq("id",e).single();if(r)throw new Error(`Error fetching category: ${r.message}`);return t}static async createCategory(e){const{data:t,error:r}=await Ys.from("spendme_categories").insert(e).select().single();if(r)throw new Error(`Error creating category: ${r.message}`);return t}static async updateCategory(e,t){const{data:r,error:n}=await Ys.from("spendme_categories").update(t).eq("id",e).select().single();if(n)throw new Error(`Error updating category: ${n.message}`);return r}static async deleteCategory(e){await Ys.from("spendme_categories").delete().eq("parent_id",e);const{error:t}=await Ys.from("spendme_categories").delete().eq("id",e);if(t)throw new Error(`Error deleting category: ${t.message}`)}static async initializeDefaultCategories(e){const t=[{name:"Market",icon:"\ud83d\uded2",type:"expense",is_main:!0,parent_id:null,user_id:e},{name:"Yemek",icon:"\ud83c\udf7d\ufe0f",type:"expense",is_main:!0,parent_id:null,user_id:e},{name:"Ula\u015f\u0131m",icon:"\ud83d\ude97",type:"expense",is_main:!0,parent_id:null,user_id:e},{name:"Sa\u011fl\u0131k",icon:"\ud83c\udfe5",type:"expense",is_main:!0,parent_id:null,user_id:e},{name:"Konut",icon:"\ud83c\udfe0",type:"expense",is_main:!0,parent_id:null,user_id:e},{name:"Faturalar",icon:"\ud83d\udcc4",type:"expense",is_main:!0,parent_id:null,user_id:e},{name:"Gelir",icon:"\ud83d\udcb0",type:"income",is_main:!0,parent_id:null,user_id:e}];let{data:r,error:n}=await Ys.from("spendme_categories").insert(t).select();if(n&&n.message.includes("row-level security policy")){console.log("RLS blocked insert, trying with service role client...");const e=await Ys.from("spendme_categories").insert(t).select();r=e.data,n=e.error}if(n)throw new Error(`Error initializing main categories: ${n.message}`);const a=[];for(const s of r||[])"Market"===s.name?a.push({name:"S\xfcpermarket",icon:"\ud83d\uded2",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Manav",icon:"\ud83e\udd6c",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Kasap",icon:"\ud83e\udd69",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"F\u0131r\u0131n",icon:"\ud83e\udd56",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"\u015eark\xfcteri",icon:"\ud83e\uddc0",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Pazar",icon:"\ud83c\udfea",type:"expense",is_main:!1,parent_id:s.id,user_id:e}):"Yemek"===s.name?a.push({name:"Restoran",icon:"\ud83c\udf7d\ufe0f",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Fast Food",icon:"\ud83c\udf54",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Cafe",icon:"\u2615",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Yemek Sipari\u015fi",icon:"\ud83d\udef5",type:"expense",is_main:!1,parent_id:s.id,user_id:e}):"Ula\u015f\u0131m"===s.name?a.push({name:"Akaryak\u0131t",icon:"\u26fd",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Toplu Ta\u015f\u0131ma",icon:"\ud83d\ude8c",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Taksi",icon:"\ud83d\ude95",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Ara\xe7 Bak\u0131m",icon:"\ud83d\udd27",type:"expense",is_main:!1,parent_id:s.id,user_id:e}):"Sa\u011fl\u0131k"===s.name?a.push({name:"Hastane",icon:"\ud83c\udfe5",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Eczane",icon:"\ud83d\udc8a",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Di\u015f",icon:"\ud83e\uddb7",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"G\xf6zl\xfck/Lens",icon:"\ud83d\udc53",type:"expense",is_main:!1,parent_id:s.id,user_id:e}):"Konut"===s.name?a.push({name:"Kira",icon:"\ud83c\udfe0",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Aidat",icon:"\ud83c\udfe2",type:"expense",is_main:!1,parent_id:s.id,user_id:e}):"Faturalar"===s.name?a.push({name:"Elektrik",icon:"\u26a1",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Su",icon:"\ud83d\udca7",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Do\u011falgaz",icon:"\ud83d\udd25",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"\u0130nternet",icon:"\ud83d\udcf6",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"Telefon",icon:"\ud83d\udcf1",type:"expense",is_main:!1,parent_id:s.id,user_id:e},{name:"TV/Streaming",icon:"\ud83d\udcfa",type:"expense",is_main:!1,parent_id:s.id,user_id:e}):"Gelir"===s.name&&a.push({name:"Maa\u015f",icon:"\ud83d\udcbc",type:"income",is_main:!1,parent_id:s.id,user_id:e},{name:"Ek Gelir",icon:"\ud83d\udcb0",type:"income",is_main:!1,parent_id:s.id,user_id:e},{name:"Dan\u0131\u015fmanl\u0131k",icon:"\ud83e\uddd1\u200d\ud83c\udfeb",type:"income",is_main:!1,parent_id:s.id,user_id:e},{name:"Kira Geliri",icon:"\ud83c\udfe0",type:"income",is_main:!1,parent_id:s.id,user_id:e});if(a.length>0){let{error:e}=await Ys.from("spendme_categories").insert(a);if(e&&e.message.includes("row-level security policy")){console.log("RLS blocked subcategories insert, trying with service role client...");e=(await Ys.from("spendme_categories").insert(a)).error}if(e)throw new Error(`Error initializing subcategories: ${e.message}`)}}static async getCategoryStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"month";const r=new Date;let n;n="month"===t?new Date(r.getFullYear(),r.getMonth(),1).toISOString().split("T")[0]:new Date(r.getFullYear(),0,1).toISOString().split("T")[0];const{data:a,error:s}=await Ys.from("spendme_transactions").select("\n        amount,\n        category_id,\n        spendme_categories(name, icon)\n      ").eq("user_id",e).gte("date",n).not("category_id","is",null);if(s)throw new Error(`Error fetching category stats: ${s.message}`);const i={};return null===a||void 0===a||a.forEach(e=>{if(e.category_id&&e.spendme_categories){const t=e.category_id,r=e.spendme_categories;i[t]||(i[t]={name:r.name,icon:r.icon,total:0,count:0}),i[t].total+=e.amount,i[t].count+=1}}),Object.values(i).sort((e,t)=>t.total-e.total)}}function Xo(e){const[t,r]=e.split("-").map(Number);return`${12===r?t+1:t}-${String(12===r?1:r+1).padStart(2,"0")}-01`}const Zo=e=>{let{selectedPeriod:t}=e;const{user:r}=Yo(),[a,s]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[u,d]=(0,n.useState)(!0),[h,m]=(0,n.useState)(null),[f,p]=(0,n.useState)(new Set),[g,y]=(0,n.useState)(t||"2025-07"),b=async()=>{if(r)try{d(!0),m(null),console.log("BudgetStatus: Veri y\xfckleniyor...",{userId:r.id,period:g});const[e,t,n]=await Promise.all([Qo.getBudgetsByPeriod(r.id,g),Jo.getCategoryWithSubcategories(r.id),Ys.from("spendme_transactions").select("category_id, amount, type").eq("user_id",r.id).gte("date",`${g}-01`).lt("date",Xo(g))]);console.log("BudgetStatus: B\xfct\xe7eler y\xfcklendi:",e),console.log("BudgetStatus: Kategoriler y\xfcklendi:",t),console.log("BudgetStatus: Transaction'lar y\xfcklendi:",n.data);const a=[];t.forEach(e=>{a.push(e),e.subcategories&&a.push(...e.subcategories)}),s(a),o(e),c(n.data||[]),console.log("DEBUG - Transaction verisi:",n.data)}catch(e){console.error("BudgetStatus: Veri y\xfckleme hatas\u0131:",e),m(e instanceof Error?e.message:"Veriler y\xfcklenirken hata olu\u015ftu")}finally{d(!1)}};(0,n.useEffect)(()=>{b()},[r,g]);const x=a.filter(e=>!e.parent_id),v=x.filter(e=>"income"===e.type),k=x.filter(e=>"expense"===e.type),w=e=>l.filter(t=>t.category_id===e&&"expense"===t.type).reduce((e,t)=>e+(t.amount||0),0),j=e=>l.filter(t=>t.category_id===e&&"income"===t.type).reduce((e,t)=>e+(t.amount||0),0),_=e=>{const t=a.filter(t=>t.parent_id===e.id),r=t.map(e=>e.id);let n=0,s=0;return i.forEach(e=>{r.includes(e.category_id||"")&&(n+=e.amount||0)}),t.forEach(e=>{"expense"===e.type?s+=w(e.id):"income"===e.type&&(s+=j(e.id))}),{budgetTotal:n,spentTotal:s,subCount:t.length}},N=i.reduce((e,t)=>e+(t.amount||0),0),S=i.filter(e=>{const t=a.find(t=>t.id===e.category_id);return"income"===(null===t||void 0===t?void 0:t.type)}).reduce((e,t)=>e+(t.amount||0),0),E=i.filter(e=>{const t=a.find(t=>t.id===e.category_id);return"expense"===(null===t||void 0===t?void 0:t.type)}).reduce((e,t)=>e+(t.amount||0),0),C=(l.filter(e=>"expense"===e.type).reduce((e,t)=>e+(Number(t.amount)||0),0),l.filter(e=>"income"===e.type).reduce((e,t)=>e+(Number(t.amount)||0),0)),T=S-C,P=T>0,A=l.filter(e=>"expense"===e.type).reduce((e,t)=>e+(Number(t.amount)||0),0),O=E-A,z=O<0,R=S-E,L=R<0,D=C-A,I=D<0,$=(e,t,r)=>{const n=t.reduce((e,t)=>e+_(t).budgetTotal,0),a={DollarSign:Pi,TrendingUp:Ci,Calendar:Ho},s=e=>{if(!e)return null;if(a[e]){const t=a[e];return(0,er.jsx)(t,{className:"h-5 w-5"})}return(0,er.jsx)("span",{className:"text-lg",children:e})};return(0,er.jsxs)("div",{className:"mb-8",children:[(0,er.jsxs)("div",{className:"flex items-center mb-4",children:[(0,er.jsx)("div",{className:"p-2 rounded-lg mr-3 "+("income"===r?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:"income"===r?(0,er.jsx)(Go,{className:"h-5 w-5"}):(0,er.jsx)(Ko,{className:"h-5 w-5"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e}),(0,er.jsxs)("p",{className:"text-sm text-gray-600",children:["Toplam: ",n.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),(0,er.jsx)("div",{className:"space-y-2",children:t.map(e=>{const{budgetTotal:t,spentTotal:r,subCount:n}=_(e),a=f.has(e.id),o=e.subcategories||[];return(0,er.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,er.jsxs)("button",{onClick:()=>(e=>{const t=new Set(f);t.has(e)?t.delete(e):t.add(e),p(t)})(e.id),className:"w-full flex items-center justify-between p-4 bg-white hover:bg-gray-50 transition-colors",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)(Wo,{className:"h-4 w-4 text-gray-400 transition-transform "+(a?"rotate-90":"")}),s(e.icon),(0,er.jsxs)("div",{className:"text-left",children:[(0,er.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,er.jsxs)("div",{className:"text-sm text-gray-600",children:[o.length," alt kategori \u2022 ",t.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),(0,er.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,er.jsx)("span",{className:"text-xs text-gray-500",children:"Hedef:"}),(0,er.jsx)("span",{className:"font-medium text-blue-900",children:t.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsx)("span",{className:"text-xs text-gray-400",children:"|"}),(0,er.jsx)("span",{className:"text-xs text-gray-500",children:"Ger\xe7ekle\u015fen:"}),(0,er.jsx)("span",{className:"font-medium text-gray-900",children:r.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsx)("span",{className:"text-xs text-gray-400",children:"|"}),(0,er.jsxs)("span",{className:"text-xs text-gray-500",children:["%",t>0?(r/t*100).toFixed(1):"0.0"]})]})]}),a&&o.length>0&&(0,er.jsx)("div",{className:"border-t border-gray-200 bg-gray-50",children:o.map(e=>{const t=l.filter(t=>t.category_id===e.id);console.log("DEBUG - Alt kategori:",e.name,"id:",e.id,"E\u015fle\u015fen transactionlar:",t);const r=i.find(t=>t.category_id===e.id),n=(null===r||void 0===r?void 0:r.amount)||0;let a=0;"expense"===e.type?a=w(e.id):"income"===e.type&&(a=j(e.id));const o=n>0?a/n*100:0,c=a>n;return(0,er.jsxs)("div",{className:"p-4 border-b border-gray-200 last:border-b-0",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[s(e.icon),(0,er.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]}),(0,er.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,er.jsx)("span",{className:"text-xs text-gray-500",children:"Hedef:"}),(0,er.jsx)("span",{className:"font-medium text-blue-900",children:n.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsx)("span",{className:"text-xs text-gray-400",children:"|"}),(0,er.jsx)("span",{className:"text-xs text-gray-500",children:"Ger\xe7ekle\u015fen:"}),(0,er.jsx)("span",{className:"font-medium "+(c?"text-red-600":"text-gray-900"),children:a.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsx)("span",{className:"text-xs text-gray-400",children:"|"}),(0,er.jsxs)("span",{className:"text-xs text-gray-500",children:["%",o.toFixed(1)]})]})]}),(0,er.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,er.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(c?"bg-red-500":o>=100?"bg-yellow-500":"bg-blue-500"),style:{width:`${Math.min(o,100)}%`}})}),c&&(0,er.jsx)("div",{className:"text-xs text-red-600 mt-1 font-semibold",children:"B\xfct\xe7e a\u015f\u0131ld\u0131!"})]},e.id)})})]},e.id)})})]})};return u?(0,er.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,er.jsx)("p",{className:"text-gray-600",children:"B\xfct\xe7e verileri y\xfckleniyor..."})]})}):h?(0,er.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("p",{className:"text-red-600 mb-4",children:h}),(0,er.jsx)("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Tekrar Dene"})]})}):(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"D\xf6nem:"}),(0,er.jsx)("select",{value:g,onChange:e=>y(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"2025-07",label:"Temmuz 2025"},{value:"2025-06",label:"Haziran 2025"},{value:"2025-05",label:"May\u0131s 2025"}].map(e=>(0,er.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,er.jsx)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"Gelir B\xfct\xe7esi"}),(0,er.jsx)("p",{className:"text-xl font-bold text-green-900",children:S.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsxs)("p",{className:"text-xs text-gray-500",children:["Ger\xe7ekle\u015fen: ",C.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),(0,er.jsxs)("p",{className:"text-xs "+(P?"text-orange-600 font-bold":"text-gray-500"),children:["Kalan: ",T.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),P?" (Hedefin alt\u0131nda kald\u0131n\u0131z!)":""]})]}),(0,er.jsx)(Ci,{className:"h-8 w-8 text-green-600"})]})}),(0,er.jsx)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("p",{className:"text-sm text-orange-600 font-medium",children:"Gider B\xfct\xe7esi"}),(0,er.jsx)("p",{className:"text-xl font-bold text-orange-900",children:E.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsxs)("p",{className:"text-xs text-gray-500",children:["Ger\xe7ekle\u015fen: ",A.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),(0,er.jsxs)("p",{className:"text-xs "+(z?"text-red-600 font-bold":"text-gray-500"),children:["Kalan: ",O.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),z?" (B\xfct\xe7e a\u015f\u0131ld\u0131!)":""]})]}),(0,er.jsx)(Ti,{className:"h-8 w-8 text-orange-600"})]})}),(0,er.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"B\xfct\xe7e Eksi\u011fi/Fazlas\u0131"}),(0,er.jsx)("p",{className:"text-xl font-bold "+(L?"text-red-600":"text-green-700"),children:R.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsxs)("p",{className:"text-xs text-gray-500",children:["(",S.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})," - ",E.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),")"]}),(0,er.jsx)("p",{className:"text-xs text-gray-400",children:"Gelir B\xfct\xe7esi - Gider B\xfct\xe7esi"}),L&&(0,er.jsx)("p",{className:"text-xs text-red-600 font-bold",children:"Planlanan b\xfct\xe7e a\xe7\u0131\u011f\u0131!"})]}),(0,er.jsx)(li,{className:"h-8 w-8 text-blue-600"})]})}),(0,er.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Ger\xe7ekle\u015fene G\xf6re B\xfct\xe7e Eksi\u011fi/Fazlas\u0131"}),(0,er.jsx)("p",{className:"text-xl font-bold "+(I?"text-red-600":"text-green-700"),children:D.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),(0,er.jsxs)("p",{className:"text-xs text-gray-500",children:["(",C.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})," - ",A.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),")"]}),(0,er.jsx)("p",{className:"text-xs text-gray-400",children:"Ger\xe7ekle\u015fen Gelir - Ger\xe7ekle\u015fen Gider"}),I&&(0,er.jsx)("p",{className:"text-xs text-red-600 font-bold",children:"Fiili b\xfct\xe7e a\xe7\u0131\u011f\u0131!"})]}),(0,er.jsx)(li,{className:"h-8 w-8 text-blue-600"})]})})]}),$("Gelir Kategorileri",v,"income"),$("Gider Kategorileri",k,"expense")]})},el=e=>{let{data:t}=e;const r=t.reduce((e,t)=>e+t.value,0);return(0,er.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{const n=r>0?e.value/r*100:0;return(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,er.jsxs)("div",{className:"flex-1",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,er.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,er.jsx)("span",{className:"text-sm text-gray-500",children:Fo(e.value)})]}),(0,er.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,er.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${n}%`,backgroundColor:e.color}})})]}),(0,er.jsxs)("span",{className:"text-xs text-gray-500 w-12 text-right",children:[n.toFixed(1),"%"]})]},e.name)})})},tl=ni("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),rl=ni("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),nl=ni("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);class al{static cleanGeminiResponse(e){return e.includes("```json")?e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim():e}static async categorizeTransaction(e,t,r){try{const n=`\n        A\u015fa\u011f\u0131daki i\u015flem a\xe7\u0131klamas\u0131n\u0131 analiz ederek en uygun kategoriyi \xf6ner:\n        \n        \u0130\u015flem: ${e}\n        Tutar: ${t} TL\n        T\xfcr: ${"income"===r?"Gelir":"Gider"}\n        \n        T\xfcrk\xe7e kategoriler:\n        Gelir: Maa\u015f, Ek Gelir, Yat\u0131r\u0131m, Kira Geliri, Di\u011fer\n        Gider: Market, Ula\u015f\u0131m, Faturalar, Sa\u011fl\u0131k, E\u011flence, E\u011fitim, Giyim, Ev, Di\u011fer\n        \n        Sadece JSON format\u0131nda yan\u0131tla:\n        {\n          "category": "kategori_ad\u0131",\n          "confidence": 0.95,\n          "suggestions": ["\xf6neri1", "\xf6neri2", "\xf6neri3"]\n        }\n      `,a=await this.callGeminiAPI(n);return JSON.parse(this.cleanGeminiResponse(a))}catch(n){return console.error("Gemini categorization error:",n),{category:"Di\u011fer",confidence:.5,suggestions:[]}}}static async getDescriptionSuggestions(e,t){try{const r=`\n        Kullan\u0131c\u0131 \u015fu a\xe7\u0131klamay\u0131 yaz\u0131yor: "${e}"\n        \u0130\u015flem t\xfcr\xfc: ${"income"===t?"Gelir":"expense"===t?"Gider":"Transfer"}\n        \n        Bu a\xe7\u0131klamay\u0131 tamamlayacak 3 farkl\u0131 \xf6neri ver. K\u0131sa ve net olsun.\n        ${"transfer"===t?"Transfer i\u015flemleri i\xe7in hesap adlar\u0131n\u0131 kullan.":""}\n        Sadece JSON array format\u0131nda yan\u0131tla:\n        ["\xf6neri1", "\xf6neri2", "\xf6neri3"]\n      `,n=await this.callGeminiAPI(r);return JSON.parse(this.cleanGeminiResponse(n))}catch(r){return console.error("Gemini description suggestions error:",r),[]}}static async analyzeSpending(e){try{const t=e.slice(0,10).map(e=>`${e.description}: ${e.amount} TL (${e.type})`).join("\n"),r=`\n        Son i\u015flemlerimi analiz et ve \xf6neriler ver:\n        \n        ${t}\n        \n        Analiz et ve \u015fu formatta yan\u0131tla:\n        {\n          "analysis": "Genel harcama analizi",\n          "insights": ["g\xf6r\xfc\u015f1", "g\xf6r\xfc\u015f2", "g\xf6r\xfc\u015f3"],\n          "recommendations": ["\xf6neri1", "\xf6neri2", "\xf6neri3"]\n        }\n      `,n=await this.callGeminiAPI(r);return JSON.parse(this.cleanGeminiResponse(n))}catch(t){return console.error("Gemini spending analysis error:",t),{analysis:"Analiz yap\u0131lamad\u0131",insights:[],recommendations:[]}}}static async getBudgetRecommendations(e,t){try{const r=t.map(e=>`${e.category}: ${e.amount} TL`).join("\n"),n=`\n        Gelir: ${e} TL\n        Giderler:\n        ${r}\n        \n        Bu verilere g\xf6re b\xfct\xe7e \xf6nerileri ver. Kategorilere g\xf6re ideal harcama da\u011f\u0131l\u0131m\u0131 \xf6ner.\n        \n        JSON format\u0131nda yan\u0131tla:\n        {\n          "recommendations": ["\xf6neri1", "\xf6neri2", "\xf6neri3"],\n          "categories": {\n            "Market": 30,\n            "Ula\u015f\u0131m": 15,\n            "Faturalar": 20,\n            "E\u011flence": 10,\n            "Di\u011fer": 25\n          }\n        }\n      `,a=await this.callGeminiAPI(n);return JSON.parse(this.cleanGeminiResponse(a))}catch(r){return console.error("Gemini budget recommendations error:",r),{recommendations:[],categories:{}}}}static async parseIncomeExpense(e,t,r){try{console.log("\ud83d\udd0d Gemini API - Gelir/Gider ayr\u0131\u015ft\u0131rma ba\u015flat\u0131l\u0131yor..."),console.log("\ud83d\udcdd Input:",e);const n=t&&t.length>0?`\nMevcut kategoriler:\n${t.map(e=>`- ${e.name} (ID: ${e.id}, T\xfcr: ${e.type})`).join("\n")}`:"",a=`\n        Bu do\u011fal dil ifadesini GEL\u0130R veya G\u0130DER i\u015flem verilerine \xe7evir:\n        "${e}"\n        \n        Kurallar:\n        - Tutar\u0131 say\u0131sal de\u011fer olarak \xe7\u0131kar (TL, lira, dolar, $, USD gibi birimleri kald\u0131r)\n        - \u0130\u015flem t\xfcr\xfcn\xfc belirle: gelir veya gider\n        \n        Gelir \u0130\u015flemleri Anahtar Kelimeleri:\n        - maa\u015f, gelir, geldi, ald\u0131m, kazand\u0131m, bonus, prim, ek gelir, kira geliri, yat\u0131r\u0131m geliri\n        \n        Gider \u0130\u015flemleri Anahtar Kelimeleri:\n        - al\u0131\u015fveri\u015f, harcama, \xf6deme, fatura, market, restoran, yemek, ula\u015f\u0131m, benzin, yak\u0131t, sa\u011fl\u0131k, e\u011fitim, giyim, e\u011flence\n        \n        Yemek Kategorileri E\u015fle\u015ftirme:\n        - "yemek yedik", "yemek", "k\xf6fteci", "restoran", "lokanta", "d\xf6nerci", "pizzac\u0131", "burgerci" \u2192 Restoran\n        - "cafe", "kahve", "\xe7ay", "tatl\u0131", "kurabiye", "b\xf6rek" \u2192 Cafe\n        - "market", "s\xfcpermarket", "al\u0131\u015fveri\u015f", "g\u0131da", "yiyecek" \u2192 Market\n        - "fast food", "h\u0131zl\u0131 yemek", "take away" \u2192 Fast Food\n        - "kahvalt\u0131", "brunch" \u2192 Kahvalt\u0131\n        \n        Hesap E\u015fle\u015ftirme Kurallar\u0131:\n        - "kredi kart\u0131", "kart", "kuveytt\xfcrk", "garanti", "i\u015fbank", "akbank", "yap\u0131kredi", "denizbank" \u2192 Kredi Kart\u0131\n        - "nakit", "cash", "c\xfczdan", "para" \u2192 Nakit/C\xfczdan\n        - "banka", "hesap", "tl hesab\u0131", "dolar hesab\u0131" \u2192 Banka Hesab\u0131\n        - "dijital", "papara", "paycell", "enpara" \u2192 Dijital C\xfczdan\n        \n        Giyim Kategorileri E\u015fle\u015ftirme:\n        - "erkek giyim", "erkek k\u0131yafet", "g\xf6mlek", "pantolon", "ceket" \u2192 Erkek Giyim\n        - "kad\u0131n giyim", "kad\u0131n k\u0131yafet", "elbise", "bluz", "etek" \u2192 Kad\u0131n Giyim\n        - "\xe7ocuk giyim", "bebek k\u0131yafet", "\xe7ocuk elbise" \u2192 \xc7ocuk Giyim\n        - "ayakkab\u0131", "ayak", "sandalet", "topuklu", "spor ayakkab\u0131" \u2192 Ayakkab\u0131\n        - "aksesuar", "kolye", "bilezik", "saat", "g\xf6zl\xfck" \u2192 Aksesuar\n        - "i\xe7 giyim", "i\xe7 \xe7ama\u015f\u0131r", "pijama" \u2192 \u0130\xe7 Giyim\n        - "spor giyim", "spor k\u0131yafet", "e\u015fofman" \u2192 Spor Giyim\n        - "tak\u0131", "m\xfccevher", "y\xfcz\xfck", "k\xfcpe" \u2192 Tak\u0131 & M\xfccevher\n        - "kozmetik", "makyaj", "parf\xfcm", "bak\u0131m" \u2192 Kozmetik & Bak\u0131m\n        - "\xe7anta", "c\xfczdan", "s\u0131rt \xe7antas\u0131" \u2192 \xc7anta & C\xfczdan\n        \n        Giyim i\xe7in genel \xf6neriler:\n        - E\u011fer "Giyim" kategorisi varsa: G\xfcnl\xfck Giyim, D\u0131\u015f Giyim, Ayakkab\u0131, \u0130\xe7 Giyim, Spor Giyim, Aksesuar, Tak\u0131 & M\xfccevher\n        - E\u011fer "Al\u0131\u015fveri\u015f" kategorisi varsa: Giyim Al\u0131\u015fveri\u015fi alt kategorisini kullan\n        - E\u011fer "Ki\u015fisel Bak\u0131m" kategorisi varsa: Giyim & Aksesuar alt kategorisini kullan\n        - E\u011fer "E\u011flence" kategorisi varsa: Giyim & Moda alt kategorisini kullan\n        \n        Giyim anahtar kelimeleri:\n        - G\xfcnl\xfck: ti\u015f\xf6rt, pantolon, elbise, g\xf6mlek, \u015fort, etek, bluz, sweatshirt\n        - D\u0131\u015f: ceket, mont, kaban, h\u0131rka, kazak, blazer, trench coat\n        - Ayakkab\u0131: ayakkab\u0131, sandalet, bot, spor ayakkab\u0131, topuklu, loafer, sneaker\n        - \u0130\xe7: i\xe7 \xe7ama\u015f\u0131r\u0131, pijama, gecelik, sutyen, boxer, atlet, tayt\n        - Spor: spor k\u0131yafeti, egzersiz, fitness, ko\u015fu, yoga, antrenman, e\u015fofman\n        - Aksesuar: \xe7anta, c\xfczdan, kemer, \u015fal, \u015fapka, eldiven, kravat, g\xfcne\u015f g\xf6zl\xfc\u011f\xfc\n        - Tak\u0131: y\xfcz\xfck, kolye, k\xfcpe, bilezik, saat, piercing, pandantif\n        \n        - Kategoriyi yukar\u0131daki kategorilerden se\xe7 ve ID'sini kullan\n        - Gelir i\u015flemleri i\xe7in sadece gelir kategorilerini kullan\n        - Gider i\u015flemleri i\xe7in sadece gider kategorilerini kullan\n        - M\xfcmk\xfcn oldu\u011funca alt kategorileri (subcategories) tercih et, ana kategorileri sadece uygun alt kategori yoksa kullan\n        - Hesab\u0131 yukar\u0131daki hesaplardan se\xe7 ve ID'sini kullan\n        - A\xe7\u0131klamay\u0131 k\u0131sa ve net yap\n        - Sat\u0131c\u0131/vendor bilgisini \xe7\u0131kar (Migros, A101, B\u0130M, Carrefour, vb.)\n        - Al\u0131\u015fveri\u015f \xf6zeti ekle (ne al\u0131nd\u0131, nereden al\u0131nd\u0131)\n        ${n}\n        ${r&&r.length>0?`\nMevcut hesaplar:\n${r.map(e=>`- ${e.name} (ID: ${e.id}, T\xfcr: ${e.type})`).join("\n")}`:""}\n        \n        \xd6NEML\u0130: Response'da mutlaka ID'leri kullan, isimleri de\u011fil!\n        \xd6NEML\u0130: Gelir i\u015flemleri i\xe7in sadece gelir kategorileri, gider i\u015flemleri i\xe7in sadece gider kategorileri se\xe7!\n        \n        Sadece JSON format\u0131nda yan\u0131tla:\n        {\n          "type": "income|expense",\n          "amount": 123.45,\n          "description": "A\xe7\u0131klama",\n          "category_id": "kategori_id_buraya",\n          "account_id": "hesap_id_buraya",\n          "vendor": "Sat\u0131c\u0131 ad\u0131",\n          "summary": "Al\u0131\u015fveri\u015f \xf6zeti"\n        }\n      `;console.log("\ud83d\udce4 Gemini API Prompt:",a);const s=await this.callGeminiAPI(a);console.log("\ud83d\udce5 Gemini API Response:",s);const i=this.cleanGeminiResponse(s);console.log("\ud83e\uddf9 Temizlenmi\u015f response:",i);const o=JSON.parse(i);if(console.log("\u2705 Ayr\u0131\u015ft\u0131r\u0131lm\u0131\u015f sonu\xe7:",o),!o.category_id)throw console.error("\u274c Kategori ID d\xf6nd\xfcr\xfclmedi!"),new Error("Kategori ID bulunamad\u0131");return o.account_id||console.warn("\u26a0\ufe0f Hesap ID d\xf6nd\xfcr\xfclmedi, varsay\u0131lan hesap kullan\u0131lacak"),o}catch(n){throw console.error("\u274c Gemini gelir/gider ayr\u0131\u015ft\u0131rma hatas\u0131:",n),new Error("Gelir/Gider ayr\u0131\u015ft\u0131r\u0131lamad\u0131")}}static async parseTransfer(e,t){try{console.log("\ud83d\udd0d Gemini API - Transfer ayr\u0131\u015ft\u0131rma ba\u015flat\u0131l\u0131yor..."),console.log("\ud83d\udcdd Input:",e);const r=`\n        Bu do\u011fal dil ifadesini TRANSFER i\u015flem verilerine \xe7evir:\n        "${e}"\n        \n        Transfer \u0130\u015flemleri \xd6rnekleri:\n        - "T\xfcrkiye Finans'tan 8000 lira \xe7ektim" \u2192 transfer (banka \u2192 nakit)\n        - "Banka hesab\u0131mdan c\xfczdan\u0131ma para \xe7ektim" \u2192 transfer (banka \u2192 nakit)\n        - "ATM'den para \xe7ektim" \u2192 transfer (banka \u2192 nakit)\n        - "Kredi kart\u0131 \xf6demesi yapt\u0131m" \u2192 transfer (banka \u2192 kredi kart\u0131)\n        - "Hesaplar aras\u0131 transfer" \u2192 transfer (hesap1 \u2192 hesap2)\n        \n        Hesap E\u015fle\u015ftirme:\n        - "T\xfcrkiye Finans" \u2192 T\xfcrkiye Finans hesab\u0131\n        - "banka" \u2192 banka hesab\u0131\n        - "nakit", "c\xfczdan", "para \xe7ektim" \u2192 nakit hesab\u0131\n        - "kredi kart\u0131" \u2192 kredi kart\u0131 hesab\u0131\n        \n        Kurallar:\n        - Tutar\u0131 say\u0131sal de\u011fer olarak \xe7\u0131kar (TL, lira, dolar, $, USD gibi birimleri kald\u0131r)\n        - \u0130\u015flem t\xfcr\xfc her zaman "transfer" olmal\u0131\n        - G\xf6nderen hesab\u0131 (from_account_id) ve al\u0131c\u0131 hesab\u0131 (to_account_id) belirle\n        - A\xe7\u0131klamay\u0131 k\u0131sa ve net yap\n        - Transfer \xf6zeti ekle\n        ${t&&t.length>0?`\nMevcut hesaplar:\n${t.map(e=>`- ${e.name} (ID: ${e.id}, T\xfcr: ${e.type})`).join("\n")}`:""}\n        \n        \xd6NEML\u0130: Response'da mutlaka ID'leri kullan, isimleri de\u011fil!\n        \n        Sadece JSON format\u0131nda yan\u0131tla:\n        {\n          "type": "transfer",\n          "amount": 123.45,\n          "description": "Transfer a\xe7\u0131klamas\u0131",\n          "from_account_id": "g\xf6nderen_hesap_id",\n          "to_account_id": "al\u0131c\u0131_hesap_id",\n          "summary": "Transfer \xf6zeti"\n        }\n      `;console.log("\ud83d\udce4 Gemini API Prompt:",r);const n=await this.callGeminiAPI(r);console.log("\ud83d\udce5 Gemini API Response:",n);const a=this.cleanGeminiResponse(n);console.log("\ud83e\uddf9 Temizlenmi\u015f response:",a);const s=JSON.parse(a);if(console.log("\u2705 Ayr\u0131\u015ft\u0131r\u0131lm\u0131\u015f sonu\xe7:",s),!s.from_account_id||!s.to_account_id)throw console.error("\u274c Transfer i\u015flemi i\xe7in hesap ID'leri eksik!"),new Error("Transfer i\u015flemi i\xe7in hesap bilgileri eksik");return s}catch(r){throw console.error("\u274c Gemini transfer ayr\u0131\u015ft\u0131rma hatas\u0131:",r),new Error("Transfer ayr\u0131\u015ft\u0131r\u0131lamad\u0131")}}static async parseNaturalLanguage(e,t,r){try{console.log("\ud83d\udd0d Gemini API - Genel do\u011fal dil ayr\u0131\u015ft\u0131rma ba\u015flat\u0131l\u0131yor..."),console.log("\ud83d\udcdd Input:",e);const n=e.toLowerCase();if(n.includes("transfer")||n.includes("\xe7ektim")||n.includes("para \xe7ektim")||n.includes("atm")||n.includes("kredi kart\u0131 \xf6demesi")||n.includes("g\xf6nderdim")){return{...await this.parseTransfer(e,r),category_id:void 0,account_id:void 0,vendor:void 0}}return{...await this.parseIncomeExpense(e,t,r),from_account_id:void 0,to_account_id:void 0}}catch(n){throw console.error("\u274c Gemini do\u011fal dil ayr\u0131\u015ft\u0131rma hatas\u0131:",n),new Error("Do\u011fal dil ayr\u0131\u015ft\u0131r\u0131lamad\u0131")}}static async suggestFinancialGoals(e,t,r){try{const n=`\n        Kullan\u0131c\u0131 profili:\n        Ya\u015f: ${t}\n        Ayl\u0131k gelir: ${r} TL\n        \n        Son i\u015flemler:\n        ${e.slice(0,5).map(e=>`${e.description}: ${e.amount} TL`).join("\n")}\n        \n        Bu profile g\xf6re finansal hedefler \xf6ner:\n        \n        JSON format\u0131nda yan\u0131tla:\n        {\n          "shortTerm": ["k\u0131sa vadeli hedef1", "k\u0131sa vadeli hedef2"],\n          "mediumTerm": ["orta vadeli hedef1", "orta vadeli hedef2"],\n          "longTerm": ["uzun vadeli hedef1", "uzun vadeli hedef2"]\n        }\n      `,a=await this.callGeminiAPI(n);return JSON.parse(this.cleanGeminiResponse(a))}catch(n){return console.error("Gemini financial goals error:",n),{shortTerm:[],mediumTerm:[],longTerm:[]}}}static async callGeminiAPI(e){if(console.log("\ud83c\udf10 Gemini API - API \xe7a\u011fr\u0131s\u0131 ba\u015flat\u0131l\u0131yor..."),console.log("\ud83d\udd11 API Key kontrol\xfc:",this.API_KEY?"\u2705 Mevcut":"\u274c Yok"),console.log("\ud83d\udd17 API URL:",this.API_URL),!this.API_KEY)throw new Error("Gemini API key not found");const t={contents:[{parts:[{text:e}]}]};console.log("\ud83d\udce4 Gemini API - Request body:",JSON.stringify(t,null,2)),console.log("\ud83d\udd17 Gemini API - Endpoint:",`${this.API_URL}?key=${this.API_KEY.substring(0,10)}...`);try{const e=await fetch(`${this.API_URL}?key=${this.API_KEY}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("\ud83d\udce5 Gemini API - Response status:",e.status),console.log("\ud83d\udce5 Gemini API - Response headers:",Object.fromEntries(e.headers.entries())),!e.ok){const t=await e.text();throw console.error("\u274c Gemini API - Error response:",t),new Error(`Gemini API error: ${e.status} - ${t}`)}const r=await e.json();console.log("\ud83d\udce5 Gemini API - Full response:",JSON.stringify(r,null,2));const n=r.candidates[0].content.parts[0].text;return console.log("\u2705 Gemini API - Extracted text:",n),n}catch(r){throw console.error("\u274c Gemini API - Network error:",r),r}}static isConfigured(){return console.log("\ud83d\udd0d Gemini API Key kontrol\xfc:"),console.log("  - API_KEY:",this.API_KEY?"\u2705 Mevcut":"\u274c Yok"),console.log("  - API_URL:",this.API_URL),console.log("  - process.env.REACT_APP_GEMINI_API_KEY:",{NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GEMINI_API_KEY?"\u2705 Mevcut":"\u274c Yok"),!!this.API_KEY}}al.API_KEY={NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GEMINI_API_KEY||"AIzaSyC5oKr0JpQHnQIKi3iZ3-ChlOEXKlcSiHw",al.API_URL={NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GEMINI_API_URL||"https://generativelanguage.googleapis.com/v1/models/gemini-2.5-flash-lite-preview:generateContent";const sl=()=>{const{user:e}=Qs(),[t,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)(null),[i,o]=(0,n.useState)([]);(0,n.useEffect)(()=>{e&&l()},[e]);const l=async()=>{try{const{data:t,error:r}=await Ys.from("spendme_transactions").select("*").eq("user_id",null===e||void 0===e?void 0:e.id).order("created_at",{ascending:!1}).limit(20);if(r)throw r;o(t||[])}catch(t){console.error("Error loading transactions:",t)}};return al.isConfigured()?(0,er.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 rounded-xl p-6",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)(tl,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,er.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gemini AI Analizi"}),(0,er.jsx)("div",{className:"ml-2 px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 text-xs rounded-full",children:"Aktif"})]}),(0,er.jsxs)("button",{onClick:async()=>{if(al.isConfigured())if(0!==i.length){r(!0);try{const e=await al.analyzeSpending(i);s(e),en.success("AI analizi tamamland\u0131!")}catch(e){console.error("AI analysis error:",e),en.error("AI analizi s\u0131ras\u0131nda hata olu\u015ftu")}finally{r(!1)}}else en.error("Analiz i\xe7in i\u015flem bulunamad\u0131");else en.error("Gemini AI yap\u0131land\u0131r\u0131lmam\u0131\u015f")},disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[t?(0,er.jsx)(Si,{className:"h-4 w-4 animate-spin"}):(0,er.jsx)(rl,{className:"h-4 w-4"}),(0,er.jsx)("span",{children:t?"Analiz Ediliyor...":"AI Analizi"})]})]}),a?(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[(0,er.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Genel Analiz"}),(0,er.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:a.analysis})]}),a.insights.length>0&&(0,er.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[(0,er.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[(0,er.jsx)(nl,{className:"h-4 w-4 text-yellow-600 mr-2"}),"AI G\xf6r\xfc\u015fleri"]}),(0,er.jsx)("ul",{className:"space-y-2",children:a.insights.map((e,t)=>(0,er.jsxs)("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[(0,er.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e]},t))})]}),a.recommendations.length>0&&(0,er.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[(0,er.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[(0,er.jsx)(Ci,{className:"h-4 w-4 text-green-600 mr-2"}),"AI \xd6nerileri"]}),(0,er.jsx)("ul",{className:"space-y-2",children:a.recommendations.map((e,t)=>(0,er.jsxs)("li",{className:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[(0,er.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e]},t))})]}),(0,er.jsxs)("button",{onClick:async()=>{if(!al.isConfigured())return void en.error("Gemini AI yap\u0131land\u0131r\u0131lmam\u0131\u015f");const e=i.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amount||0),0),t=i.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amount||0),0);r(!0);try{const r=await al.getBudgetRecommendations(e,[{category:"Toplam Gider",amount:t}]);en.success("B\xfct\xe7e \xf6nerileri haz\u0131rland\u0131!"),console.log("Budget recommendations:",r)}catch(n){console.error("Budget recommendations error:",n),en.error("B\xfct\xe7e \xf6nerileri al\u0131n\u0131rken hata olu\u015ftu")}finally{r(!1)}},disabled:t,className:"w-full p-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,er.jsx)(Ci,{className:"h-4 w-4"}),(0,er.jsx)("span",{children:"B\xfct\xe7e \xd6nerileri Al"})]})]}):(0,er.jsxs)("div",{className:"text-center py-8",children:["SELECT a.type, case when t.type ='exprense' -1*sum(t.amount) else sum(t.amount) end FROM spendme_accounts as a join spendme_transactions as t on t.account_id = a.id and t.user_id = a.user_id group by a.type",(0,er.jsx)(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,er.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Harcama analizi i\xe7in AI'y\u0131 \xe7al\u0131\u015ft\u0131r\u0131n"}),(0,er.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Son i\u015flemlerinizi analiz ederek \xf6neriler sunar"})]}),(0,er.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,er.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4 text-center",children:[(0,er.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.filter(e=>"income"===e.type).length}),(0,er.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gelir \u0130\u015flemi"})]}),(0,er.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4 text-center",children:[(0,er.jsx)("div",{className:"text-2xl font-bold text-red-600",children:i.filter(e=>"expense"===e.type).length}),(0,er.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gider \u0130\u015flemi"})]})]})]}):(0,er.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 rounded-xl p-6",children:[(0,er.jsxs)("div",{className:"flex items-center mb-4",children:[(0,er.jsx)(tl,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,er.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Analizi"})]}),(0,er.jsxs)("div",{className:"text-center py-8",children:[(0,er.jsx)(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,er.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Gemini AI yap\u0131land\u0131r\u0131lmam\u0131\u015f"}),(0,er.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"AI analizi i\xe7in Gemini API key'i gerekli"})]})]})},il=()=>{const e=ne(),{stats:t,loading:r,error:a,refreshData:s}=(()=>{const{user:e}=Qs(),[t,r]=(0,n.useState)(null),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),l=async()=>{if(e)try{s(!0),o(null);const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0),{data:i,error:l}=await Ys.from("spendme_transactions").select("*").eq("user_id",e.id).gte("date",n.toISOString().split("T")[0]).lte("date",a.toISOString().split("T")[0]).order("created_at",{ascending:!1});if(l)throw l;const u=(null===i||void 0===i?void 0:i.filter(e=>"income"===e.type))||[],d=(null===i||void 0===i?void 0:i.filter(e=>"expense"===e.type))||[],h=u.reduce((e,t)=>e+(t.amount||0),0),m=d.reduce((e,t)=>e+(t.amount||0),0),f=h-m,p=Array.from(new Set(d.map(e=>e.category_id))),{data:g}=await Ys.from("spendme_categories").select("id, name").in("id",p),y={};d.forEach(e=>{const t=null===g||void 0===g?void 0:g.find(t=>t.id===e.category_id),r=(null===t||void 0===t?void 0:t.name)||"Bilinmeyen";y[r]=(y[r]||0)+(e.amount||0)});const b=Object.entries(y).map(e=>{let[t,r]=e;return{name:t,value:r,color:c(t)}}).sort((e,t)=>t.value-e.value).slice(0,5),x=(null===i||void 0===i?void 0:i.slice(0,5))||[],{data:v,error:k}=await Ys.from("spendme_budgets").select("*").eq("user_id",e.id);if(k)throw k;const w=Array.from(new Set((null===v||void 0===v?void 0:v.map(e=>e.category_id))||[])),{data:j}=await Ys.from("spendme_categories").select("id, name").in("id",w),_=(null===v||void 0===v?void 0:v.map(e=>{const t=d.filter(t=>t.category_id===e.category_id),r=t.reduce((e,t)=>e+(t.amount||0),0),n=(e.amount||0)-r,a=e.amount?r/e.amount*100:0,s=null===j||void 0===j?void 0:j.find(t=>t.id===e.category_id);return{category_id:e.category_id,category_name:(null===s||void 0===s?void 0:s.name)||"Bilinmeyen",budget_amount:e.amount||0,spent_amount:r,remaining_amount:n,percentage_used:a,is_over_budget:r>(e.amount||0)}}))||[],{data:N,error:S}=await Ys.from("spendme_accounts").select("*").eq("user_id",e.id);if(S)throw S;const E=N.filter(e=>"cash"===e.type||"wallet"===e.type),C=N.filter(e=>"bank"===e.type),T=N.filter(e=>"credit"===e.type||"credit_card"===e.type),P=e=>{const t=i||[],r=t.filter(t=>t.account_id===e&&"income"===t.type).reduce((e,t)=>e+(t.amount||0),0),n=t.filter(t=>t.account_id===e&&"expense"===t.type).reduce((e,t)=>e+(t.amount||0),0),a=t.filter(t=>t.to_account_id===e&&"transfer"===t.type).reduce((e,t)=>e+(t.amount||0),0),s=t.filter(t=>t.account_id===e&&"transfer"===t.type).reduce((e,t)=>e+(t.amount||0),0);return r+a-n-s},A=E.reduce((e,t)=>e+P(t.id),0),O=C.reduce((e,t)=>e+P(t.id),0),z=C.map(e=>({id:e.id,name:e.name,balance:P(e.id)})),R=T.map(e=>{const t=i.filter(t=>t.account_id===e.id&&"expense"===t.type).reduce((e,t)=>e+(t.amount||0),0)+i.filter(t=>t.account_id===e.id&&"transfer"===t.type).reduce((e,t)=>e+(t.amount||0),0)-i.filter(t=>t.to_account_id===e.id&&"transfer"===t.type).reduce((e,t)=>e+(t.amount||0),0),r=e.card_limit||0,n=r-t;return{id:e.id,name:e.name,limit:r,debt:t,available:n}});R.reduce((e,t)=>e+t.limit,0),R.reduce((e,t)=>e+t.debt,0),R.reduce((e,t)=>e+t.available,0),r({totalIncome:h,totalExpense:m,balance:f,monthlyIncome:h,monthlyExpense:m,monthlyBalance:f,topCategories:b,recentTransactions:x,budgetStatus:_,walletTotal:A,bankTotal:O,creditCards:R,bankAccounts:z})}catch(t){console.error("Dashboard data fetch error:",t),o(t.message||"Veriler y\xfcklenirken hata olu\u015ftu")}finally{s(!1)}},c=e=>{const t=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"];return t[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%t.length]};return(0,n.useEffect)(()=>{l()},[e]),{stats:t,loading:a,error:i,refreshData:()=>{l()}}})();console.log("\ud83d\udd0d Dashboard - Authentication check");const[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),u=()=>{s(),en.success("Veriler yenilendi")};return r?(0,er.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)(Si,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,er.jsx)("p",{className:"text-gray-600",children:"Veriler y\xfckleniyor..."})]})}):a?(0,er.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("p",{className:"text-red-600 mb-4",children:a}),(0,er.jsx)("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Tekrar Dene"})]})}):t?(0,er.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,er.jsx)("div",{className:"px-1",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Finansal durumunuzun genel g\xf6r\xfcn\xfcm\xfc"})]}),(0,er.jsx)("button",{onClick:u,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Verileri yenile",children:(0,er.jsx)(Si,{className:"h-5 w-5"})})]})}),(0,er.jsx)("div",{className:"lg:hidden",children:(0,er.jsxs)("div",{className:"flex space-x-3 mb-4",children:[(0,er.jsxs)("button",{onClick:()=>{console.log("\ud83d\ude80 Gelir Ekle butonuna t\u0131kland\u0131"),e("/transactions/add?type=income")},className:"flex-1 bg-success-500 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 hover:bg-success-600 transition-colors active:scale-95",children:[(0,er.jsx)(Ei,{className:"h-5 w-5"}),(0,er.jsx)("span",{children:"Gelir Ekle"})]}),(0,er.jsxs)("button",{onClick:()=>{console.log("\ud83d\ude80 Gider Ekle butonuna t\u0131kland\u0131"),e("/transactions/add?type=expense")},className:"flex-1 bg-danger-500 text-white py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 hover:bg-danger-600 transition-colors active:scale-95",children:[(0,er.jsx)(Ei,{className:"h-5 w-5"}),(0,er.jsx)("span",{children:"Gider Ekle"})]})]})}),(0,er.jsxs)("div",{className:"grid grid-cols-2 gap-3 lg:gap-5 lg:grid-cols-4",children:[(0,er.jsx)(Uo,{title:"Toplam Gelir",value:Fo(t.totalIncome),icon:Ci,iconColor:"success",change:"",changeType:"positive"}),(0,er.jsx)(Uo,{title:"Toplam Gider",value:Fo(t.totalExpense),icon:Ti,iconColor:"danger",change:"",changeType:"negative"}),(0,er.jsx)(Uo,{title:"Bakiye",value:Fo(t.balance),icon:Pi,iconColor:"primary",change:"",changeType:t.balance>=0?"positive":"negative"}),(0,er.jsx)(Uo,{title:"Bu Ay",value:Fo(t.monthlyBalance),icon:si,iconColor:"warning",change:"",changeType:t.monthlyBalance>=0?"positive":"negative"})]}),(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 lg:gap-5",children:[(0,er.jsx)(Uo,{title:"C\xfczdan (Nakit) Toplam\u0131",value:Fo(t.walletTotal),icon:Pi,iconColor:"primary"}),(0,er.jsx)(Uo,{title:"Banka Hesaplar\u0131 Toplam\u0131",value:Fo(t.bankTotal),icon:Pi,iconColor:"success",onClick:()=>o(!0),clickable:!0}),0===t.creditCards.length?(0,er.jsx)(Uo,{title:"Kredi Kart\u0131",value:"Tan\u0131ml\u0131 kart yok",icon:si,iconColor:"warning"}):(0,er.jsx)(Uo,{title:"Kredi Kartlar\u0131 Toplam Bor\xe7",value:Fo(t.creditCards.reduce((e,t)=>e+t.debt,0)),icon:si,iconColor:t.creditCards.reduce((e,t)=>e+t.available,0)>0?"primary":"danger",onClick:()=>c(!0),clickable:!0})]}),i&&(0,er.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:(0,er.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative animate-fadeIn",children:[(0,er.jsx)("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-blue-600 text-xl font-bold",children:"\xd7"}),(0,er.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Banka Hesaplar\u0131 Detay\u0131"}),(0,er.jsx)("div",{className:"overflow-x-auto",children:(0,er.jsxs)("table",{className:"w-full text-base mb-6 border-separate border-spacing-y-2",children:[(0,er.jsx)("thead",{children:(0,er.jsxs)("tr",{className:"bg-gray-100",children:[(0,er.jsx)("th",{className:"text-left px-4 py-2",children:"Hesap Ad\u0131"}),(0,er.jsx)("th",{className:"text-right px-4 py-2",children:"Bakiye"})]})}),(0,er.jsx)("tbody",{children:t.bankAccounts&&t.bankAccounts.length>0?t.bankAccounts.map(e=>(0,er.jsxs)("tr",{className:"bg-white shadow rounded-xl",children:[(0,er.jsx)("td",{className:"px-4 py-2 font-medium",children:e.name}),(0,er.jsx)("td",{className:"text-right px-4 py-2",children:Fo(e.balance)})]},e.id)):(0,er.jsx)("tr",{children:(0,er.jsx)("td",{colSpan:2,className:"text-center py-4",children:"Tan\u0131ml\u0131 banka hesab\u0131 yok"})})})]})})]})}),l&&(0,er.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:(0,er.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative animate-fadeIn",children:[(0,er.jsx)("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-blue-600 text-xl font-bold",children:"\xd7"}),(0,er.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Kredi Kartlar\u0131 Detay\u0131"}),(0,er.jsx)("div",{className:"overflow-x-auto",children:(0,er.jsxs)("table",{className:"w-full text-base mb-6 border-separate border-spacing-y-2",children:[(0,er.jsx)("thead",{children:(0,er.jsxs)("tr",{className:"bg-gray-100",children:[(0,er.jsx)("th",{className:"text-left px-4 py-2",children:"Kart Ad\u0131"}),(0,er.jsx)("th",{className:"text-right px-4 py-2",children:"Limit"}),(0,er.jsx)("th",{className:"text-right px-4 py-2",children:"Bor\xe7"}),(0,er.jsx)("th",{className:"text-right px-4 py-2",children:"Kalan"})]})}),(0,er.jsx)("tbody",{children:t.creditCards.length>0?t.creditCards.map(e=>(0,er.jsxs)("tr",{className:"bg-white shadow rounded-xl",children:[(0,er.jsx)("td",{className:"px-4 py-2 font-medium",children:e.name}),(0,er.jsx)("td",{className:"text-right px-4 py-2",children:Fo(e.limit)}),(0,er.jsx)("td",{className:"text-right px-4 py-2",children:Fo(e.debt)}),(0,er.jsx)("td",{className:"text-right px-4 py-2",children:Fo(e.available)})]},e.id)):(0,er.jsx)("tr",{children:(0,er.jsx)("td",{colSpan:4,className:"text-center py-4",children:"Tan\u0131ml\u0131 kredi kart\u0131 yok"})})})]})})]})}),(0,er.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:gap-6 lg:grid-cols-2",children:[(0,er.jsxs)("div",{className:"card",children:[(0,er.jsx)("h3",{className:"text-base lg:text-lg font-medium text-gray-900 mb-4",children:"En \xc7ok Harcanan Kategoriler"}),(0,er.jsx)("div",{className:"h-64 lg:h-80",children:t.topCategories.length>0?(0,er.jsx)(el,{data:t.topCategories}):(0,er.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Hen\xfcz harcama verisi bulunmuyor"})})]}),(0,er.jsxs)("div",{className:"card",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,er.jsx)("h3",{className:"text-base lg:text-lg font-medium text-gray-900",children:"Son \u0130\u015flemler"}),(0,er.jsx)("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium px-2 py-1 rounded-lg hover:bg-primary-50 transition-colors",children:"T\xfcm\xfcn\xfc G\xf6r"})]}),t.recentTransactions.length>0?(0,er.jsx)(qo,{transactions:t.recentTransactions}):(0,er.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz i\u015flem bulunmuyor"})]})]}),(0,er.jsx)(sl,{}),(0,er.jsxs)("div",{className:"card",children:[(0,er.jsx)("h3",{className:"text-base lg:text-lg font-medium text-gray-900 mb-4",children:"B\xfct\xe7e Durumu"}),(0,er.jsx)(Zo,{selectedPeriod:"2025-07"})]}),(0,er.jsxs)("div",{className:"hidden lg:grid grid-cols-2 gap-4 lg:grid-cols-4",children:[(0,er.jsx)("button",{onClick:()=>window.location.href="/transactions?type=income",className:"card hover:shadow-md transition-all duration-200 text-left p-4 lg:p-6 active:scale-95",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:(0,er.jsx)(Ai,{className:"h-5 w-5 text-primary-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h4",{className:"font-medium text-gray-900 text-sm lg:text-base",children:"Gelir Ekle"}),(0,er.jsx)("p",{className:"text-xs lg:text-sm text-gray-500",children:"Yeni gelir kayd\u0131"})]})]})}),(0,er.jsx)("button",{onClick:()=>window.location.href="/transactions?type=expense",className:"card hover:shadow-md transition-all duration-200 text-left p-4 lg:p-6 active:scale-95",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 bg-danger-100 rounded-xl flex items-center justify-center",children:(0,er.jsx)(Oi,{className:"h-5 w-5 text-danger-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h4",{className:"font-medium text-gray-900 text-sm lg:text-base",children:"Gider Ekle"}),(0,er.jsx)("p",{className:"text-xs lg:text-sm text-gray-500",children:"Yeni gider kayd\u0131"})]})]})}),(0,er.jsx)("button",{onClick:()=>window.location.href="/budgets",className:"card hover:shadow-md transition-all duration-200 text-left p-4 lg:p-6 active:scale-95",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 bg-success-100 rounded-xl flex items-center justify-center",children:(0,er.jsx)(Pi,{className:"h-5 w-5 text-success-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h4",{className:"font-medium text-gray-900 text-sm lg:text-base",children:"B\xfct\xe7e Olu\u015ftur"}),(0,er.jsx)("p",{className:"text-xs lg:text-sm text-gray-500",children:"Yeni b\xfct\xe7e plan\u0131"})]})]})}),(0,er.jsx)("button",{onClick:()=>window.location.href="/accounts",className:"card hover:shadow-md transition-all duration-200 text-left p-4 lg:p-6 active:scale-95",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 bg-warning-100 rounded-xl flex items-center justify-center",children:(0,er.jsx)(si,{className:"h-5 w-5 text-warning-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h4",{className:"font-medium text-gray-900 text-sm lg:text-base",children:"Hesap Ekle"}),(0,er.jsx)("p",{className:"text-xs lg:text-sm text-gray-500",children:"Yeni hesap tan\u0131mla"})]})]})})]})]}):(0,er.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("p",{className:"text-gray-600 mb-4",children:"Hen\xfcz veri bulunmuyor"}),(0,er.jsx)("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Yenile"})]})})},ol=ni("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ll=ni("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),cl=ni("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ul=ni("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class dl{static async getTransactions(e){const{data:t,error:r}=await Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories(name, icon),\n        spendme_accounts(name, type, icon)\n      ").eq("user_id",e).order("date",{ascending:!1});if(r)throw new Error(`Error fetching transactions: ${r.message}`);return t||[]}static async getTransactionsWithFilters(e,t){let r=Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories(name, icon),\n        spendme_accounts(name, type, icon)\n      ").eq("user_id",e);t.type&&(r=r.eq("type",t.type)),t.category_id&&(r=r.eq("category_id",t.category_id)),t.account_id&&(r=r.eq("account_id",t.account_id)),t.start_date&&(r=r.gte("date",t.start_date)),t.end_date&&(r=r.lte("date",t.end_date)),t.search&&(r=r.ilike("description",`%${t.search}%`));const{data:n,error:a}=await r.order("date",{ascending:!1});if(a)throw new Error(`Error fetching transactions: ${a.message}`);return n||[]}static async getTransaction(e){const{data:t,error:r}=await Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories(name, icon),\n        spendme_accounts(name, type, icon)\n      ").eq("id",e).single();if(r)throw new Error(`Error fetching transaction: ${r.message}`);return t}static async createTransaction(e){const{data:t,error:r}=await Ys.from("spendme_transactions").insert(e).select().single();if(r)throw new Error(`Error creating transaction: ${r.message}`);return t}static async updateTransaction(e,t){const{data:r,error:n}=await Ys.from("spendme_transactions").update(t).eq("id",e).select().single();if(n)throw new Error(`Error updating transaction: ${n.message}`);return r}static async deleteTransaction(e){const{error:t}=await Ys.from("spendme_transactions").delete().eq("id",e);if(t)throw new Error(`Error deleting transaction: ${t.message}`)}static async getTransactionStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"month";const r=new Date;let n;n="month"===t?new Date(r.getFullYear(),r.getMonth(),1).toISOString().split("T")[0]:new Date(r.getFullYear(),0,1).toISOString().split("T")[0];const{data:a,error:s}=await Ys.from("spendme_transactions").select("type, amount").eq("user_id",e).gte("date",n);if(s)throw new Error(`Error fetching transaction stats: ${s.message}`);const i={totalIncome:0,totalExpense:0,balance:0,transactionCount:(null===a||void 0===a?void 0:a.length)||0};return null===a||void 0===a||a.forEach(e=>{"income"===e.type?i.totalIncome+=e.amount:"expense"===e.type&&(i.totalExpense+=e.amount)}),i.balance=i.totalIncome-i.totalExpense,i}static async getRecentTransactions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const{data:r,error:n}=await Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories(name, icon),\n        spendme_accounts(name, type, icon)\n      ").eq("user_id",e).order("date",{ascending:!1}).limit(t);if(n)throw new Error(`Error fetching recent transactions: ${n.message}`);return r||[]}static async getInstallmentGroup(e,t){const{data:r,error:n}=await Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories!spendme_transactions_category_id_fkey(name, icon),\n        spendme_accounts!spendme_transactions_account_id_fkey(name, type, icon),\n        from_account:spendme_accounts!spendme_transactions_from_account_id_fkey(name, type, icon),\n        to_account:spendme_accounts!spendme_transactions_to_account_id_fkey(name, type, icon)\n      ").eq("user_id",e).eq("installment_group_id",t).order("date",{ascending:!0});if(n)throw new Error(`Error fetching installment group: ${n.message}`);return r||[]}static async getInstallmentGroupByFields(e,t,r,n,a,s,i){const o=t.replace(/\s*\(Taksit\s+\d+\/\d+\)\s*$/,""),{data:l,error:c}=await Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories!spendme_transactions_category_id_fkey(name, icon),\n        spendme_accounts!spendme_transactions_account_id_fkey(name, type, icon),\n        from_account:spendme_accounts!spendme_transactions_from_account_id_fkey(name, type, icon),\n        to_account:spendme_accounts!spendme_transactions_to_account_id_fkey(name, type, icon)\n      ").eq("user_id",e).eq("payment_method",n).eq("account_id",a).eq("category_id",s).eq("installments",i).ilike("description",`%${o}%`).order("date",{ascending:!0});if(c)throw new Error(`Error fetching installment group: ${c.message}`);return l||[]}static async updateInstallmentGroup(e,t){for(const r of e){const{error:e}=await Ys.from("spendme_transactions").update(t).eq("id",r);if(e)throw new Error(`Error updating installment ${r}: ${e.message}`)}}static async deleteInstallmentGroup(e){for(const t of e){const{error:e}=await Ys.from("spendme_transactions").delete().eq("id",t);if(e)throw new Error(`Error deleting installment ${t}: ${e.message}`)}}static isInstallmentTransaction(e){return!!(e.installments&&e.installments>1)}static async getMainInstallmentTransaction(e,t,r,n,a,s,i){const o=t.replace(/\s*\(Taksit\s+\d+\/\d+\)\s*$/,""),{data:l,error:c}=await Ys.from("spendme_transactions").select("\n        *,\n        spendme_categories(name, icon),\n        spendme_accounts(name, type, icon)\n      ").eq("user_id",e).eq("payment_method",n).eq("account_id",a).eq("category_id",s).eq("installments",i).ilike("description",`%${o}%`).order("date",{ascending:!0}).limit(1).single();if(c){if("PGRST116"===c.code)return null;throw new Error(`Error fetching main installment transaction: ${c.message}`)}return l}static async createInstallmentTransaction(e,t){console.log("\ud83c\udfaf TransactionService.createInstallmentTransaction ba\u015flat\u0131ld\u0131"),console.log("\ud83d\udcca Gelen parametreler:",{userId:e,baseTransaction:{...t,amount:t.amount,installments:t.installments}});try{const r=crypto.randomUUID();console.log("\ud83c\udd94 Olu\u015fturulan Group ID:",r);const n=new Date(t.date);console.log("\ud83d\udcc5 \u0130lk taksit tarihi:",n.toISOString().split("T")[0]);const a=[];console.log("\ud83d\udd04 Taksit d\xf6ng\xfcs\xfc ba\u015flat\u0131l\u0131yor...");for(let o=1;o<=t.installments;o++){console.log(`\n\ud83d\udcdd Taksit ${o}/${t.installments} i\u015fleniyor...`);const s=new Date(n);s.setMonth(s.getMonth()+(o-1));const i=Math.round(t.amount/t.installments*100)/100,l=`${t.description} (Taksit ${o}/${t.installments})`;console.log(`\ud83d\udd0d Taksit ${o} detaylar\u0131:`,{orijinalAciklama:t.description,taksitAciklamasi:l,taksitNo:o,toplamTaksit:t.installments,taksitTutari:i,taksitTarihi:s.toISOString().split("T")[0]});const c={user_id:e,type:t.type,amount:i,description:l,date:s.toISOString().split("T")[0],payment_method:t.payment_method,vendor:t.vendor,installments:t.installments,installment_no:o,category_id:t.category_id,account_id:t.account_id,installment_group_id:r};console.log(`\ud83d\udcbe Taksit ${o} veritaban\u0131 kayd\u0131:`,c),a.push(c)}console.log(`\n\ud83d\ude80 ${a.length} taksit veritaban\u0131na ekleniyor...`),console.log("\ud83d\udccb Eklenecek taksitler:",a);const{data:s,error:i}=await Ys.from("spendme_transactions").insert(a).select();if(i)throw console.error("\u274c Veritaban\u0131 hatas\u0131:",i),new Error(`Error creating installment transactions: ${i.message}`);return console.log("\u2705 Taksitler ba\u015far\u0131yla eklendi!"),console.log("\ud83d\udcca Eklenen kay\u0131tlar:",s),console.log("\ud83c\udd94 D\xf6nd\xfcr\xfclen Group ID:",r),r}catch(r){throw console.error("\u274c createInstallmentTransaction genel hatas\u0131:",r),new Error(`Error creating installment transaction: ${r}`)}}static async updateInstallmentTransaction(e,t,r){try{const n=r.description.replace(/\s*\(Taksit\s+\d+\/\d+\)\s*$/,""),a={...r,description:n};await this.deleteInstallmentGroupByGroupId(t),await this.createInstallmentTransaction(e,a)}catch(n){throw new Error(`Error updating installment transaction: ${n}`)}}static async deleteInstallmentGroupByGroupId(e){try{const{error:t}=await Ys.from("spendme_transactions").delete().eq("installment_group_id",e);if(t)throw new Error(`Error deleting installment group: ${t.message}`)}catch(t){throw new Error(`Error deleting installment group: ${t}`)}}}const hl=()=>{var e;const t=ne(),{user:r}=Qs(),[a,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[l,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),[f,p]=(0,n.useState)({description:"",amount:0,category_id:"",account_id:"",date:"",vendor:"",installments:1,type:"expense",payment_method:"kredi kart\u0131"}),[g,y]=(0,n.useState)([]),[b,x]=(0,n.useState)([]),[v,k]=(0,n.useState)(!1),[w,j]=(0,n.useState)(!1),[_,N]=(0,n.useState)([]),[S,E]=(0,n.useState)("single"),[C,T]=(0,n.useState)(!1),[P,A]=(0,n.useState)([]),[O,z]=(0,n.useState)([]),[R,L]=(0,n.useState)(null),[D,I]=(0,n.useState)(!1),[$,M]=(0,n.useState)({}),[F,B]=(0,n.useState)(null),[U,q]=(0,n.useState)(!1),[H,G]=(0,n.useState)({startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().slice(0,10),endDate:(new Date).toISOString().slice(0,10)}),[K,W]=(0,n.useState)(""),[Y,V]=(0,n.useState)(""),[Q,J]=(0,n.useState)("all"),X=e=>{const t=g.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Bilinmeyen"},Z=e=>{if("transfer"===e.type){var t,r;return`${(null===(t=e.from_account)||void 0===t?void 0:t.name)||"Bilinmeyen"} \u2192 ${(null===(r=e.to_account)||void 0===r?void 0:r.name)||"Bilinmeyen"}`}var n;return(null===(n=e.account)||void 0===n?void 0:n.name)||(e=>{const t=b.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Bilinmeyen"})(e.account_id||"")},ee=async()=>{if(r)try{o(!0);const{data:e,error:t}=await Ys.from("spendme_transactions").select("\n          *,\n          spendme_categories!spendme_transactions_category_id_fkey(name, icon),\n          spendme_accounts!spendme_transactions_account_id_fkey(name, type, icon),\n          from_account:spendme_accounts!spendme_transactions_from_account_id_fkey(name, type, icon),\n          to_account:spendme_accounts!spendme_transactions_to_account_id_fkey(name, type, icon)\n        ").eq("user_id",r.id).order("date",{ascending:!1});if(t)throw t;console.log("\ud83d\udcca Y\xfcklenen i\u015flemler:",{toplamSayi:(null===e||void 0===e?void 0:e.length)||0,taksitliIslemler:(null===e||void 0===e?void 0:e.filter(e=>e.installments&&e.installments>1).length)||0,normalIslemler:(null===e||void 0===e?void 0:e.filter(e=>!e.installments||e.installments<=1).length)||0,ornekIslemler:null===e||void 0===e?void 0:e.slice(0,3).map(e=>({id:e.id,description:e.description,amount:e.amount,installments:e.installments,installment_group_id:e.installment_group_id}))}),s(e||[])}catch(e){console.error("Error loading transactions:",e),en.error("\u0130\u015flemler y\xfcklenirken hata olu\u015ftu")}finally{o(!1)}};(0,n.useEffect)(()=>{ee(),te()},[r]);const te=async()=>{if(r)try{const[e,t,n]=await Promise.all([Ys.from("spendme_categories").select("id, name, type, icon, parent_id").eq("user_id",r.id),Ys.from("spendme_accounts").select("id, name, type, icon").eq("user_id",r.id),Ys.from("spendme_categories").select("id, name, type, icon").eq("user_id",r.id).is("parent_id",null)]);y(e.data||[]),x(t.data||[]),A(n.data||[]);const a=re(t.data||[]);M(a)}catch(e){console.error("Error loading categories and accounts:",e)}},re=e=>{const t={};return e.forEach(e=>{const r=ae(e.type);t[r]||(t[r]=[]),t[r].push(e)}),t},ae=e=>{switch(e){case"wallet":case"cash":return"C\xfczdan";case"credit_card":return"Kredi Kart\u0131";case"bank":case"savings":return"Banka";default:return"Di\u011fer"}},se=e=>{switch(e){case"C\xfczdan":return"\ud83d\udcb3 C\xfczdan";case"Kredi Kart\u0131":return"\ud83d\udcb3 Kredi Kart\u0131";case"Banka":return"\ud83c\udfe6 Banka";default:return"\ud83d\udcc1 Di\u011fer"}},ie=async e=>{try{const{data:t}=await Ys.from("spendme_categories").select("id, name, type, icon").eq("user_id",null===r||void 0===r?void 0:r.id).eq("parent_id",e);z(t||[])}catch(t){console.error("Error loading subcategories:",t)}},oe=async e=>{m(e);let t=e.amount,n=e.date;if(dl.isInstallmentTransaction(e)&&(t=e.amount*(e.installments||1),e.installment_no&&e.installment_no>1)){const t=new Date(e.date),r=e.installment_no-1;t.setMonth(t.getMonth()-r),n=t.toISOString().split("T")[0],console.log("\ud83d\udcc5 Taksit tarihi hesaplan\u0131yor:",{secilenTaksitNo:e.installment_no,secilenTarih:e.date,hesaplananIlkTarih:n,aylarGeri:r})}let a=e.description||"";dl.isInstallmentTransaction(e)&&(a=a.replace(/\s*\(Taksit\s+\d+\/\d+\)\s*$/,"")),p({description:a,amount:t,category_id:e.category_id||"",account_id:e.account_id||"",date:n,vendor:e.vendor||"",installments:e.installments||1,type:e.type,payment_method:e.payment_method||"kredi kart\u0131"}),await(async e=>{if(dl.isInstallmentTransaction(e)){j(!0),console.log("\ud83d\udd0d Taksitli i\u015flem tespit edildi:",{id:e.id,description:e.description,installments:e.installments,installment_group_id:e.installment_group_id});try{if(e.installment_group_id){console.log("\u2705 Yeni y\xf6ntem kullan\u0131l\u0131yor - installment_group_id:",e.installment_group_id);const t=await dl.getInstallmentGroup(r.id,e.installment_group_id);if(console.log("\ud83d\udcca Bulunan grup:",t),t&&t.length>0)return N(t),void T(!0)}console.log("\u26a0\ufe0f Eski y\xf6ntem kullan\u0131l\u0131yor - installment_group_id yok");const t=await dl.getInstallmentGroupByFields(r.id,e.description||"",e.amount,e.payment_method||"",e.account_id||"",e.category_id||"",e.installments||1);if(!t||0===t.length)return console.warn("Installment group not found, treating as single transaction"),j(!1),N([]),E("single"),void d(!0);N(t),T(!0)}catch(t){console.error("Error fetching installment group:",t),j(!1),N([]),E("single"),d(!0)}}else j(!1),N([]),E("single")})(e);const s=g.find(t=>t.id===e.category_id);s?s.parent_id?(L(s.parent_id),I(!0),ie(s.parent_id)):(L(s.id),I(!1),z([])):(L(null),I(!1),z([]));const i=b.find(t=>t.id===e.account_id);if(i){const e=ae(i.type);B(e),q(!0)}else B(null),q(!1);dl.isInstallmentTransaction(e)||d(!0)},le=e=>{E(e),T(!1),d(!0)},ce=async e=>{if(window.confirm("Bu i\u015flemi silmek istedi\u011finizden emin misiniz?"))try{if(dl.isInstallmentTransaction(e)){let t=[];t=e.installment_group_id?await dl.getInstallmentGroup(r.id,e.installment_group_id):await dl.getInstallmentGroupByFields(r.id,e.description||"",e.amount,e.payment_method||"",e.account_id||"",e.category_id||"",e.installments||1);if(window.confirm(`Bu taksitli i\u015flem ${e.installments} taksitten olu\u015fuyor. T\xfcm taksitleri silmek istiyor musunuz?`))await dl.deleteInstallmentGroup(t.map(e=>e.id)),en.success("T\xfcm taksitler ba\u015far\u0131yla silindi");else{const{error:t}=await Ys.from("spendme_transactions").delete().eq("id",e.id);if(t)throw t;en.success("Taksit ba\u015far\u0131yla silindi")}}else{const{error:t}=await Ys.from("spendme_transactions").delete().eq("id",e.id);if(t)throw t;en.success("\u0130\u015flem ba\u015far\u0131yla silindi")}ee()}catch(t){console.error("Error deleting transaction:",t),en.error("\u0130\u015flem silinirken hata olu\u015ftu")}},ue=()=>{ee(),en.success("\u0130\u015flemler yenilendi")},de=a.filter(e=>{var t;const r=(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||X(e.category_id||"").toLowerCase().includes(l.toLowerCase())||Z(e).toLowerCase().includes(l.toLowerCase()),n=new Date(e.date),a=new Date(H.startDate),s=new Date(H.endDate),i=n>=a&&n<=s,o="all"===Q||e.type===Q,c=!K||e.category_id===K,u=!Y||e.account_id===Y,d=r&&i&&o&&c&&u;return e.installments&&e.installments>1&&console.log("\ud83d\udd0d Taksit i\u015flemi filtreleniyor:",{id:e.id,description:e.description,date:e.date,installments:e.installments,matchesSearch:r,matchesDate:i,matchesType:o,matchesCategory:c,matchesAccount:u,isVisible:d,searchTerm:l,dateFilter:H,typeFilter:Q,categoryFilter:K,accountFilter:Y}),d}),he=e=>{switch(e){case"income":return"text-success-600 bg-success-100";case"expense":return"text-danger-600 bg-danger-100";case"transfer":return"text-primary-600 bg-primary-100";default:return"text-gray-600 bg-gray-100"}},me=e=>{switch(e){case"income":return"Gelir";case"expense":return"Gider";case"transfer":return"Transfer";default:return"Bilinmeyen"}},fe=()=>{L(null),I(!1),z([]),B(null),q(!1),p({description:"",amount:0,category_id:"",account_id:"",date:"",vendor:"",installments:1,type:"expense",payment_method:"kredi kart\u0131"}),j(!1),N([]),E("single"),T(!1)};return(0,er.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between lg:flex-row flex-col lg:space-y-0 space-y-2",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"\u0130\u015flemler"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"T\xfcm gelir ve gider i\u015flemlerinizi g\xf6r\xfcnt\xfcleyin"})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{onClick:ue,className:"inline-flex items-center justify-center p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",title:"\u0130\u015flemleri yenile",children:(0,er.jsx)(Si,{className:"h-5 w-5"})}),(0,er.jsxs)("button",{onClick:()=>t("/transactions/transfer"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[(0,er.jsx)(ol,{className:"h-4 w-4 mr-2"}),(0,er.jsx)("span",{children:"Transfer"})]}),(0,er.jsxs)("button",{onClick:()=>t("/transactions/add"),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",children:[(0,er.jsx)(Ei,{className:"h-4 w-4 mr-2"}),(0,er.jsx)("span",{className:"hidden sm:inline",children:"Yeni \u0130\u015flem"}),(0,er.jsx)("span",{className:"sm:hidden",children:"Ekle"})]})]})]}),(0,er.jsxs)("div",{className:"space-y-4",children:[(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,er.jsx)("input",{type:"text",placeholder:"\u0130\u015flem ara...",value:l,onChange:e=>c(e.target.value),className:"input pl-10"})]}),(0,er.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tarih Aral\u0131\u011f\u0131"}),(0,er.jsxs)("div",{className:"flex space-x-2",children:[(0,er.jsx)("input",{type:"date",value:H.startDate,onChange:e=>G(t=>({...t,startDate:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm"}),(0,er.jsx)("input",{type:"date",value:H.endDate,onChange:e=>G(t=>({...t,endDate:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\u0130\u015flem T\xfcr\xfc"}),(0,er.jsxs)("select",{value:Q,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[(0,er.jsx)("option",{value:"all",children:"T\xfcm\xfc"}),(0,er.jsx)("option",{value:"income",children:"Gelir"}),(0,er.jsx)("option",{value:"expense",children:"Gider"}),(0,er.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kategori"}),(0,er.jsxs)("select",{value:K,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[(0,er.jsx)("option",{value:"",children:"T\xfcm Kategoriler"}),g.map(e=>(0,er.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hesap"}),(0,er.jsxs)("select",{value:Y,onChange:e=>V(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[(0,er.jsx)("option",{value:"",children:"T\xfcm Hesaplar"}),b.map(e=>(0,er.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]})]}),(0,er.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,er.jsxs)("span",{children:[de.length," i\u015flem bulundu",(H.startDate!==new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().slice(0,10)||H.endDate!==(new Date).toISOString().slice(0,10)||"all"!==Q||K||Y)&&(0,er.jsx)("span",{className:"ml-2 text-blue-600",children:"(filtrelenmi\u015f)"})]}),(0,er.jsx)("button",{onClick:()=>{G({startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().slice(0,10),endDate:(new Date).toISOString().slice(0,10)}),J("all"),W(""),V("")},className:"text-blue-600 hover:text-blue-700 underline",children:"Filtreleri Temizle"})]})]}),i&&(0,er.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)(Si,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,er.jsx)("p",{className:"text-gray-600",children:"\u0130\u015flemler y\xfckleniyor..."})]})}),!i&&0===de.length&&(0,er.jsxs)("div",{className:"text-center py-12",children:[(0,er.jsx)("p",{className:"text-gray-600 mb-4",children:l?"Arama kriterlerinize uygun i\u015flem bulunamad\u0131":"Hen\xfcz i\u015flem bulunmuyor"}),!l&&(0,er.jsx)("button",{onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Yenile"})]}),(0,er.jsx)("div",{className:"lg:hidden space-y-3",children:!i&&de.map(e=>(0,er.jsxs)("div",{className:"card p-4 hover:shadow-md transition-shadow cursor-pointer active:scale-98",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 "+("income"===e.type?"bg-success-100 text-success-600":"expense"===e.type?"bg-danger-100 text-danger-600":"bg-blue-100 text-blue-600"),children:(0,er.jsx)("span",{className:"text-sm font-bold",children:"income"===e.type?"+":"expense"===e.type?"-":"\u2194"})}),(0,er.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("span",{children:e.description||"A\xe7\u0131klama yok"}),e.installments&&e.installments>1&&(0,er.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 rounded-full",children:[(0,er.jsx)(si,{className:"h-3 w-3 mr-1"}),"Taksitli"]})]})}),(0,er.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:[X(e.category_id||"")," \u2022 ",Z(e)]})]})]}),(0,er.jsxs)("div",{className:"text-right flex-shrink-0 ml-2",children:[(0,er.jsxs)("p",{className:"text-sm font-medium "+("income"===e.type?"text-success-600":"expense"===e.type?"text-danger-600":"text-blue-600"),children:["income"===e.type?"+":"expense"===e.type?"-":"",Fo(e.amount)]}),(0,er.jsx)("p",{className:"text-xs text-gray-500",children:Bo(e.date)})]})]}),e.vendor&&(0,er.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:["Sat\u0131c\u0131: ",e.vendor]}),(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(e.type)}`,children:me(e.type)}),(0,er.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,er.jsx)("button",{onClick:t=>{t.stopPropagation(),oe(e)},className:"text-gray-400 hover:text-blue-600 p-1 transition-colors",title:"D\xfczenle",children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{onClick:t=>{t.stopPropagation(),ce(e)},className:"text-gray-400 hover:text-red-600 p-1 transition-colors",title:"Sil",children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})]})]},e.id))}),(0,er.jsx)("div",{className:"hidden lg:block card",children:(0,er.jsx)("div",{className:"overflow-x-auto",children:(0,er.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,er.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,er.jsxs)("tr",{children:[(0,er.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),(0,er.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\u0131klama"}),(0,er.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),(0,er.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hesap"}),(0,er.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xfcr"}),(0,er.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tutar"}),(0,er.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0130\u015flemler"})]})}),(0,er.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:!i&&de.map(e=>(0,er.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Bo(e.date)}),(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,er.jsxs)("div",{children:[(0,er.jsxs)("div",{className:"text-sm font-medium text-gray-900 flex items-center space-x-2",children:[(0,er.jsx)("span",{children:e.description||"A\xe7\u0131klama yok"}),e.installments&&e.installments>1&&(0,er.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 rounded-full",children:[(0,er.jsx)(si,{className:"h-3 w-3 mr-1"}),"Taksitli"]})]}),e.vendor&&(0,er.jsx)("div",{className:"text-sm text-gray-500",children:e.vendor})]})}),(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X(e.category_id||"")}),(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z(e)}),(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(e.type)}`,children:me(e.type)})}),(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,er.jsxs)("span",{className:"income"===e.type?"text-success-600":"expense"===e.type?"text-danger-600":"text-blue-600",children:["income"===e.type?"+":"expense"===e.type?"-":"",Fo(e.amount)]})}),(0,er.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,er.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(0,er.jsx)("button",{onClick:()=>oe(e),className:"text-gray-400 hover:text-blue-600 p-1 transition-colors",title:"D\xfczenle",children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{onClick:()=>ce(e),className:"text-gray-400 hover:text-red-600 p-1 transition-colors",title:"Sil",children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})})]},e.id))})]})})}),u&&h&&(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,er.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"\u0130\u015flem D\xfczenle"}),(0,er.jsx)("button",{onClick:()=>{d(!1),fe()},className:"text-gray-400 hover:text-gray-600",children:(0,er.jsx)(ul,{className:"h-6 w-6"})})]}),(0,er.jsxs)("div",{className:"p-6 space-y-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"A\xe7\u0131klama"}),(0,er.jsx)("input",{type:"text",value:f.description,onChange:e=>p(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w?"Toplam Tutar":"Tutar"}),w&&(0,er.jsxs)("div",{className:"mb-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,er.jsx)("span",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"Taksit Tutar\u0131:"}),(0,er.jsx)("span",{className:"text-blue-800 dark:text-blue-200 font-semibold",children:Fo(f.amount/(f.installments||1))})]}),(0,er.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["(",f.installments," taksit \xd7 ",Fo(f.amount/(f.installments||1)),")"]})]}),(0,er.jsx)("input",{type:"number",step:"0.01",value:f.amount,onChange:e=>p(t=>({...t,amount:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:w?"Toplam tutar\u0131 girin":"Tutar\u0131 girin"})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kategori"}),(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Ana Kategoriler"}),(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:P.filter(e=>e.type===(null===h||void 0===h?void 0:h.type)).map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>(async e=>{L(e),I(!0),p(e=>({...e,category_id:""})),r&&await ie(e)})(e.id),className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(R===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-sm",children:e.icon}),(0,er.jsx)("span",{className:"font-medium",children:e.name})]},e.id))})]}),D&&R&&(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Alt Kategoriler"}),O.length>0?(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:O.map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>{return t=e.id,void p(e=>({...e,category_id:t}));var t},className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(f.category_id===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-sm",children:e.icon}),(0,er.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}):(0,er.jsx)("div",{className:"text-center py-2 text-gray-500 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:(0,er.jsx)("p",{className:"text-xs",children:"Bu ana kategoride alt kategori yok"})})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hesap"}),(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Hesap Gruplar\u0131"}),(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.keys($).map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>(e=>{B(e),q(!0),p(e=>({...e,account_id:""}))})(e),className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(F===e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[(0,er.jsx)("span",{className:"text-sm",children:se(e).split(" ")[0]}),(0,er.jsx)("span",{className:"font-medium",children:se(e).split(" ").slice(1).join(" ")})]},e))})]}),U&&F&&(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Hesaplar"}),(null===(e=$[F])||void 0===e?void 0:e.length)>0?(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:$[F].map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>{return t=e.id,void p(e=>({...e,account_id:t}));var t},className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(f.account_id===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-sm",children:e.icon}),(0,er.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}):(0,er.jsx)("div",{className:"text-center py-2 text-gray-500 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:(0,er.jsx)("p",{className:"text-xs",children:"Bu grupta hesap yok"})})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tarih"}),(0,er.jsx)("input",{type:"date",value:f.date,onChange:e=>p(t=>({...t,date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sat\u0131c\u0131 (\u0130ste\u011fe ba\u011fl\u0131)"}),(0,er.jsx)("input",{type:"text",value:f.vendor,onChange:e=>p(t=>({...t,vendor:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Sat\u0131c\u0131 ad\u0131 (opsiyonel)"})]}),w&&(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taksit Say\u0131s\u0131"}),(0,er.jsx)("input",{type:"number",min:1,max:36,value:f.installments,onChange:e=>p(t=>({...t,installments:Math.max(1,parseInt(e.target.value)||1)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}),(0,er.jsx)("p",{className:"text-xs text-gray-500 mt-1 dark:text-gray-400",children:"Taksit say\u0131s\u0131n\u0131 de\u011fi\u015ftirirseniz, t\xfcm taksitler g\xfcncellenir."})]})]}),(0,er.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,er.jsx)("button",{onClick:()=>{d(!1),fe()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"\u0130ptal"}),(0,er.jsx)("button",{onClick:async()=>{if(h){k(!0);try{if(w&&"all_installments"===S)console.log("\ud83d\udd04 Taksitli i\u015flem g\xfcncelleniyor:",{installmentGroupId:h.installment_group_id,toplamTutar:f.amount,taksitSayisi:f.installments,baslangicTarihi:f.date}),await dl.updateInstallmentTransaction(r.id,h.installment_group_id,{type:f.type,amount:f.amount,description:f.description,date:f.date,payment_method:f.payment_method||"kredi kart\u0131",vendor:f.vendor,installments:f.installments||1,category_id:f.category_id,account_id:f.account_id}),en.success("T\xfcm taksitler ba\u015far\u0131yla g\xfcncellendi");else{const{error:e}=await Ys.from("spendme_transactions").update({description:f.description,amount:f.amount,category_id:f.category_id,account_id:f.account_id,date:f.date,vendor:f.vendor,installments:f.installments}).eq("id",h.id);if(e)throw e;en.success("\u0130\u015flem ba\u015far\u0131yla g\xfcncellendi")}d(!1),m(null),fe(),ee()}catch(e){console.error("Error updating transaction:",e),en.error("\u0130\u015flem g\xfcncellenirken hata olu\u015ftu")}finally{k(!1)}}},disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Kaydediliyor...":"Kaydet"})]})]})}),C&&h&&(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,er.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[(0,er.jsx)(si,{className:"h-5 w-5 mr-2 text-blue-600"}),"Taksitli \u0130\u015flem D\xfczenleme"]}),(0,er.jsx)("button",{onClick:()=>{T(!1),fe()},className:"text-gray-400 hover:text-gray-600",children:(0,er.jsx)(ul,{className:"h-6 w-6"})})]}),(0,er.jsxs)("div",{className:"p-6",children:[(0,er.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Bu i\u015flem ",(0,er.jsxs)("strong",{children:[h.installments," taksitli"]})," bir kredi kart\u0131 i\u015flemidir. Nas\u0131l d\xfczenlemek istiyorsunuz?"]}),(0,er.jsxs)("div",{className:"space-y-3",children:[(0,er.jsx)("button",{onClick:()=>le("all_installments"),className:"w-full p-4 border-2 border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:(0,er.jsxs)("div",{className:"text-left",children:[(0,er.jsx)("div",{className:"font-semibold",children:"T\xfcm Taksitleri D\xfczenle"}),(0,er.jsxs)("div",{className:"text-sm opacity-75",children:["T\xfcm ",h.installments," taksiti ayn\u0131 anda g\xfcnceller"]})]})}),(0,er.jsx)("button",{onClick:()=>le("single"),className:"w-full p-4 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,er.jsxs)("div",{className:"text-left",children:[(0,er.jsx)("div",{className:"font-semibold",children:"Sadece Bu Taksiti D\xfczenle"}),(0,er.jsx)("div",{className:"text-sm opacity-75",children:"Sadece se\xe7ilen taksiti g\xfcnceller"})]})})]})]}),(0,er.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 dark:border-gray-700",children:(0,er.jsx)("button",{onClick:()=>{T(!1),fe()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"\u0130ptal"})})]})})]})},ml=ni("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),fl=ni("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),pl=e=>{let{value:t,onChange:r}=e;return(0,er.jsxs)("div",{children:[(0,er.jsx)("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto border rounded p-2 bg-gray-50",children:pi.map(e=>(0,er.jsx)("button",{type:"button",className:"text-2xl p-1 rounded hover:bg-primary-100 focus:outline-none "+(t===e?"ring-2 ring-primary-500 bg-primary-100":""),onClick:()=>r(e),"aria-label":`\u0130kon se\xe7: ${e}`,children:e},e))}),t&&(0,er.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Se\xe7ili ikon: ",(0,er.jsx)("span",{className:"text-xl",children:t})]})]})},gl=e=>{let{isOpen:t,onClose:r,onSave:a,category:s,mainCategories:i,userId:o}=e;const[l,c]=(0,n.useState)({name:"",icon:"",type:"expense",is_main:!1,parent_id:""}),[u,d]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),f=!!s;(0,n.useEffect)(()=>{c(s?{name:s.name,icon:s.icon||"",type:s.type,is_main:s.is_main||!1,parent_id:s.parent_id}:{name:"",icon:"",type:"expense",is_main:!1,parent_id:null}),m(null)},[s,t]);const p=(e,t)=>{c(r=>({...r,[e]:t}))};return t?(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,er.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:f?"Kategori D\xfczenle":"Yeni Kategori"}),(0,er.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,er.jsx)(ul,{className:"h-5 w-5"})})]}),(0,er.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.name.trim())if(l.icon.trim()){d(!0),m(null);try{const e={name:l.name.trim(),icon:l.icon.trim(),type:l.type,is_main:l.is_main,parent_id:l.is_main?null:l.parent_id,user_id:o};f&&s?await Jo.updateCategory(s.id,e):await Jo.createCategory(e),a(),r()}catch(t){m(t instanceof Error?t.message:"Kategori kaydedilirken hata olu\u015ftu")}finally{d(!1)}}else m("Kategori ikonu gereklidir");else m("Kategori ad\u0131 gereklidir")},className:"p-6 space-y-4",children:[h&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori Ad\u0131 *"}),(0,er.jsx)("input",{type:"text",value:l.name,onChange:e=>p("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"\xd6rn: Market",maxLength:50})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0130kon *"}),(0,er.jsx)("input",{type:"text",value:l.icon,onChange:e=>p("icon",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"\xd6rn: \ud83d\uded2",maxLength:10}),(0,er.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Emoji veya ikon kullanabilirsiniz"}),(0,er.jsx)("div",{className:"mt-2",children:(0,er.jsx)(pl,{value:l.icon,onChange:e=>p("icon",e)})})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xfcr"}),(0,er.jsxs)("div",{className:"flex space-x-4",children:[(0,er.jsxs)("label",{className:"flex items-center",children:[(0,er.jsx)("input",{type:"radio",value:"expense",checked:"expense"===l.type,onChange:e=>p("type",e.target.value),className:"mr-2"}),(0,er.jsx)("span",{className:"text-sm",children:"Gider"})]}),(0,er.jsxs)("label",{className:"flex items-center",children:[(0,er.jsx)("input",{type:"radio",value:"income",checked:"income"===l.type,onChange:e=>p("type",e.target.value),className:"mr-2"}),(0,er.jsx)("span",{className:"text-sm",children:"Gelir"})]})]})]}),(0,er.jsx)("div",{children:(0,er.jsxs)("label",{className:"flex items-center",children:[(0,er.jsx)("input",{type:"checkbox",checked:l.is_main,onChange:e=>p("is_main",e.target.checked),className:"mr-2"}),(0,er.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Ana kategori"})]})}),!l.is_main&&(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xdcst Kategori"}),(0,er.jsxs)("select",{value:l.parent_id||"",onChange:e=>p("parent_id",e.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,er.jsx)("option",{value:"",children:"Ana kategori se\xe7in"}),i.filter(e=>e.type===l.type).map(e=>(0,er.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,er.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,er.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"\u0130ptal"}),(0,er.jsx)("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:u?(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,er.jsxs)(er.Fragment,{children:[f?(0,er.jsx)(fl,{className:"h-4 w-4 mr-2"}):(0,er.jsx)(Ei,{className:"h-4 w-4 mr-2"}),f?"Kaydet":"Ekle"]})})]})]})]})}):null},yl=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)({}),[o,l]=(0,n.useState)("all"),[c,u]=(0,n.useState)(new Set),[d,h]=(0,n.useState)(!0),[m,f]=(0,n.useState)(null),[p,g]=(0,n.useState)(!1),[y,b]=(0,n.useState)(null),{user:x}=Qs(),v=null===x||void 0===x?void 0:x.id;(0,n.useEffect)(()=>{v&&k()},[v]);const k=async()=>{if(v)try{h(!0),f(null),console.log("Loading categories for user:",v);const e=await Jo.getCategories(v);if(console.log("Fetched categories:",e),0===e.length){console.log("No categories found, initializing default categories..."),await Jo.initializeDefaultCategories(v);const e=await Jo.getCategories(v);console.log("After initialization:",e),t(e);const r=e.filter(e=>null===e.parent_id),n={};e.forEach(e=>{e.parent_id&&(n[e.parent_id]||(n[e.parent_id]=[]),n[e.parent_id].push(e))}),a(r),i(n)}else{t(e);const r=e.filter(e=>null===e.parent_id),n={};e.forEach(e=>{e.parent_id&&(n[e.parent_id]||(n[e.parent_id]=[]),n[e.parent_id].push(e))}),a(r),i(n)}}catch(e){console.error("Error loading categories:",e),f(e instanceof Error?e.message:"Kategoriler y\xfcklenirken hata olu\u015ftu")}finally{h(!1)}},w=r.filter(e=>"all"===o||e.type===o),j=e=>"income"===e?"text-success-600 bg-success-100":"text-danger-600 bg-danger-100",_=e=>"income"===e?"Gelir":"Gider",N=async e=>{if(window.confirm("Bu kategoriyi silmek istedi\u011finizden emin misiniz? Bu i\u015flem geri al\u0131namaz."))try{await Jo.deleteCategory(e),await k()}catch(t){f(t instanceof Error?t.message:"Kategori silinirken hata olu\u015ftu")}},S=e=>{b(e),g(!0)};return d?(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsx)("div",{className:"flex items-center justify-between",children:(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Kategoriler"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Gelir ve gider kategorilerinizi y\xf6netin"})]})}),(0,er.jsxs)("div",{className:"text-center py-12",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),(0,er.jsx)("p",{className:"mt-2 text-gray-500",children:"Kategoriler y\xfckleniyor..."})]})]}):m?(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsx)("div",{className:"flex items-center justify-between",children:(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Kategoriler"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Gelir ve gider kategorilerinizi y\xf6netin"})]})}),(0,er.jsxs)("div",{className:"text-center py-12",children:[(0,er.jsx)("div",{className:"text-red-400 mb-4",children:(0,er.jsx)(ii,{className:"h-12 w-12 mx-auto"})}),(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Hata olu\u015ftu"}),(0,er.jsx)("p",{className:"text-gray-500 mb-4",children:m}),(0,er.jsx)("button",{onClick:k,className:"btn-primary",children:"Tekrar Dene"})]})]}):(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Kategoriler"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Gelir ve gider kategorilerinizi y\xf6netin"})]}),(0,er.jsxs)("button",{onClick:()=>{b(null),g(!0)},className:"btn-primary",children:[(0,er.jsx)(Ei,{className:"h-4 w-4 mr-2"}),"Yeni Kategori"]})]}),(0,er.jsxs)("div",{className:"flex space-x-2",children:[(0,er.jsx)("button",{onClick:()=>l("all"),className:"px-4 py-2 text-sm font-medium rounded-md "+("all"===o?"bg-primary-100 text-primary-700":"bg-white text-gray-700 hover:bg-gray-50"),children:"T\xfcm\xfc"}),(0,er.jsx)("button",{onClick:()=>l("expense"),className:"px-4 py-2 text-sm font-medium rounded-md "+("expense"===o?"bg-danger-100 text-danger-700":"bg-white text-gray-700 hover:bg-gray-50"),children:"Giderler"}),(0,er.jsx)("button",{onClick:()=>l("income"),className:"px-4 py-2 text-sm font-medium rounded-md "+("income"===o?"bg-success-100 text-success-700":"bg-white text-gray-700 hover:bg-gray-50"),children:"Gelirler"})]}),(0,er.jsx)("div",{className:"space-y-2",children:w.map(e=>{var t;return(0,er.jsxs)("div",{children:[(0,er.jsxs)("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("button",{onClick:()=>(e=>{const t=new Set(c);t.has(e)?t.delete(e):t.add(e),u(t)})(e.id),className:"p-1 hover:bg-gray-100 rounded",children:(null===(t=s[e.id])||void 0===t?void 0:t.length)>0?c.has(e.id)?(0,er.jsx)(ml,{className:"h-4 w-4 text-gray-500"}):(0,er.jsx)(Wo,{className:"h-4 w-4 text-gray-500"}):(0,er.jsx)("div",{className:"w-4 h-4"})}),(0,er.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-lg",children:e.icon}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(e.type)}`,children:_(e.type)})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{onClick:()=>S(e),className:"p-1 text-gray-400 hover:text-gray-600",title:"D\xfczenle",children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-danger-600",onClick:()=>N(e.id),title:"Sil",children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})]}),e.is_main&&(0,er.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,er.jsx)("span",{className:"text-xs text-gray-500",children:"Ana kategori"})})]}),c.has(e.id)&&s[e.id]&&(0,er.jsx)("div",{className:"ml-8 mt-2 space-y-2",children:s[e.id].map(e=>(0,er.jsx)("div",{className:"card hover:shadow-md transition-shadow duration-200",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-8 h-8 bg-gray-50 rounded-lg flex items-center justify-center text-sm",children:e.icon}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(e.type)}`,children:_(e.type)})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{onClick:()=>S(e),className:"p-1 text-gray-400 hover:text-gray-600",title:"D\xfczenle",children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-danger-600",onClick:()=>N(e.id),title:"Sil",children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})]})},e.id))})]},e.id)})}),0===w.length&&(0,er.jsxs)("div",{className:"text-center py-12",children:[(0,er.jsx)("div",{className:"text-gray-400 mb-4",children:(0,er.jsx)(ii,{className:"h-12 w-12 mx-auto"})}),(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Kategori bulunamad\u0131"}),(0,er.jsx)("p",{className:"text-gray-500",children:"Se\xe7ili t\xfcrde kategori bulunamad\u0131."})]}),(0,er.jsx)(gl,{isOpen:p,onClose:()=>{g(!1),b(null)},onSave:()=>{k()},category:y,mainCategories:r,userId:v||""})]})},bl=ni("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);class xl{static async getAccounts(e){const{data:t,error:r}=await Ys.from("spendme_accounts").select("*").order("created_at",{ascending:!1});if(r)throw new Error(`Error fetching accounts: ${r.message}`);return t||[]}static async getAccount(e){const{data:t,error:r}=await Ys.from("spendme_accounts").select("*").eq("id",e).single();if(r)throw new Error(`Error fetching account: ${r.message}`);return t}static async createAccount(e){const{data:t,error:r}=await Ys.from("spendme_accounts").insert(e).select().single();if(r)throw new Error(`Error creating account: ${r.message}`);return t}static async updateAccount(e,t){const{data:r,error:n}=await Ys.from("spendme_accounts").update(t).eq("id",e).select().single();if(n)throw new Error(`Error updating account: ${n.message}`);return r}static async deleteAccount(e){const{error:t}=await Ys.from("spendme_accounts").delete().eq("id",e);if(t)throw new Error(`Error deleting account: ${t.message}`)}static async getAccountsByType(e,t){const{data:r,error:n}=await Ys.from("spendme_accounts").select("*").eq("user_id",e).eq("type",t).order("created_at",{ascending:!1});if(n)throw new Error(`Error fetching accounts by type: ${n.message}`);return r||[]}}const vl=e=>{let{isOpen:t,onClose:r,onSave:a,account:s,userId:i}=e;const[o,l]=(0,n.useState)({name:"",type:"bank",icon:"",iban:"",note:"",card_limit:"",statement_day:"",due_day:"",card_note:"",card_number:""}),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(null),m=!!s;(0,n.useEffect)(()=>{var e,t,r;s?l({name:s.name,type:s.type,icon:s.icon||"",iban:s.iban||"",note:s.note||"",card_limit:(null===(e=s.card_limit)||void 0===e?void 0:e.toString())||"",statement_day:(null===(t=s.statement_day)||void 0===t?void 0:t.toString())||"",due_day:(null===(r=s.due_day)||void 0===r?void 0:r.toString())||"",card_note:s.card_note||"",card_number:s.card_number||""}):l({name:"",type:"bank",icon:"",iban:"",note:"",card_limit:"",statement_day:"",due_day:"",card_note:"",card_number:""});h(null)},[s,t]);const f=(e,t)=>{l(r=>({...r,[e]:t}))};return t?(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,er.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:m?"Hesap D\xfczenle":"Yeni Hesap"}),(0,er.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,er.jsx)(ul,{className:"h-5 w-5"})})]}),(0,er.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.name.trim()){u(!0),h(null);try{const e={name:o.name.trim(),type:o.type,icon:o.icon.trim()||null,iban:o.iban.trim()||null,note:o.note.trim()||null,card_limit:o.card_limit?parseFloat(o.card_limit):null,statement_day:o.statement_day?parseInt(o.statement_day):null,due_day:o.due_day?parseInt(o.due_day):null,card_note:o.card_note.trim()||null,card_number:o.card_number.trim()||null,user_id:i};m&&s?await xl.updateAccount(s.id,e):await xl.createAccount(e),a(),r()}catch(t){h(t instanceof Error?t.message:"Hesap kaydedilirken hata olu\u015ftu")}finally{u(!1)}}else h("Hesap ad\u0131 gereklidir")},className:"p-6 space-y-4",children:[d&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:d}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hesap Ad\u0131 *"}),(0,er.jsx)("input",{type:"text",value:o.name,onChange:e=>f("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"\xd6rn: Ziraat Bankas\u0131",maxLength:50})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0130kon"}),(0,er.jsx)("input",{type:"text",value:o.icon,onChange:e=>f("icon",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"\xd6rn: \ud83c\udfe6",maxLength:10}),(0,er.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Emoji veya ikon kullanabilirsiniz"}),(0,er.jsx)("div",{className:"mt-2",children:(0,er.jsx)(pl,{value:o.icon,onChange:e=>f("icon",e)})})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hesap T\xfcr\xfc *"}),(0,er.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"bank",label:"Banka Hesab\u0131",icon:bl},{value:"credit_card",label:"Kredi Kart\u0131",icon:si},{value:"wallet",label:"C\xfczdan",icon:Go},{value:"other",label:"Di\u011fer",icon:oi}].map(e=>{const t=e.icon;return(0,er.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+(o.type===e.value?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),children:[(0,er.jsx)("input",{type:"radio",value:e.value,checked:o.type===e.value,onChange:e=>f("type",e.target.value),className:"sr-only"}),(0,er.jsx)(t,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.value)})})]}),"bank"===o.type&&(0,er.jsx)("div",{className:"space-y-4",children:(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN"}),(0,er.jsx)("input",{type:"text",value:o.iban,onChange:e=>f("iban",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"TR00 0000 0000 0000 0000 0000 00",maxLength:34})]})}),"credit_card"===o.type&&(0,er.jsxs)("div",{className:"space-y-4",children:[(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kart Limiti (\u20ba)"}),(0,er.jsx)("input",{type:"number",value:o.card_limit,onChange:e=>f("card_limit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"0",min:"0",step:"0.01"})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kart Numaras\u0131"}),(0,er.jsx)("input",{type:"text",value:o.card_number,onChange:e=>f("card_number",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"**** **** **** ****",maxLength:19})]})]}),(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ekstre G\xfcn\xfc"}),(0,er.jsx)("input",{type:"number",value:o.statement_day,onChange:e=>f("statement_day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"1-31",min:"1",max:"31"})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Son \xd6deme G\xfcn\xfc"}),(0,er.jsx)("input",{type:"number",value:o.due_day,onChange:e=>f("due_day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"1-31",min:"1",max:"31"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kart Notu"}),(0,er.jsx)("textarea",{value:o.card_note,onChange:e=>f("card_note",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Kart ile ilgili notlar...",rows:2,maxLength:200})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Not"}),(0,er.jsx)("textarea",{value:o.note,onChange:e=>f("note",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Hesap ile ilgili notlar...",rows:3,maxLength:500})]}),(0,er.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,er.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"\u0130ptal"}),(0,er.jsx)("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:c?(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,er.jsxs)(er.Fragment,{children:[m?(0,er.jsx)(fl,{className:"h-4 w-4 mr-2"}):(0,er.jsx)(Ei,{className:"h-4 w-4 mr-2"}),m?"Kaydet":"Ekle"]})})]})]})]})}):null},kl=()=>{const{user:e}=Yo(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{e&&h()},[e]);const h=async()=>{if(e)try{s(!0);const t=await xl.getAccounts(e.id);r(t)}catch(t){o(t instanceof Error?t.message:"Hesaplar y\xfcklenirken hata olu\u015ftu")}finally{s(!1)}},m=e=>{d(e),c(!0)},f=async e=>{if(window.confirm("Bu hesab\u0131 silmek istedi\u011finizden emin misiniz?"))try{await xl.deleteAccount(e),await h()}catch(t){o(t instanceof Error?t.message:"Hesap silinirken hata olu\u015ftu")}},p=e=>{switch(e){case"bank":return bl;case"credit_card":return si;case"wallet":return Go;default:return oi}},g=e=>{switch(e){case"bank":return"Banka Hesab\u0131";case"credit_card":return"Kredi Kart\u0131";case"wallet":return"C\xfczdan";default:return"Di\u011fer"}},y=e=>{switch(e){case"bank":return"text-primary-600 bg-primary-100";case"credit_card":return"text-warning-600 bg-warning-100";case"wallet":return"text-success-600 bg-success-100";default:return"text-gray-600 bg-gray-100"}};return a?(0,er.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,er.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Hesaplar"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Banka hesaplar\u0131n\u0131z\u0131 ve kredi kartlar\u0131n\u0131z\u0131 y\xf6netin"})]}),(0,er.jsxs)("button",{className:"btn-primary",onClick:()=>{d(null),c(!0)},children:[(0,er.jsx)(Ei,{className:"h-4 w-4 mr-2"}),"Yeni Hesap"]})]}),i&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),(0,er.jsxs)("div",{className:"space-y-8",children:[t.filter(e=>"bank"===e.type).length>0&&(0,er.jsxs)("div",{children:[(0,er.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,er.jsx)(bl,{className:"h-5 w-5 mr-2 text-primary-600"}),"Banka Hesaplar\u0131"]}),(0,er.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.filter(e=>"bank"===e.type).map(e=>{const t=p(e.type);return(0,er.jsxs)("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.icon?(0,er.jsx)("span",{className:"text-2xl",children:e.icon}):(0,er.jsx)(t,{className:"h-6 w-6 text-gray-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(e.type)}`,children:g(e.type)})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>m(e),children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-danger-600",onClick:()=>f(e.id),children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})]}),(0,er.jsxs)("div",{className:"space-y-2",children:[e.iban&&(0,er.jsxs)("div",{className:"text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"IBAN:"}),(0,er.jsx)("div",{className:"font-mono text-xs mt-1 p-2 bg-gray-50 rounded",children:e.iban})]}),e.note&&(0,er.jsxs)("div",{className:"text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"Not:"}),(0,er.jsx)("p",{className:"text-gray-700 mt-1",children:e.note})]})]})]},e.id)})})]}),t.filter(e=>"credit_card"===e.type).length>0&&(0,er.jsxs)("div",{children:[(0,er.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,er.jsx)(si,{className:"h-5 w-5 mr-2 text-warning-600"}),"Kredi Kartlar\u0131"]}),(0,er.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.filter(e=>"credit_card"===e.type).map(e=>{const t=p(e.type);return(0,er.jsxs)("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.icon?(0,er.jsx)("span",{className:"text-2xl",children:e.icon}):(0,er.jsx)(t,{className:"h-6 w-6 text-gray-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(e.type)}`,children:g(e.type)})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>m(e),children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-danger-600",onClick:()=>f(e.id),children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})]}),(0,er.jsxs)("div",{className:"space-y-2",children:[e.card_limit&&(0,er.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"Kart Limiti:"}),(0,er.jsxs)("span",{className:"font-medium",children:[e.card_limit.toLocaleString("tr-TR")," \u20ba"]})]}),e.statement_day&&(0,er.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"Ekstre G\xfcn\xfc:"}),(0,er.jsx)("span",{className:"font-medium",children:e.statement_day})]}),e.due_day&&(0,er.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"Son \xd6deme:"}),(0,er.jsx)("span",{className:"font-medium",children:e.due_day})]}),e.note&&(0,er.jsxs)("div",{className:"text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"Not:"}),(0,er.jsx)("p",{className:"text-gray-700 mt-1",children:e.note})]})]})]},e.id)})})]}),t.filter(e=>"wallet"===e.type||"other"===e.type).length>0&&(0,er.jsxs)("div",{children:[(0,er.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,er.jsx)(oi,{className:"h-5 w-5 mr-2 text-success-600"}),"Di\u011fer Hesaplar"]}),(0,er.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.filter(e=>"wallet"===e.type||"other"===e.type).map(e=>{const t=p(e.type);return(0,er.jsxs)("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.icon?(0,er.jsx)("span",{className:"text-2xl",children:e.icon}):(0,er.jsx)(t,{className:"h-6 w-6 text-gray-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,er.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(e.type)}`,children:g(e.type)})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>m(e),children:(0,er.jsx)(ll,{className:"h-4 w-4"})}),(0,er.jsx)("button",{className:"p-1 text-gray-400 hover:text-danger-600",onClick:()=>f(e.id),children:(0,er.jsx)(cl,{className:"h-4 w-4"})})]})]}),(0,er.jsx)("div",{className:"space-y-2",children:e.note&&(0,er.jsxs)("div",{className:"text-sm",children:[(0,er.jsx)("span",{className:"text-gray-500",children:"Not:"}),(0,er.jsx)("p",{className:"text-gray-700 mt-1",children:e.note})]})})]},e.id)})})]})]}),0===t.length&&!a&&(0,er.jsxs)("div",{className:"text-center py-12",children:[(0,er.jsx)("div",{className:"text-gray-400 mb-4",children:(0,er.jsx)(oi,{className:"h-12 w-12 mx-auto"})}),(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Hesap bulunamad\u0131"}),(0,er.jsx)("p",{className:"text-gray-500",children:"Hen\xfcz hesap eklenmemi\u015f."})]}),(0,er.jsx)(vl,{isOpen:l,onClose:()=>{c(!1),d(null)},onSave:async()=>{await h(),c(!1),d(null)},account:u,userId:(null===e||void 0===e?void 0:e.id)||""})]})},wl=e=>{let{isOpen:t,onClose:r,onSave:a,budget:s,userId:i,period:o,onPeriodChange:l}=e;const[c,u]=(0,n.useState)([]),[d,h]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[y,b]=(0,n.useState)(!1),[x,v]=(0,n.useState)(null),[k,w]=(0,n.useState)("expense"),[j,_]=(0,n.useState)(!1),[N,S]=(0,n.useState)(""),[E,C]=(0,n.useState)(""),[T,P]=(0,n.useState)([]),[A,O]=(0,n.useState)([]),[z,R]=(0,n.useState)(!1),[L,D]=(0,n.useState)([]),[I,$]=(0,n.useState)(!1);(0,n.useEffect)(()=>{var e,r;t&&(M(),F(),console.log("Modal opened, loading data..."),s?(h(s.category_id||""),f((null===(e=s.amount)||void 0===e?void 0:e.toString())||""),g(s.description||""),w((null===(r=s.category)||void 0===r?void 0:r.type)||"expense"),_(!1),console.log("Editing existing budget:",s)):(h(""),f(""),g(""),w("expense"),_(!0),console.log("Creating new budget, showing copy dialog")))},[t,s]);const M=async()=>{try{const e=await Jo.getCategories(i);u(e)}catch(e){console.error("Error loading categories:",e),v("Kategoriler y\xfcklenirken hata olu\u015ftu")}},F=async()=>{try{const{data:e,error:t}=await Ys.from("spendme_budgets").select("period").eq("user_id",i).order("period",{ascending:!1});if(t)return void console.error("Error fetching periods:",t);const r=Array.from(new Set((null===e||void 0===e?void 0:e.map(e=>e.period))||[])),n=r.map(e=>{const[t,r]=e.split("-");return{value:e,label:`${["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][parseInt(r)-1]} ${t}`}});console.log("Periods with budgets:",n),P(n);const a=new Date,s=a.getFullYear(),o=s+1,l=[];for(let i=1;i<=12;i++){const e=`${s}-${String(i).padStart(2,"0")}`,t=`${["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][i-1]} ${s}`;l.push({value:e,label:t})}for(let i=1;i<=12;i++){const e=`${o}-${String(i).padStart(2,"0")}`,t=`${["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][i-1]} ${o}`;l.push({value:e,label:t})}O(l);const c=a.getMonth()+1,u=`${s}-${String(c).padStart(2,"0")}`;C(u)}catch(e){console.error("Error loading available periods:",e)}},B=e=>{if(e.parent_id){const t=c.find(t=>t.id===e.parent_id);return t?`${t.name} > ${e.name}`:e.name}return e.name},U=async()=>{if(N){b(!0),v(null);try{const e=await Qo.getBudgetsByPeriod(i,N);if(0===e.length)return v("Se\xe7ilen d\xf6nemde b\xfct\xe7e bulunamad\u0131"),void b(!1);for(const t of e){const e={user_id:i,category_id:t.category_id,amount:t.amount,period:E},r=(await Qo.getBudgetsByPeriod(i,E)).some(e=>e.category_id===t.category_id);r||await Qo.createBudget(e)}_(!1),v(null),alert(`${N} d\xf6neminden ${E} d\xf6nemine ${e.length} b\xfct\xe7e ba\u015far\u0131yla kopyaland\u0131!`),setTimeout(()=>{a(),l&&l(E)},100)}catch(e){console.error("Error copying budgets:",e),v(e instanceof Error?e.message:"B\xfct\xe7eler kopyalan\u0131rken hata olu\u015ftu")}finally{b(!1)}}else v("L\xfctfen bir d\xf6nem se\xe7in")},q=()=>{_(!1)},H=async()=>{$(!0),v(null);try{const e=await Qo.getHistoricalData(i,6);if(0===e.length)return v("AI \xf6nerileri i\xe7in yeterli ge\xe7mi\u015f veri bulunamad\u0131. En az 2-3 ay veri gerekli."),void $(!1);const t={};e.forEach(e=>{e.category_id&&e.amount&&(t[e.category_id]||(t[e.category_id]={total:0,count:0}),t[e.category_id].total+=e.amount,t[e.category_id].count+=1)});const r=Object.entries(t).map(e=>{let[t,r]=e;const n=r.total/r.count,a=Math.min(r.count/3,1);return{category_id:t,amount:Math.round(100*n)/100,confidence:a}}).filter(e=>e.confidence>=.3).sort((e,t)=>t.confidence-e.confidence);D(r),R(!0)}catch(e){console.error("Error generating AI suggestions:",e),v("AI \xf6nerileri olu\u015fturulurken hata olu\u015ftu")}finally{$(!1)}},G=async()=>{if(0!==L.length){b(!0),v(null);try{for(const e of L){const t={user_id:i,category_id:e.category_id,amount:e.amount,period:o},r=(await Qo.getBudgetsByPeriod(i,o)).some(t=>t.category_id===e.category_id);r||await Qo.createBudget(t)}R(!1),a()}catch(e){console.error("Error applying AI suggestions:",e),v("AI \xf6nerileri uygulan\u0131rken hata olu\u015ftu")}finally{b(!1)}}},K=e=>{const t=c.find(t=>t.id===e);return t?B(t):"Bilinmeyen Kategori"};return t?z&&!s?(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"AI B\xfct\xe7e \xd6nerileri"}),(0,er.jsx)("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,er.jsx)(ul,{className:"h-5 w-5"})})]}),(0,er.jsxs)("div",{className:"p-6 space-y-6",children:[(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,er.jsx)("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,er.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,er.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ge\xe7mi\u015f verilerinizden \xf6\u011frenen AI \xf6nerileri"}),(0,er.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Son 6 ay\u0131n harcama verilerinizi analiz ederek ak\u0131ll\u0131 b\xfct\xe7e \xf6nerileri olu\u015fturduk."})]}),x&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),L.length>0?(0,er.jsxs)("div",{className:"space-y-4",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsx)("h5",{className:"font-medium text-gray-900",children:"\xd6nerilen B\xfct\xe7eler"}),(0,er.jsxs)("span",{className:"text-sm text-gray-500",children:[L.length," kategori"]})]}),(0,er.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:L.map((e,t)=>(0,er.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,er.jsxs)("div",{className:"flex-1",children:[(0,er.jsx)("div",{className:"font-medium text-gray-900",children:K(e.category_id)}),(0,er.jsxs)("div",{className:"text-sm text-gray-500",children:["G\xfcven: ",Math.round(100*e.confidence),"%"]})]}),(0,er.jsxs)("div",{className:"text-right",children:[(0,er.jsxs)("div",{className:"font-semibold text-lg text-gray-900",children:["\u20ba",e.amount.toLocaleString()]}),(0,er.jsx)("div",{className:"text-xs text-gray-500",children:"Ortalama tutar"})]})]},e.category_id))}),(0,er.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,er.jsxs)("div",{className:"flex items-start",children:[(0,er.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,er.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,er.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,er.jsx)("p",{className:"font-medium mb-1",children:"AI Nas\u0131l \xc7al\u0131\u015f\u0131r?"}),(0,er.jsx)("p",{children:"Ge\xe7mi\u015f harcama verilerinizi analiz ederek her kategori i\xe7in ortalama tutarlar\u0131 hesaplar. Daha fazla veri olduk\xe7a \xf6neriler daha do\u011fru olur."})]})]})})]}):(0,er.jsxs)("div",{className:"text-center py-8",children:[(0,er.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,er.jsx)("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,er.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,er.jsx)("p",{className:"text-gray-500",children:"Hen\xfcz yeterli veri yok. 2-3 ay b\xfct\xe7e verisi girdikten sonra AI \xf6nerileri alabilirsiniz."})]}),(0,er.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,er.jsx)("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:y,children:"Geri D\xf6n"}),L.length>0&&(0,er.jsx)("button",{type:"button",onClick:G,disabled:y,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uygulan\u0131yor..."]}):"\xd6nerileri Uygula"})]})]})]})}):j&&!s?(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"B\xfct\xe7e Kopyalama"}),(0,er.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,er.jsx)(ul,{className:"h-5 w-5"})})]}),(0,er.jsxs)("div",{className:"p-6 space-y-6",children:[(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,er.jsx)(Ho,{className:"h-8 w-8 text-blue-600"})}),(0,er.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Hangi aydan kopyalamak istiyorsunuz?"}),(0,er.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"\xd6nceki aylar\u0131n b\xfct\xe7elerini kopyalayarak h\u0131zl\u0131ca yeni b\xfct\xe7e olu\u015fturabilirsiniz."})]}),x&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kopyalanacak D\xf6nem"}),(0,er.jsxs)("select",{value:N,onChange:e=>{console.log("Selected source period:",e.target.value),S(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,er.jsx)("option",{value:"",children:"Kaynak d\xf6nem se\xe7in"}),T.map(e=>(0,er.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hedef D\xf6nem"}),(0,er.jsxs)("select",{value:E,onChange:e=>{console.log("Selected target period:",e.target.value),C(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,er.jsx)("option",{value:"",children:"Hedef d\xf6nem se\xe7in"}),A.map(e=>(0,er.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,er.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[T.length," d\xf6nem se\xe7ene\u011fi"]}),(0,er.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,er.jsx)("button",{type:"button",onClick:q,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:y,children:"Atlay\u0131n"}),(0,er.jsx)("button",{type:"button",onClick:U,disabled:y||!N||!E,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Kopyalan\u0131yor..."]}):"Kopyala ve Devam Et"})]}),(0,er.jsx)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Veya AI \xf6nerileri ile ak\u0131ll\u0131 b\xfct\xe7e olu\u015fturun"}),(0,er.jsx)("button",{type:"button",onClick:H,disabled:I,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all duration-200 disabled:opacity-50",children:I?(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"AI Analiz Ediyor..."]}):(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,er.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"AI \xd6nerileri Al"]})})]})})]})]})}):(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,er.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s?"B\xfct\xe7e D\xfczenle":"Yeni B\xfct\xe7e"}),(0,er.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,er.jsx)(ul,{className:"h-5 w-5"})})]}),(0,er.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d)if(!m||parseFloat(m)<=0)v("L\xfctfen ge\xe7erli bir tutar girin");else{b(!0),v(null);try{const e={user_id:i,category_id:d,amount:parseFloat(m),description:p.trim()||null,period:o};s?await Qo.updateBudget(s.id,e):await Qo.createBudget(e),a(),r()}catch(t){console.error("Error saving budget:",t),v(t instanceof Error?t.message:"B\xfct\xe7e kaydedilirken hata olu\u015ftu")}finally{b(!1)}}else v("L\xfctfen bir kategori se\xe7in")},className:"p-6 space-y-6",children:[x&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"B\xfct\xe7e T\xfcr\xfc"}),(0,er.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,er.jsxs)("button",{type:"button",onClick:()=>w("income"),className:"p-3 border rounded-lg text-center transition-colors "+("income"===k?"border-green-500 bg-green-50 text-green-700":"border-gray-300 text-gray-700 hover:border-gray-400"),children:[(0,er.jsx)(Pi,{className:"h-5 w-5 mx-auto mb-1"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:"Gelir"})]}),(0,er.jsxs)("button",{type:"button",onClick:()=>w("expense"),className:"p-3 border rounded-lg text-center transition-colors "+("expense"===k?"border-red-500 bg-red-50 text-red-700":"border-gray-300 text-gray-700 hover:border-gray-400"),children:[(0,er.jsx)(Pi,{className:"h-5 w-5 mx-auto mb-1"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:"Gider"})]})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),(0,er.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[(0,er.jsx)("option",{value:"",children:"Kategori se\xe7in"}),c.filter(e=>e.type===k).map(e=>(0,er.jsx)("option",{value:e.id,children:B(e)},e.id))]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar (\u20ba)"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Pi,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{type:"text",value:m,onChange:e=>{const t=e.target.value.replace(/[^0-9.,]/g,"").replace(",",".");f(t)},placeholder:"0.00",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xe7\u0131klama (\u0130ste\u011fe ba\u011fl\u0131)"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Ko,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("textarea",{value:p,onChange:e=>g(e.target.value),placeholder:"B\xfct\xe7e a\xe7\u0131klamas\u0131...",rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D\xf6nem"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Ho,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{type:"text",value:o,disabled:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]}),(0,er.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,er.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:y,children:"\u0130ptal"}),(0,er.jsx)("button",{type:"submit",disabled:y,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Kaydediliyor..."]}):s?"G\xfcncelle":"Kaydet"})]})]})]})}):null},jl=()=>{const{user:e}=Yo(),t="b5318971-add4-48ba-85fb-b856f2bd22ca",[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)([]),[o,l]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),[d,h]=(0,n.useState)("2025-07"),[m,f]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null),[y,b]=(0,n.useState)(new Set),[x,v]=(0,n.useState)(null),[k,w]=(0,n.useState)(""),[j,_]=(0,n.useState)([]);(0,n.useEffect)(()=>{d&&N()},[d]),(0,n.useEffect)(()=>{P()},[]),(0,n.useEffect)(()=>{m||P()},[m]);const N=async()=>{try{l(!0),console.log("Loading budgets for user:",t,"period:",d);const{data:e,error:r}=await Ys.from("spendme_budgets").select("*").eq("user_id",t);r?console.error("Error fetching all budgets:",r):(console.log("ALL BUDGETS FOR USER:",e),console.log("Total budget count:",(null===e||void 0===e?void 0:e.length)||0));const[n,s]=await Promise.all([Qo.getBudgetsByPeriod(t,d),Jo.getCategoryWithSubcategories(t)]);console.log("Raw budgets loaded:",n),console.log("Categories loaded:",s);const o=Qo.cleanBudgets(n);console.log("Cleaned budgets:",o),a(o),i(s)}catch(e){console.error("Error loading data:",e),u(e instanceof Error?e.message:"Veriler y\xfcklenirken hata olu\u015ftu")}finally{l(!1)}},S=(e,t)=>{v(e),w(t.toString())},E=async e=>{const n=parseFloat(k);if(isNaN(n)||n<0)return v(null),void w("");const s=window.scrollY;try{const i=r.find(t=>t.category_id===e);if(0===n)i&&await Qo.deleteBudget(i.id);else{const r={user_id:t,category_id:e,amount:n,period:d};i?await Qo.updateBudget(i.id,r):await Qo.createBudget(r)}a(0===n?t=>t.filter(t=>t.category_id!==e):t=>{const r=t.findIndex(t=>t.category_id===e);if(r>=0){const e=[...t];return e[r]={...e[r],amount:n},e}return setTimeout(()=>N(),100),t}),setTimeout(()=>{window.scrollTo(0,s)},0)}catch(i){console.error("Error saving inline budget:",i),await N()}finally{v(null),w("")}},C=()=>{v(null),w("")},T=e=>{const[t,r]=e.split("-");return`${["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][parseInt(r)-1]} ${t}`},P=async()=>{try{console.log("Loading period options for user:",t);const{data:e,error:r}=await Ys.from("spendme_budgets").select("period").eq("user_id",t).order("period",{ascending:!1});if(r)return void console.error("Error fetching periods:",r);console.log("Raw periods data:",e);const n=Array.from(new Set((null===e||void 0===e?void 0:e.map(e=>e.period))||[])),a=n.map(e=>({value:e,label:T(e)}));console.log("Available periods with budgets:",a),console.log("Setting period options:",a),console.log("Period options count:",a.length),a.length>0?_(a):(console.log("No periods with budget data found"),_([]))}catch(e){console.error("Error loading period options:",e)}},A=e=>e?r.filter(t=>{var r;return(null===(r=t.category)||void 0===r?void 0:r.type)===e}).reduce((e,t)=>e+(t.amount||0),0):r.reduce((e,t)=>e+(t.amount||0),0),O=e=>r.filter(t=>t.category_id===e),z=e=>{const t=O(e).reduce((e,t)=>e+(t.amount||0),0),r=s.find(t=>t.id===e);if(null!==r&&void 0!==r&&r.subcategories){return t+r.subcategories.reduce((e,t)=>e+O(t.id).reduce((e,t)=>e+(t.amount||0),0),0)}return t},R=e=>e.subcategories?e.subcategories.filter(e=>O(e.id).length>0).length:0,L=e=>O(e).reduce((e,t)=>e+(t.amount||0),0),D=e=>{const t=s.filter(t=>t.type===e);return 0===t.length?null:(0,er.jsxs)("div",{className:"card",children:[(0,er.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+("income"===e?"bg-green-100":"bg-red-100"),children:(0,er.jsx)(Pi,{className:"h-6 w-6 "+("income"===e?"text-green-600":"text-red-600")})}),(0,er.jsxs)("div",{children:[(0,er.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["income"===e?"Gelir":"Gider"," Kategorileri"]}),(0,er.jsxs)("p",{className:"text-sm text-gray-500",children:["Toplam: ",A(e).toLocaleString("tr-TR")," \u20ba"]})]})]})}),(0,er.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;O(e.id);const r=e.subcategories&&e.subcategories.length>0,n=y.has(e.id);return(0,er.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[r&&(0,er.jsx)("button",{onClick:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),b(t)})(e.id),className:"text-gray-500 hover:text-gray-700",children:n?(0,er.jsx)(ml,{className:"h-4 w-4"}):(0,er.jsx)(Wo,{className:"h-4 w-4"})}),(0,er.jsx)("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:e.icon?(0,er.jsx)("span",{className:"text-sm",children:e.icon}):(0,er.jsx)(Pi,{className:"h-4 w-4 text-gray-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,er.jsxs)("p",{className:"text-sm text-gray-500",children:[R(e)," alt kategori \u2022 ",z(e.id).toLocaleString("tr-TR")," \u20ba"]})]})]}),(0,er.jsx)("div",{className:"flex items-center space-x-2",children:x===e.id?(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("input",{type:"text",value:k,onChange:e=>{const t=e.target.value.replace(/[^0-9.,]/g,"").replace(",",".");w(t)},onKeyDown:t=>{"Enter"===t.key?E(e.id):"Escape"===t.key&&C()},onBlur:()=>E(e.id),className:"w-24 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0}),(0,er.jsx)("span",{className:"text-sm text-gray-500",children:"\u20ba"})]}):(0,er.jsx)(er.Fragment,{children:(0,er.jsxs)("button",{onClick:()=>S(e.id,L(e.id)),className:"text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-2 py-1 rounded transition-colors",children:[L(e.id).toLocaleString("tr-TR")," \u20ba"]})})})]}),n&&(0,er.jsx)("div",{className:"p-4 space-y-3",children:r&&(null===(t=e.subcategories)||void 0===t?void 0:t.map(e=>(0,er.jsx)("div",{className:"ml-4 border-l-2 border-gray-200 pl-4",children:(0,er.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("div",{className:"w-6 h-6 bg-gray-100 rounded flex items-center justify-center",children:e.icon?(0,er.jsx)("span",{className:"text-xs",children:e.icon}):(0,er.jsx)(Pi,{className:"h-3 w-3 text-gray-600"})}),(0,er.jsx)("h6",{className:"text-sm font-medium text-gray-800",children:e.name})]}),(0,er.jsx)("div",{className:"flex items-center space-x-2",children:x===e.id?(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("input",{type:"text",value:k,onChange:e=>{const t=e.target.value.replace(/[^0-9.,]/g,"").replace(",",".");w(t)},onKeyDown:t=>{"Enter"===t.key?E(e.id):"Escape"===t.key&&C()},onBlur:()=>E(e.id),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0}),(0,er.jsx)("span",{className:"text-sm text-gray-500",children:"\u20ba"})]}):(0,er.jsx)(er.Fragment,{children:(0,er.jsxs)("button",{onClick:()=>S(e.id,z(e.id)),className:"text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-2 py-1 rounded transition-colors",children:[z(e.id).toLocaleString("tr-TR")," \u20ba"]})})})]})},e.id)))})]},e.id)})})]})};return o?(0,er.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,er.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"B\xfct\xe7eler"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Ayl\u0131k harcama b\xfct\xe7elerinizi y\xf6netin"})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[r.length>0&&(0,er.jsxs)("button",{className:"btn-danger",onClick:()=>(async()=>{const e=T(d),t=r.length;if(window.confirm(`${e} d\xf6nemindeki ${t} b\xfct\xe7eyi silmek istedi\u011finizden emin misiniz?\n\nBu i\u015flem geri al\u0131namaz!`))try{console.log("Deleting all budgets for period:",d);for(const e of r)await Qo.deleteBudget(e.id),console.log("Deleted budget:",e.id);console.log("All budgets deleted successfully"),alert(`${e} d\xf6nemindeki t\xfcm b\xfct\xe7eler ba\u015far\u0131yla silindi!`),await N(),await P()}catch(n){console.error("Error deleting all budgets:",n),alert("B\xfct\xe7eler silinirken hata olu\u015ftu")}})(),title:"T\xfcm b\xfct\xe7eleri sil",children:[(0,er.jsx)(cl,{className:"h-4 w-4 mr-2"}),"T\xfcm\xfcn\xfc Sil"]}),(0,er.jsxs)("button",{className:"btn-primary",onClick:()=>{g(null),f(!0)},children:[(0,er.jsx)(Ei,{className:"h-4 w-4 mr-2"}),"Yeni B\xfct\xe7e"]})]})]}),c&&(0,er.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,er.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"D\xf6nem:"}),(0,er.jsx)("select",{value:d,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 min-w-[200px]",children:j.length>0?j.map(e=>(0,er.jsx)("option",{value:e.value,children:e.label},e.value)):(0,er.jsx)("option",{value:"",children:"B\xfct\xe7e bulunamad\u0131"})})]}),(0,er.jsxs)("div",{className:"text-sm text-gray-500",children:[r.length," b\xfct\xe7e kayd\u0131"]})]}),(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,er.jsx)("div",{className:"card",children:(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,er.jsx)(Pi,{className:"h-6 w-6 text-primary-600"})}),(0,er.jsxs)("div",{className:"ml-4",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Toplam B\xfct\xe7e"}),(0,er.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[A().toLocaleString("tr-TR")," \u20ba"]})]})]})}),(0,er.jsx)("div",{className:"card",children:(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"p-2 bg-success-100 rounded-lg",children:(0,er.jsx)(Ci,{className:"h-6 w-6 text-success-600"})}),(0,er.jsxs)("div",{className:"ml-4",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Gelir B\xfct\xe7esi"}),(0,er.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[A("income").toLocaleString("tr-TR")," \u20ba"]})]})]})}),(0,er.jsx)("div",{className:"card",children:(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"p-2 bg-warning-100 rounded-lg",children:(0,er.jsx)(Ci,{className:"h-6 w-6 text-warning-600"})}),(0,er.jsxs)("div",{className:"ml-4",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Gider B\xfct\xe7esi"}),(0,er.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[A("expense").toLocaleString("tr-TR")," \u20ba"]})]})]})}),(0,er.jsx)("div",{className:"card",children:(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"p-2 bg-info-100 rounded-lg",children:(0,er.jsx)(Ho,{className:"h-6 w-6 text-info-600"})}),(0,er.jsxs)("div",{className:"ml-4",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Se\xe7ili D\xf6nem"}),(0,er.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:T(d)})]})]})})]}),(0,er.jsxs)("div",{className:"space-y-6",children:[D("income"),D("expense")]}),(0,er.jsx)(wl,{isOpen:m,onClose:()=>{f(!1),g(null)},onSave:async()=>{await N(),await P(),f(!1),g(null)},budget:p,userId:t,period:d,onPeriodChange:h})]})};function _l(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Nl=n.forwardRef(_l);function Sl(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const El=n.forwardRef(Sl);function Cl(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Tl=n.forwardRef(Cl);function Pl(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Al=n.forwardRef(Pl),Ol=()=>{const{user:e}=Qs(),{setTheme:t}=(()=>{const e=(0,n.useContext)(tn);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),[r,a]=(0,n.useState)({theme:"auto",language:"tr",aiHumorMode:"friendly",currency:"TRY",dateFormat:"DD/MM/YYYY",notifications:{enabled:!0,budgetAlerts:!0,budgetThreshold:80,weeklyReports:!0}}),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{c()},[]);const c=async()=>{if(e)try{const{data:o,error:l}=await Ys.from("spendme_user_settings").select("*").eq("user_id",e.id).single();if(l&&"PGRST116"!==l.code)return void console.error("Settings load error:",l);if(o){var r,n,s,i;const e={theme:o.theme||"auto",language:o.language||"tr",aiHumorMode:o.ai_humor_mode||"friendly",currency:o.currency||"TRY",dateFormat:o.date_format||"DD/MM/YYYY",notifications:{enabled:null===(r=o.notifications_enabled)||void 0===r||r,budgetAlerts:null===(n=o.budget_alerts)||void 0===n||n,budgetThreshold:null!==(s=o.budget_threshold)&&void 0!==s?s:80,weeklyReports:null===(i=o.weekly_reports)||void 0===i||i}};a(e),e.theme&&t(e.theme)}}catch(o){console.error("Settings load error:",o)}},u=async n=>{if(e){i(!0);try{const s={...r,...n};console.log("Saving settings for user:",e.id),console.log("Settings to save:",s);const{data:i,error:o}=await Ys.from("spendme_user_settings").select("*").eq("user_id",e.id).single();let c;if(console.log("Existing data:",i),console.log("Check error:",o),c=i?await Ys.from("spendme_user_settings").update({theme:s.theme,language:s.language,currency:s.currency,date_format:s.dateFormat,ai_humor_mode:s.aiHumorMode,notifications_enabled:s.notifications.enabled,budget_alerts:s.notifications.budgetAlerts,budget_threshold:s.notifications.budgetThreshold,weekly_reports:s.notifications.weeklyReports}).eq("user_id",e.id):await Ys.from("spendme_user_settings").insert({user_id:e.id,theme:s.theme,language:s.language,currency:s.currency,date_format:s.dateFormat,ai_humor_mode:s.aiHumorMode,notifications_enabled:s.notifications.enabled,budget_alerts:s.notifications.budgetAlerts,budget_threshold:s.notifications.budgetThreshold,weekly_reports:s.notifications.weeklyReports}),c.error)throw c.error;a(s),l({type:"success",text:"Ayarlar ba\u015far\u0131yla kaydedildi!"}),n.theme&&t(n.theme),setTimeout(()=>l(null),3e3)}catch(s){console.error("Settings save error:",s),l({type:"error",text:`Ayarlar kaydedilirken hata olu\u015ftu: ${(null===s||void 0===s?void 0:s.message)||s}`}),setTimeout(()=>l(null),5e3)}finally{i(!1)}}},d=e=>{let{title:t,icon:r,children:n}=e;return(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,er.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:r}),(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t})]})}),(0,er.jsx)("div",{className:"px-6 py-4 space-y-4",children:n})]})},h=e=>{let{label:t,description:r,children:n}=e;return(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{className:"flex-1",children:[(0,er.jsx)("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t}),r&&(0,er.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:r})]}),(0,er.jsx)("div",{className:"ml-4",children:n})]})};return(0,er.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,er.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,er.jsxs)("div",{className:"mb-8",children:[(0,er.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Ayarlar"}),(0,er.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Uygulama tercihlerinizi y\xf6netin"}),e&&(0,er.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Kullan\u0131c\u0131: ",e.email," (ID: ",e.id,")"]})]}),o&&(0,er.jsx)("div",{className:"mb-6 p-4 rounded-lg "+("success"===o.type?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200"),children:o.text}),(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsxs)(d,{title:"G\xf6r\xfcn\xfcm",icon:(0,er.jsx)(Nl,{className:"w-6 h-6"}),children:[(0,er.jsx)(h,{label:"Tema",description:"Uygulama temas\u0131n\u0131 se\xe7in",children:(0,er.jsxs)("select",{value:r.theme,onChange:e=>u({theme:e.target.value}),disabled:s,className:"block w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,er.jsx)("option",{value:"light",children:"A\xe7\u0131k"}),(0,er.jsx)("option",{value:"dark",children:"Koyu"}),(0,er.jsx)("option",{value:"auto",children:"Otomatik"})]})}),(0,er.jsx)(h,{label:"Dil",description:"Uygulama dilini se\xe7in",children:(0,er.jsxs)("select",{value:r.language,onChange:e=>u({language:e.target.value}),disabled:s,className:"block w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,er.jsx)("option",{value:"tr",children:"T\xfcrk\xe7e"}),(0,er.jsx)("option",{value:"en",children:"English"})]})}),(0,er.jsxs)("div",{className:"mb-6",children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Para Birimi"}),(0,er.jsx)("select",{className:"w-full px-4 py-2 border rounded-lg bg-gray-100 text-gray-700",value:"TRY",disabled:!0,children:(0,er.jsx)("option",{value:"TRY",children:"\u20ba T\xfcrk Liras\u0131"})}),(0,er.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u015eu anda sadece T\xfcrk Liras\u0131 desteklenmektedir."})]}),(0,er.jsx)(h,{label:"Tarih Format\u0131",description:"Tarih g\xf6sterim format\u0131n\u0131 se\xe7in",children:(0,er.jsxs)("select",{value:r.dateFormat,onChange:e=>u({dateFormat:e.target.value}),disabled:s,className:"block w-40 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,er.jsx)("option",{value:"DD/MM/YYYY",children:"GG/AA/YYYY"}),(0,er.jsx)("option",{value:"MM/DD/YYYY",children:"AA/GG/YYYY"})]})})]}),(0,er.jsx)(d,{title:"AI Asistan",icon:(0,er.jsx)(Nl,{className:"w-6 h-6"}),children:(0,er.jsx)(h,{label:"AI Humor Modu",description:"AI asistan\u0131n mizah seviyesini se\xe7in",children:(0,er.jsxs)("select",{value:r.aiHumorMode,onChange:e=>u({aiHumorMode:e.target.value}),disabled:s,className:"block w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,er.jsx)("option",{value:"serious",children:"Ciddi"}),(0,er.jsx)("option",{value:"friendly",children:"Samimi"}),(0,er.jsx)("option",{value:"funny",children:"E\u011flenceli"}),(0,er.jsx)("option",{value:"clown",children:"Palya\xe7o"})]})})}),(0,er.jsxs)(d,{title:"Bildirimler",icon:(0,er.jsx)(El,{className:"w-6 h-6"}),children:[(0,er.jsx)(h,{label:"Bildirimler",description:"Push bildirimlerini a\xe7\u0131n/kapat\u0131n",children:(0,er.jsx)("button",{onClick:()=>u({notifications:{...r.notifications,enabled:!r.notifications.enabled}}),disabled:s,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(r.notifications.enabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"),children:(0,er.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(r.notifications.enabled?"translate-x-6":"translate-x-1")})})}),(0,er.jsx)(h,{label:"B\xfct\xe7e Uyar\u0131lar\u0131",description:"B\xfct\xe7e limitine yakla\u015ft\u0131\u011f\u0131n\u0131zda uyar\u0131 al\u0131n",children:(0,er.jsx)("button",{onClick:()=>u({notifications:{...r.notifications,budgetAlerts:!r.notifications.budgetAlerts}}),disabled:s||!r.notifications.enabled,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(r.notifications.budgetAlerts&&r.notifications.enabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"),children:(0,er.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(r.notifications.budgetAlerts&&r.notifications.enabled?"translate-x-6":"translate-x-1")})})}),(0,er.jsx)(h,{label:"B\xfct\xe7e Uyar\u0131 E\u015fi\u011fi",description:"B\xfct\xe7enizin y\xfczde ka\xe7\u0131nda uyar\u0131 almak istiyorsunuz",children:(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsx)("input",{type:"range",min:"50",max:"95",step:"5",value:r.notifications.budgetThreshold,onChange:e=>u({notifications:{...r.notifications,budgetThreshold:parseInt(e.target.value)}}),disabled:s||!r.notifications.enabled||!r.notifications.budgetAlerts,className:"w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),(0,er.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:[r.notifications.budgetThreshold,"%"]})]})}),(0,er.jsx)(h,{label:"Haftal\u0131k Raporlar",description:"Haftal\u0131k harcama raporlar\u0131 al\u0131n",children:(0,er.jsx)("button",{onClick:()=>u({notifications:{...r.notifications,weeklyReports:!r.notifications.weeklyReports}}),disabled:s||!r.notifications.enabled,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(r.notifications.weeklyReports&&r.notifications.enabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"),children:(0,er.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(r.notifications.weeklyReports&&r.notifications.enabled?"translate-x-6":"translate-x-1")})})})]}),(0,er.jsxs)(d,{title:"Veri Y\xf6netimi",icon:(0,er.jsx)(Tl,{className:"w-6 h-6"}),children:[(0,er.jsx)(h,{label:"Veri D\u0131\u015fa Aktar",description:"T\xfcm verilerinizi JSON format\u0131nda indirin",children:(0,er.jsxs)("button",{onClick:async()=>{if(e){i(!0);try{const{data:t}=await Ys.from("transactions").select("*").eq("user_id",e.id),{data:r}=await Ys.from("budgets").select("*").eq("user_id",e.id),{data:n}=await Ys.from("accounts").select("*").eq("user_id",e.id),a={transactions:t,budgets:r,accounts:n,exportDate:(new Date).toISOString(),version:"1.0"},s=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=`spendme-export-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),l({type:"success",text:"Veriler ba\u015far\u0131yla d\u0131\u015fa aktar\u0131ld\u0131!"}),setTimeout(()=>l(null),3e3)}catch(t){console.error("Export error:",t),l({type:"error",text:"Veri d\u0131\u015fa aktarma hatas\u0131!"}),setTimeout(()=>l(null),3e3)}finally{i(!1)}}},disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,er.jsx)(Tl,{className:"w-4 h-4 mr-2"}),"D\u0131\u015fa Aktar"]})}),(0,er.jsx)(h,{label:"Veri \u0130\xe7e Aktar",description:"Daha \xf6nce d\u0131\u015fa aktard\u0131\u011f\u0131n\u0131z verileri geri y\xfckleyin",children:(0,er.jsxs)("button",{onClick:()=>{l({type:"error",text:"Bu \xf6zellik yak\u0131nda eklenecek!"}),setTimeout(()=>l(null),3e3)},disabled:s,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,er.jsx)(Al,{className:"w-4 h-4 mr-2"}),"\u0130\xe7e Aktar"]})})]})]})]})})},zl=ni("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Rl=ni("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ll=ni("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Dl=ni("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Il=ni("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$l=e=>{let{onClose:t,onSuccess:r,userEmail:a}=e;const[s,i]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1);return(0,er.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o===c)if(o.length<6)en.error("\u015eifre en az 6 karakter olmal\u0131d\u0131r");else{b(!0);try{const{error:e}=await Ys.auth.signInWithPassword({email:a,password:s});if(e)return void en.error("Mevcut \u015fifre yanl\u0131\u015f");const{error:t}=await Ys.auth.updateUser({password:o});if(t)return void en.error(`\u015eifre g\xfcncellenirken hata olu\u015ftu: ${t.message}`);i(""),l(""),u(""),r()}catch(t){en.error(`\u015eifre de\u011fi\u015ftirilirken hata olu\u015ftu: ${t.message}`)}finally{b(!1)}}else en.error("Yeni \u015fifreler e\u015fle\u015fmiyor")},className:"space-y-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mevcut \u015eifre"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("input",{type:d?"text":"password",value:s,onChange:e=>i(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),(0,er.jsx)("button",{type:"button",onClick:()=>h(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?(0,er.jsx)(Dl,{className:"h-4 w-4 text-gray-400"}):(0,er.jsx)(Il,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Yeni \u015eifre"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("input",{type:m?"text":"password",value:o,onChange:e=>l(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),(0,er.jsx)("button",{type:"button",onClick:()=>f(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m?(0,er.jsx)(Dl,{className:"h-4 w-4 text-gray-400"}):(0,er.jsx)(Il,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Yeni \u015eifre (Tekrar)"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("input",{type:p?"text":"password",value:c,onChange:e=>u(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),(0,er.jsx)("button",{type:"button",onClick:()=>g(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:p?(0,er.jsx)(Dl,{className:"h-4 w-4 text-gray-400"}):(0,er.jsx)(Il,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,er.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,er.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:"\u0130ptal"}),(0,er.jsx)("button",{type:"submit",disabled:y,className:"flex-1 px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:y?"De\u011fi\u015ftiriliyor...":"De\u011fi\u015ftir"})]})]})},Ml=()=>{const{user:e,userProfile:t,updateUserProfile:r,updateProfilePhoto:a}=Qs(),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[m,f]=(0,n.useState)({email_notifications:!0,push_notifications:!0,budget_alerts:!0,transaction_reminders:!0,weekly_reports:!1,monthly_reports:!0,security_alerts:!0,marketing_emails:!1}),p=(0,n.useRef)(null),g=(0,n.useRef)(null),y=(0,n.useRef)(null),b=(0,n.useRef)(null),[x,v]=(0,n.useState)({toplamIslem:0,toplamGelir:0,toplamGider:0}),k=()=>{var r,n,a,s;return{first_name:(null===(r=p.current)||void 0===r?void 0:r.value)||(null===t||void 0===t?void 0:t.first_name)||"",last_name:(null===(n=g.current)||void 0===n?void 0:n.value)||(null===t||void 0===t?void 0:t.last_name)||"",phone:(null===(a=y.current)||void 0===a?void 0:a.value)||(null===t||void 0===t?void 0:t.phone)||"",location:(null===(s=b.current)||void 0===s?void 0:s.value)||(null===t||void 0===t?void 0:t.location)||"",email:(null===e||void 0===e?void 0:e.email)||""}},w=async(e,t)=>{f(r=>({...r,[e]:t}));try{const{error:n}=await r({[e]:t});n?(en.error("Bildirim ayar\u0131 kaydedilemedi"),f(r=>({...r,[e]:!t}))):en.success("Bildirim ayar\u0131 g\xfcncellendi")}catch(n){en.error("Bildirim ayar\u0131 kaydedilemedi"),f(r=>({...r,[e]:!t}))}},j=e=>new Intl.NumberFormat("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);(0,n.useEffect)(()=>{(async()=>{if(!e)return;const{data:t,error:r}=await Ys.from("spendme_transactions").select("*").eq("user_id",e.id);if(r)return;const n=t.length,a=t.filter(e=>"income"===e.type).reduce((e,t)=>e+(t.amount||0),0),s=t.filter(e=>"expense"===e.type).reduce((e,t)=>e+(t.amount||0),0);v({toplamIslem:n,toplamGelir:a,toplamGider:s})})()},[e]);const _=e=>{let{title:t,icon:r,children:n}=e;return(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[(0,er.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"flex-shrink-0",children:(0,er.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:r})}),(0,er.jsx)("div",{className:"ml-4",children:(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t})})]})}),(0,er.jsx)("div",{className:"px-6 py-4",children:n})]})},N=e=>{let{label:t,description:r,children:n}=e;return(0,er.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,er.jsxs)("div",{className:"flex-1",children:[(0,er.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t}),r&&(0,er.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r})]}),(0,er.jsx)("div",{className:"ml-4",children:n})]})};n.useEffect(()=>{var e,r,n,a,i,o,l,c;t&&!s&&(p.current&&(p.current.value=t.first_name||""),g.current&&(g.current.value=t.last_name||""),y.current&&(y.current.value=t.phone||""),b.current&&(b.current.value=t.location||""),f({email_notifications:null===(e=t.email_notifications)||void 0===e||e,push_notifications:null===(r=t.push_notifications)||void 0===r||r,budget_alerts:null===(n=t.budget_alerts)||void 0===n||n,transaction_reminders:null===(a=t.transaction_reminders)||void 0===a||a,weekly_reports:null!==(i=t.weekly_reports)&&void 0!==i&&i,monthly_reports:null===(o=t.monthly_reports)||void 0===o||o,security_alerts:null===(l=t.security_alerts)||void 0===l||l,marketing_emails:null!==(c=t.marketing_emails)&&void 0!==c&&c}))},[t,s]);const S=k();return(0,er.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,er.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,er.jsx)("div",{className:"mb-8",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Profil"}),(0,er.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Ki\u015fisel bilgilerinizi ve hesap ayarlar\u0131n\u0131z\u0131 y\xf6netin"})]}),s?(0,er.jsxs)("div",{className:"flex space-x-2",children:[(0,er.jsxs)("button",{onClick:async()=>{if(e){l(!0);try{const n=k();console.log("=== PROFILE SAVE DEBUG ==="),console.log("User ID:",e.id),console.log("Form data to save:",n),console.log("Current userProfile:",t);const{error:a}=await r({first_name:n.first_name,last_name:n.last_name,phone:n.phone,location:n.location});if(console.log("Update result error:",a),a)throw a;console.log("Profile saved successfully!"),i(!1),en.success("Profil bilgileri ba\u015far\u0131yla kaydedildi!")}catch(n){console.error("Profile save error:",n),en.error(`Profil kaydedilirken hata olu\u015ftu: ${(null===n||void 0===n?void 0:n.message)||n}`)}finally{l(!1)}}},disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,er.jsx)(fl,{className:"h-4 w-4 mr-2"}),o?"Kaydediliyor...":"Kaydet"]}),(0,er.jsxs)("button",{onClick:()=>{p.current&&(p.current.value=(null===t||void 0===t?void 0:t.first_name)||""),g.current&&(g.current.value=(null===t||void 0===t?void 0:t.last_name)||""),y.current&&(y.current.value=(null===t||void 0===t?void 0:t.phone)||""),b.current&&(b.current.value=(null===t||void 0===t?void 0:t.location)||""),i(!1)},disabled:o,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,er.jsx)(ul,{className:"h-4 w-4 mr-2"}),"\u0130ptal"]})]}):(0,er.jsxs)("button",{onClick:()=>{i(!0),setTimeout(()=>{var e;null===(e=p.current)||void 0===e||e.focus()},100)},disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,er.jsx)(ll,{className:"h-4 w-4 mr-2"}),"D\xfczenle"]})]})}),(0,er.jsxs)("div",{className:"space-y-6",children:[(0,er.jsx)(_,{title:"Profil Foto\u011fraf\u0131",icon:(0,er.jsx)(vi,{className:"w-6 h-6"}),children:(0,er.jsxs)("div",{className:"text-center",children:[(0,er.jsxs)("div",{className:"relative inline-block",children:[null!==t&&void 0!==t&&t.avatar_url?(0,er.jsx)("img",{src:t.avatar_url,alt:"Profil foto\u011fraf\u0131",className:"w-24 h-24 rounded-full object-cover mb-4 border-4 border-white dark:border-gray-700 shadow-lg"}):(0,er.jsxs)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mb-4",children:[S.first_name.charAt(0)||"U",S.last_name.charAt(0)||""]}),s&&(0,er.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/jpeg,image/png,image/webp",e.onchange=async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r)try{const e=5242880;if(r.size>e)return void en.error("Dosya boyutu \xe7ok b\xfcy\xfck. 5MB'dan k\xfc\xe7\xfck bir resim se\xe7in.");if(!r.type.startsWith("image/"))return void en.error("L\xfctfen ge\xe7erli bir resim dosyas\u0131 se\xe7in.");en.loading("Foto\u011fraf y\xfckleniyor...");const{error:t}=await a(r);t?en.error("Foto\u011fraf y\xfcklenirken hata olu\u015ftu: "+t.message):en.success("Profil foto\u011fraf\u0131 ba\u015far\u0131yla g\xfcncellendi!")}catch(n){en.error("Foto\u011fraf y\xfcklenirken hata olu\u015ftu: "+(n.message||"Bilinmeyen hata"))}},e.click()},className:"absolute bottom-0 right-0 bg-white dark:bg-gray-700 p-2 rounded-full shadow-lg border-2 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:(0,er.jsx)(zl,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})})]}),(0,er.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Profil foto\u011fraf\u0131n\u0131z\u0131 de\u011fi\u015ftirmek i\xe7in kamera ikonuna t\u0131klay\u0131n"})]})}),(0,er.jsxs)(_,{title:"Ki\u015fisel Bilgiler",icon:(0,er.jsx)(vi,{className:"w-6 h-6"}),children:[(0,er.jsx)(N,{label:"Ad",description:"Ad\u0131n\u0131z\u0131 g\xfcncelleyin",children:s?(0,er.jsx)("input",{ref:p,type:"text",defaultValue:(null===t||void 0===t?void 0:t.first_name)||"",className:"block w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}):(0,er.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.first_name||"Belirtilmemi\u015f"})}),(0,er.jsx)(N,{label:"Soyad",description:"Soyad\u0131n\u0131z\u0131 g\xfcncelleyin",children:s?(0,er.jsx)("input",{ref:g,type:"text",defaultValue:(null===t||void 0===t?void 0:t.last_name)||"",className:"block w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}):(0,er.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.last_name||"Belirtilmemi\u015f"})}),(0,er.jsx)(N,{label:"Telefon",description:"Telefon numaran\u0131z\u0131 g\xfcncelleyin",children:s?(0,er.jsx)("input",{ref:y,type:"tel",defaultValue:(null===t||void 0===t?void 0:t.phone)||"",className:"block w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}):(0,er.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.phone||"Belirtilmemi\u015f"})}),(0,er.jsx)(N,{label:"Konum",description:"Konumunuzu g\xfcncelleyin",children:s?(0,er.jsx)("input",{ref:b,type:"text",defaultValue:(null===t||void 0===t?void 0:t.location)||"",className:"block w-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}):(0,er.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.location||"Belirtilmemi\u015f"})}),(0,er.jsx)(N,{label:"E-posta",description:"E-posta adresiniz",children:(0,er.jsx)("span",{className:"text-gray-900 dark:text-white",children:S.email||"Belirtilmemi\u015f"})})]}),(0,er.jsx)(_,{title:"Veri D\u0131\u015fa Aktar",icon:(0,er.jsx)(di,{className:"w-6 h-6"}),children:(0,er.jsx)(N,{label:"Harcama Verileri",description:"T\xfcm harcama verilerinizi CSV format\u0131nda indirin (Yak\u0131nda)",children:(0,er.jsxs)("button",{disabled:!0,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 cursor-not-allowed",children:[(0,er.jsx)(di,{className:"h-4 w-4 mr-2"}),"Yak\u0131nda"]})})}),(0,er.jsxs)(_,{title:"Bildirim Ayarlar\u0131",icon:(0,er.jsx)(xi,{className:"w-6 h-6"}),children:[(0,er.jsx)(N,{label:"E-posta Bildirimleri",description:"\xd6nemli g\xfcncellemeler i\xe7in e-posta al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.email_notifications,onChange:e=>w("email_notifications",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"Push Bildirimleri",description:"Anl\u0131k bildirimler al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.push_notifications,onChange:e=>w("push_notifications",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"B\xfct\xe7e Uyar\u0131lar\u0131",description:"B\xfct\xe7e limitlerinize yakla\u015ft\u0131\u011f\u0131n\u0131zda uyar\u0131 al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.budget_alerts,onChange:e=>w("budget_alerts",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"\u0130\u015flem Hat\u0131rlat\u0131c\u0131lar\u0131",description:"D\xfczenli \xf6demeler i\xe7in hat\u0131rlatmalar al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.transaction_reminders,onChange:e=>w("transaction_reminders",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"Haftal\u0131k Raporlar",description:"Haftal\u0131k harcama \xf6zetinizi e-posta ile al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.weekly_reports,onChange:e=>w("weekly_reports",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"Ayl\u0131k Raporlar",description:"Ayl\u0131k finansal \xf6zetinizi e-posta ile al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.monthly_reports,onChange:e=>w("monthly_reports",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"G\xfcvenlik Uyar\u0131lar\u0131",description:"Hesap g\xfcvenli\u011fi ile ilgili \xf6nemli uyar\u0131lar",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.security_alerts,onChange:e=>w("security_alerts",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),(0,er.jsx)(N,{label:"Pazarlama E-postalar\u0131",description:"Yeni \xf6zellikler ve g\xfcncellemeler hakk\u0131nda bilgi al\u0131n",children:(0,er.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,er.jsx)("input",{type:"checkbox",checked:m.marketing_emails,onChange:e=>w("marketing_emails",e.target.checked),className:"sr-only peer"}),(0,er.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]}),(0,er.jsxs)(_,{title:"G\xfcvenlik",icon:(0,er.jsx)(Rl,{className:"w-6 h-6"}),children:[(0,er.jsx)(N,{label:"\u015eifre De\u011fi\u015ftir",description:"Hesap \u015fifrenizi g\xfcncelleyin",children:(0,er.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,er.jsx)(Ll,{className:"h-4 w-4 mr-2"}),"De\u011fi\u015ftir"]})}),(0,er.jsx)(N,{label:"\u0130ki Fakt\xf6rl\xfc Do\u011frulama",description:"Hesab\u0131n\u0131z\u0131 daha g\xfcvenli hale getirin (Yak\u0131nda)",children:(0,er.jsxs)("button",{disabled:!0,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 cursor-not-allowed",children:[(0,er.jsx)(Rl,{className:"h-4 w-4 mr-2"}),"Yak\u0131nda"]})})]}),(0,er.jsx)(_,{title:"Hesap \u0130statistikleri",icon:(0,er.jsx)(vi,{className:"w-6 h-6"}),children:(0,er.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,er.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,er.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:x.toplamIslem}),(0,er.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam \u0130\u015flem"})]}),(0,er.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,er.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:j(x.toplamGelir)}),(0,er.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam Gelir"})]}),(0,er.jsxs)("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,er.jsx)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:j(x.toplamGider)}),(0,er.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam Gider"})]})]})}),(0,er.jsx)(_,{title:"Hesap Y\xf6netimi",icon:(0,er.jsx)(vi,{className:"w-6 h-6"}),children:(0,er.jsx)(N,{label:"Hesab\u0131 Sil",description:"T\xfcm verilerinizle birlikte hesab\u0131n\u0131z\u0131 kal\u0131c\u0131 olarak silin",children:(0,er.jsxs)("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,er.jsx)(cl,{className:"h-4 w-4 mr-2"}),"Hesab\u0131 Sil"]})})})]})]}),c&&(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"\u015eifre De\u011fi\u015ftir"}),(0,er.jsx)($l,{onClose:()=>u(!1),onSuccess:()=>{u(!1),en.success("\u015eifre ba\u015far\u0131yla de\u011fi\u015ftirildi!")},userEmail:(null===e||void 0===e?void 0:e.email)||""})]})}),d&&(0,er.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,er.jsx)("h3",{className:"text-lg font-medium text-red-600 mb-4",children:"Hesab\u0131 Sil"}),(0,er.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Bu i\u015flem geri al\u0131namaz. T\xfcm verileriniz kal\u0131c\u0131 olarak silinecektir."}),(0,er.jsxs)("div",{className:"flex space-x-3",children:[(0,er.jsx)("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:"\u0130ptal"}),(0,er.jsx)("button",{onClick:()=>{h(!1),en.error("Hesap silme \xf6zelli\u011fi hen\xfcz aktif de\u011fil")},className:"flex-1 px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:"Hesab\u0131 Sil"})]})]})})]})},Fl=ni("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Bl=ni("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ul=()=>{const e=ne(),{signIn:t,signUp:r}=Qs(),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)({email:"",password:"",confirmPassword:""}),h=(e,t)=>{d(r=>({...r,[e]:t}))};return(0,er.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,er.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,er.jsx)("div",{className:"flex justify-center",children:(0,er.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,er.jsx)("span",{className:"text-white font-bold text-2xl",children:"\u20ba"})})}),(0,er.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white",children:a?"Hesab\u0131n\u0131za Giri\u015f Yap\u0131n":"Yeni Hesap Olu\u015fturun"}),(0,er.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:a?(0,er.jsxs)(er.Fragment,{children:["Hesab\u0131n\u0131z yok mu?"," ",(0,er.jsx)("button",{onClick:()=>s(!1),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"\xdccretsiz hesap olu\u015fturun"})]}):(0,er.jsxs)(er.Fragment,{children:["Zaten hesab\u0131n\u0131z var m\u0131?"," ",(0,er.jsx)("button",{onClick:()=>s(!0),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Giri\u015f yap\u0131n"})]})})]}),(0,er.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow-xl rounded-xl sm:px-10",children:[(0,er.jsxs)("form",{className:"space-y-6",onSubmit:async n=>{if(n.preventDefault(),a||u.password===u.confirmPassword)if(u.password.length<6)en.error("\u015eifre en az 6 karakter olmal\u0131d\u0131r!");else{o(!0);try{const{error:n}=a?await t(u.email,u.password):await r(u.email,u.password);if(n)throw n;a?(en.success("Ba\u015far\u0131yla giri\u015f yapt\u0131n\u0131z!"),e("/dashboard")):(en.success("Hesab\u0131n\u0131z olu\u015fturuldu! Giri\u015f yapabilirsiniz."),s(!0),d({...u,confirmPassword:""}))}catch(i){console.error("Auth error:",i),en.error((null===i||void 0===i?void 0:i.message)||"Bir hata olu\u015ftu!")}finally{o(!1)}}else en.error("\u015eifreler e\u015fle\u015fmiyor!")},children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-posta Adresi"}),(0,er.jsxs)("div",{className:"mt-1 relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Fl,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:u.email,onChange:e=>h("email",e.target.value),className:"appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"ornek@email.com"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\u015eifre"}),(0,er.jsxs)("div",{className:"mt-1 relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Bl,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:a?"current-password":"new-password",required:!0,value:u.password,onChange:e=>h("password",e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,er.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?(0,er.jsx)(Dl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,er.jsx)(Il,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),!a&&(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\u015eifre Tekrar\u0131"}),(0,er.jsxs)("div",{className:"mt-1 relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Bl,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:u.confirmPassword,onChange:e=>h("confirmPassword",e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,er.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?(0,er.jsx)(Dl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,er.jsx)(Il,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,er.jsx)("div",{children:(0,er.jsx)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?"Giri\u015f Yap\u0131l\u0131yor...":"Hesap Olu\u015fturuluyor..."]}):(0,er.jsxs)("div",{className:"flex items-center",children:[a?(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(vi,{className:"h-4 w-4 mr-2"}),"Giri\u015f Yap"]}):(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(vi,{className:"h-4 w-4 mr-2"}),"Hesap Olu\u015ftur"]}),(0,er.jsx)(ol,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]}),(0,er.jsx)("div",{className:"mt-6",children:(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,er.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,er.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,er.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"veya"})})]})}),(0,er.jsx)("div",{className:"mt-6",children:(0,er.jsx)("button",{onClick:()=>{d({email:"demo@spendme.com",password:"demo123",confirmPassword:"demo123"}),s(!0)},className:"w-full flex justify-center py-3 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Demo Hesap ile Giri\u015f Yap"})})]})}),(0,er.jsx)("div",{className:"mt-8 text-center",children:(0,er.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Giri\u015f yaparak"," ",(0,er.jsx)(lt,{to:"/terms",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Kullan\u0131m \u015eartlar\u0131"})," ","ve"," ",(0,er.jsx)(lt,{to:"/privacy",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Gizlilik Politikas\u0131"}),"'n\u0131 kabul etmi\u015f olursunuz."]})})]})},ql=ni("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Hl=ni("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Gl=ni("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);class Kl{static async getLoginAssistance(e,t){try{const{data:r}=await Ys.from("spendme_login_attempts").select("*").eq("email",e).order("created_at",{ascending:!1}).limit(5),n=[];if("invalid_credentials"===t?(n.push("\u015eifrenizi kontrol edin ve b\xfcy\xfck/k\xfc\xe7\xfck harflere dikkat edin"),n.push("Caps Lock tu\u015funun a\xe7\u0131k olmad\u0131\u011f\u0131ndan emin olun"),n.push('\u015eifrenizi unuttuysan\u0131z "\u015eifremi Unuttum" se\xe7ene\u011fini kullan\u0131n')):"user_not_found"===t?(n.push("Bu e-posta adresi ile kay\u0131tl\u0131 hesap bulunamad\u0131"),n.push('Yeni hesap olu\u015fturmak i\xe7in "Kay\u0131t Ol" se\xe7ene\u011fini kullan\u0131n'),n.push("E-posta adresinizi kontrol edin")):"too_many_requests"===t&&(n.push("\xc7ok fazla ba\u015far\u0131s\u0131z giri\u015f denemesi yap\u0131ld\u0131"),n.push("Birka\xe7 dakika bekleyip tekrar deneyin"),n.push("\u015eifrenizi s\u0131f\u0131rlamay\u0131 d\xfc\u015f\xfcn\xfcn")),r&&r.length>0){const e=r[0],t=Date.now()-new Date(e.created_at).getTime();t/36e5>24&&n.push("Son giri\u015finizden bu yana 24 saat ge\xe7ti. Hesab\u0131n\u0131z\u0131n g\xfcvenli\u011fi i\xe7in \u015fifrenizi g\xfcncellemeyi d\xfc\u015f\xfcn\xfcn")}return{success:!0,message:"AI destekli giri\u015f yard\u0131m\u0131 haz\u0131rland\u0131",suggestions:n}}catch(r){return{success:!1,message:"AI yard\u0131m\u0131 al\u0131n\u0131rken hata olu\u015ftu",suggestions:["Tekrar deneyin","Manuel olarak giri\u015f yapmay\u0131 deneyin"]}}}static async getSignupSuggestions(e){try{const t=e.split("@")[1],r=[];return"gmail.com"===t?(r.push("Gmail hesab\u0131n\u0131zla h\u0131zl\u0131 giri\u015f yapabilirsiniz"),r.push("G\xfc\xe7l\xfc bir \u015fifre se\xe7in (en az 8 karakter)")):"outlook.com"===t||"hotmail.com"===t?(r.push("Outlook hesab\u0131n\u0131zla h\u0131zl\u0131 giri\u015f yapabilirsiniz"),r.push("\u0130ki fakt\xf6rl\xfc do\u011frulama kullanman\u0131z\u0131 \xf6neririz")):(r.push("\u0130\u015f e-postan\u0131zla g\xfcvenli giri\u015f yapabilirsiniz"),r.push("\u015eirket g\xfcvenlik politikalar\u0131n\u0131za uygun \u015fifre se\xe7in")),r.push("\u015eifrenizde b\xfcy\xfck/k\xfc\xe7\xfck harf, rakam ve \xf6zel karakter kullan\u0131n"),r.push("Ki\u015fisel bilgilerinizi \u015fifre olarak kullanmay\u0131n"),r.push("Hesab\u0131n\u0131z\u0131 olu\u015fturduktan sonra profil bilgilerinizi tamamlay\u0131n"),{success:!0,message:"Ak\u0131ll\u0131 hesap olu\u015fturma \xf6nerileri haz\u0131rland\u0131",suggestions:r}}catch(t){return{success:!1,message:"AI \xf6nerileri al\u0131n\u0131rken hata olu\u015ftu",suggestions:["G\xfc\xe7l\xfc bir \u015fifre se\xe7in","E-posta adresinizi do\u011fru girdi\u011finizden emin olun"]}}}static async logLoginAttempt(e,t,r){try{await Ys.from("spendme_login_attempts").insert({email:e,success:t,error_type:r,ip_address:"client_ip",user_agent:navigator.userAgent})}catch(n){console.error("Login attempt logging failed:",n)}}static checkPasswordStrength(e){const t=[];let r=0;e.length>=8?r+=1:t.push("\u015eifre en az 8 karakter olmal\u0131d\u0131r"),/[A-Z]/.test(e)?r+=1:t.push("En az bir b\xfcy\xfck harf kullan\u0131n"),/[a-z]/.test(e)?r+=1:t.push("En az bir k\xfc\xe7\xfck harf kullan\u0131n"),/\d/.test(e)?r+=1:t.push("En az bir rakam kullan\u0131n"),/[!@#$%^&*(),.?":{}|<>]/.test(e)?r+=1:t.push("En az bir \xf6zel karakter kullan\u0131n");return["password","123456","qwerty","admin","letmein"].includes(e.toLowerCase())&&(r-=2,t.push("Yayg\u0131n \u015fifreler kullanmay\u0131n")),{score:r,feedback:t,isStrong:r>=4}}static validateEmail(e){const t=[],r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);r||(t.push("Ge\xe7erli bir e-posta adresi girin"),t.push("\xd6rnek: kullanici@domain.com"));const n=e.split("@")[1];return n&&n.length<3&&t.push("E-posta domain'i \xe7ok k\u0131sa g\xf6r\xfcn\xfcyor"),{isValid:r,suggestions:t}}}const Wl=()=>{const e=ne(),{signIn:t,signUp:r}=Qs(),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!1),[h,m]=(0,n.useState)([]),[f,p]=(0,n.useState)(!1),[g,y]=(0,n.useState)({score:0,feedback:[],isStrong:!1}),[b,x]=(0,n.useState)({isValid:!0,suggestions:[]}),[v,k]=(0,n.useState)({email:"",password:"",confirmPassword:""}),w=(0,n.useRef)(null),j=(0,n.useRef)(null);(0,n.useEffect)(()=>(w.current&&clearTimeout(w.current),v.email&&(w.current=setTimeout(()=>{const e=Kl.validateEmail(v.email);x(e),e.isValid&&!a&&_()},500)),()=>{w.current&&clearTimeout(w.current)}),[v.email,a]),(0,n.useEffect)(()=>(j.current&&clearTimeout(j.current),v.password&&(j.current=setTimeout(()=>{const e=Kl.checkPasswordStrength(v.password);y(e)},300)),()=>{j.current&&clearTimeout(j.current)}),[v.password]);const _=async()=>{if(v.email){d(!0);try{const e=await Kl.getSignupSuggestions(v.email);e.success&&e.suggestions&&(m(e.suggestions),p(!0))}catch(e){console.error("AI suggestions error:",e)}finally{d(!1)}}},N=(e,t)=>{k(r=>({...r,[e]:t}))};return(0,er.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,er.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,er.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),(0,er.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),(0,er.jsx)("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),(0,er.jsxs)("div",{className:"relative sm:mx-auto sm:w-full sm:max-w-md",children:[(0,er.jsx)("div",{className:"flex justify-center",children:(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl transform hover:scale-105 transition-transform duration-300",children:(0,er.jsx)(tl,{className:"text-white h-10 w-10"})}),(0,er.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-400 rounded-full flex items-center justify-center",children:(0,er.jsx)(ql,{className:"text-white h-3 w-3"})})]})}),(0,er.jsxs)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white",children:[(0,er.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Destekli"}),(0,er.jsx)("br",{}),a?"Giri\u015f Yap\u0131n":"Hesap Olu\u015fturun"]}),(0,er.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:a?(0,er.jsxs)(er.Fragment,{children:["Hesab\u0131n\u0131z yok mu?"," ",(0,er.jsx)("button",{onClick:()=>{s(!1),p(!1)},className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"\xdccretsiz hesap olu\u015fturun"})]}):(0,er.jsxs)(er.Fragment,{children:["Zaten hesab\u0131n\u0131z var m\u0131?"," ",(0,er.jsx)("button",{onClick:()=>{s(!0),p(!1)},className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Giri\u015f yap\u0131n"})]})})]}),(0,er.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,er.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm py-8 px-4 shadow-2xl rounded-2xl sm:px-10 border border-white/20",children:(0,er.jsxs)("form",{className:"space-y-6",onSubmit:async n=>{if(n.preventDefault(),a||v.password===v.confirmPassword)if(a||g.isStrong){o(!0);try{const{error:n}=a?await t(v.email,v.password):await r(v.email,v.password);if(n){const e=n.message.includes("Invalid login credentials")?"invalid_credentials":n.message.includes("User not found")?"user_not_found":n.message.includes("Too many requests")?"too_many_requests":void 0;throw await Kl.logLoginAttempt(v.email,!1,e),await(async e=>{if(v.email){d(!0);try{const t=await Kl.getLoginAssistance(v.email,e);t.success&&t.suggestions&&(m(t.suggestions),p(!0))}catch(n){console.error("AI login help error:",n)}finally{d(!1)}}})(e),n}await Kl.logLoginAttempt(v.email,!0),a?(en.success("Ba\u015far\u0131yla giri\u015f yapt\u0131n\u0131z!"),e("/dashboard")):(en.success("Hesab\u0131n\u0131z olu\u015fturuldu! Giri\u015f yapabilirsiniz."),s(!0),k({...v,confirmPassword:""}),p(!1))}catch(i){console.error("Auth error:",i),en.error((null===i||void 0===i?void 0:i.message)||"Bir hata olu\u015ftu!")}finally{o(!1)}}else en.error("Daha g\xfc\xe7l\xfc bir \u015fifre se\xe7in!");else en.error("\u015eifreler e\u015fle\u015fmiyor!")},children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-posta Adresi"}),(0,er.jsxs)("div",{className:"mt-1 relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Fl,{className:"h-5 w-5 "+(b.isValid?"text-gray-400":"text-red-400")})}),(0,er.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:v.email,onChange:e=>N("email",e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-3 border rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm transition-all duration-200 "+(b.isValid?"border-gray-300 dark:border-gray-600":"border-red-300 dark:border-red-600"),placeholder:"ornek@email.com"}),(0,er.jsxs)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[u&&(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),!u&&v.email&&(b.isValid?(0,er.jsx)(Hl,{className:"h-5 w-5 text-green-400"}):(0,er.jsx)(Gl,{className:"h-5 w-5 text-red-400"}))]})]}),!b.isValid&&b.suggestions.length>0&&(0,er.jsx)("div",{className:"mt-2 text-sm text-red-600",children:b.suggestions[0]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\u015eifre"}),(0,er.jsxs)("div",{className:"mt-1 relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Bl,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:a?"current-password":"new-password",required:!0,value:v.password,onChange:e=>N("password",e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,er.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?(0,er.jsx)(Dl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,er.jsx)(Il,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),!a&&v.password&&(0,er.jsxs)("div",{className:"mt-2",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,er.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"\u015eifre g\xfcc\xfc:"}),(0,er.jsx)("span",{className:"font-medium "+(g.score>=4?"text-green-600":g.score>=3?"text-yellow-600":g.score>=2?"text-orange-600":"text-red-600"),children:g.score>=4?"\xc7ok G\xfc\xe7l\xfc":g.score>=3?"G\xfc\xe7l\xfc":g.score>=2?"Orta":g.score>=1?"Zay\u0131f":"\xc7ok Zay\u0131f"})]}),(0,er.jsx)("div",{className:"mt-1 flex space-x-1",children:[1,2,3,4,5].map(e=>(0,er.jsx)("div",{className:"h-1 flex-1 rounded-full transition-all duration-300 "+(g.score>=e?g.score>=4?"bg-green-500":g.score>=3?"bg-yellow-500":"bg-orange-500":"bg-gray-200 dark:bg-gray-600")},e))}),g.feedback.length>0&&(0,er.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:g.feedback[0]})]})]}),!a&&(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\u015eifre Tekrar\u0131"}),(0,er.jsxs)("div",{className:"mt-1 relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Bl,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:v.confirmPassword,onChange:e=>N("confirmPassword",e.target.value),className:"appearance-none block w-full pl-10 pr-10 py-3 border rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm "+(v.confirmPassword&&v.password!==v.confirmPassword?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,er.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:v.confirmPassword&&(v.password===v.confirmPassword?(0,er.jsx)(Hl,{className:"h-5 w-5 text-green-400"}):(0,er.jsx)(Gl,{className:"h-5 w-5 text-red-400"}))})]}),v.confirmPassword&&v.password!==v.confirmPassword&&(0,er.jsx)("div",{className:"mt-2 text-sm text-red-600",children:"\u015eifreler e\u015fle\u015fmiyor"})]}),f&&h.length>0&&(0,er.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[(0,er.jsxs)("div",{className:"flex items-center mb-3",children:[(0,er.jsx)(ui,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,er.jsx)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"AI \xd6nerileri"})]}),(0,er.jsx)("ul",{className:"space-y-2",children:h.slice(0,3).map((e,t)=>(0,er.jsxs)("li",{className:"flex items-start text-sm text-blue-800 dark:text-blue-200",children:[(0,er.jsx)(nl,{className:"h-4 w-4 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),e]},t))}),(0,er.jsx)("button",{type:"button",onClick:()=>p(!1),className:"mt-3 text-xs text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"\xd6nerileri gizle"})]}),(0,er.jsx)("div",{children:(0,er.jsx)("button",{type:"submit",disabled:i||!a&&!g.isStrong,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 "+(i||!a&&!g.isStrong?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transform hover:scale-105"),children:i?(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?"Giri\u015f yap\u0131l\u0131yor...":"Hesap olu\u015fturuluyor..."]}):(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)("span",{children:a?"Giri\u015f Yap":"Hesap Olu\u015ftur"}),(0,er.jsx)(ol,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})}),(0,er.jsx)("div",{className:"text-center",children:(0,er.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)(Rl,{className:"h-3 w-3 mr-1"}),(0,er.jsx)("span",{children:"G\xfcvenli"})]}),(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)(tl,{className:"h-3 w-3 mr-1"}),(0,er.jsx)("span",{children:"AI Destekli"})]}),(0,er.jsxs)("div",{className:"flex items-center",children:[(0,er.jsx)(Ci,{className:"h-3 w-3 mr-1"}),(0,er.jsx)("span",{children:"Ak\u0131ll\u0131"})]})]})})]})})})]})},Yl=()=>{const e=ne(),[t]=mt(),{user:r}=Qs(),[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)([]),[h,m]=(0,n.useState)([]),[f,p]=(0,n.useState)([]),[g,y]=(0,n.useState)({}),[b,x]=(0,n.useState)([]),[v,k]=(0,n.useState)([]),[w,j]=(0,n.useState)(null),[_,N]=(0,n.useState)(!1),[S,E]=(0,n.useState)({type:"expense",amount:0,category_id:"",account_id:"",description:"",date:(new Date).toISOString().split("T")[0],payment_method:"",vendor:"",installments:1,from_account_id:"",to_account_id:""}),[C,T]=(0,n.useState)(!1),[P,A]=(0,n.useState)([]),[O,z]=(0,n.useState)([]),[R,L]=(0,n.useState)(""),[D,I]=(0,n.useState)(!1),[$,M]=(0,n.useState)(!1),F=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=t.get("type");console.log("\ud83d\udd0d AIAddTransaction - URL type parametresi:",e),e&&["income","expense","transfer"].includes(e)&&(E(t=>({...t,type:e})),console.log("\u2705 Form type g\xfcncellendi:",e))},[t]),(0,n.useEffect)(()=>{r&&(B(),q(),H())},[r]),(0,n.useEffect)(()=>{w&&r&&(console.log("\ud83d\udd04 Ana kategori de\u011fi\u015fti, alt kategoriler y\xfckleniyor:",w),U(r.id,w))},[w,r]),(0,n.useEffect)(()=>(F.current&&clearTimeout(F.current),S.description.length>2&&(F.current=setTimeout(()=>{G()},500)),()=>{F.current&&clearTimeout(F.current)}),[S.description]),(0,n.useEffect)(()=>{w&&r&&(console.log("\ud83d\udd04 Ana kategori de\u011fi\u015fti, alt kategoriler y\xfckleniyor:",w),U(r.id,w))},[w,r]);const B=async()=>{if(r)try{console.log("\ud83d\udd04 Kategoriler y\xfckleniyor...");const{data:e,error:t}=await Ys.from("spendme_categories").select("*").eq("user_id",r.id).order("name",{ascending:!0});if(t)return console.error("\u274c Supabase kategori hatas\u0131:",t),void en.error("Kategoriler y\xfcklenirken hata olu\u015ftu");console.log("\ud83d\udcca Kategori say\u0131s\u0131:",(null===e||void 0===e?void 0:e.length)||0);const n=await Jo.getMainCategories(r.id);console.log("\u2705 Ana kategoriler:",n),x(n),m(e||[]),n.length>0&&!w&&(j(n[0].id),await U(r.id,n[0].id))}catch(e){console.error("\u274c Kategori y\xfckleme hatas\u0131:",e),en.error("Kategoriler y\xfcklenirken hata olu\u015ftu")}},U=async(e,t)=>{try{const r=await Jo.getSubcategories(e,t);k(r)}catch(r){console.error("\u274c Alt kategori y\xfckleme hatas\u0131:",r),en.error("Alt kategoriler y\xfcklenirken hata olu\u015ftu")}},q=async()=>{try{if(console.log("\ud83c\udfe6 Hesaplar y\xfckleniyor... User ID:",null===r||void 0===r?void 0:r.id),null===r||void 0===r||!r.id)return void console.log("\u274c User ID yok");const{data:e,error:t}=await Ys.from("spendme_accounts").select("*").eq("user_id",null===r||void 0===r?void 0:r.id).order("name");if(t)throw console.error("\u274c Hesap y\xfckleme hatas\u0131:",t),t;console.log("\ud83d\udd0d Supabase'den \xe7ekilen hesaplar:",e),console.log("\ud83d\udcca Hesap say\u0131s\u0131:",(null===e||void 0===e?void 0:e.length)||0);const n=(null===e||void 0===e?void 0:e.reduce((e,t)=>{const r=t.type||"other";return e[r]||(e[r]=[]),e[r].push(t),e},{}))||{};console.log("\ud83d\udccb Grupland\u0131r\u0131lm\u0131\u015f hesaplar:",n),p(e||[]),y(n)}catch(e){console.error("Error loading accounts:",e)}},H=async()=>{try{const{data:e,error:t}=await Ys.from("spendme_transactions").select("*").eq("user_id",null===r||void 0===r?void 0:r.id).order("created_at",{ascending:!1}).limit(5);if(t)throw t;A(e||[])}catch(e){console.error("Error loading recent transactions:",e)}},G=async()=>{if(S.description&&!(S.description.length<3)){o(!0);try{let t=[];if(al.isConfigured())try{t=await al.getDescriptionSuggestions(S.description,S.type)}catch(e){console.error("Gemini error, falling back to local AI:",e)}if(0===t.length){const e=S.description.toLowerCase();"expense"===S.type&&(e.includes("market")||e.includes("s\xfcper")?(t.push("Market al\u0131\u015fveri\u015fi"),t.push("G\u0131da al\u0131\u015fveri\u015fi")):e.includes("benzin")||e.includes("yak\u0131t")?(t.push("Benzin al\u0131m\u0131"),t.push("Yak\u0131t gideri")):e.includes("fatura")||e.includes("elektrik")?(t.push("Elektrik faturas\u0131"),t.push("Fatura \xf6demesi")):(e.includes("yemek")||e.includes("restoran"))&&(t.push("Restoran yeme\u011fi"),t.push("D\u0131\u015far\u0131da yemek"))),"income"===S.type&&(e.includes("maa\u015f")||e.includes("salary")?(t.push("Maa\u015f \xf6demesi"),t.push("Ayl\u0131k gelir")):(e.includes("ek")||e.includes("bonus"))&&(t.push("Ek gelir"),t.push("Bonus \xf6demesi")))}t.length>0&&(d(t),c(!0))}catch(t){console.error("AI suggestions error:",t)}finally{o(!1)}}},K=async(e,t,r)=>{console.log("\ud83d\udd04 Yerel ayr\u0131\u015ft\u0131rma ba\u015flat\u0131l\u0131yor..."),console.log("\ud83d\udcdd Input text:",e),console.log("\ud83c\udfe6 Mevcut hesaplar:",r.map(e=>({id:e.id,name:e.name,type:e.type}))),console.log("\ud83d\udcca Mevcut kategoriler:",t.map(e=>({id:e.id,name:e.name,type:e.type})));let n=null;const a=e=>{const t=[/(\d+(?:[.,]\d+)?)\s*(?:tl|lira|\u20ba)/i];for(const r of t){const t=e.match(r);if(t){const e=parseFloat(t[1].replace(",","."));if(e>0)return e}}return 0},s=e=>{const t=[/(k\xf6fteci\s+\w+)/i,/(d\xf6nerci\s+\w+)/i,/(pizzac\u0131\s+\w+)/i,/(burgerci\s+\w+)/i,/(kebap\xe7\u0131\s+\w+)/i,/(\xe7i\u011fk\xf6fteci\s+\w+)/i,/(mant\u0131c\u0131\s+\w+)/i,/(lahmacuncu\s+\w+)/i,/(b\xf6rek\xe7i\s+\w+)/i,/(simit\xe7i\s+\w+)/i,/(restoran\s+\w+)/i,/(cafe\s+\w+)/i,/(migros|a101|bim|carrefour|sok|\u015fok)/i,/(mc\s*donalds|burger\s*king|kfc)/i,/(starbucks|gloria\s*jeans)/i,/(dominos|pizza\s*hut)/i,/(subway|wendys)/i,/(t\xfcrkiye\s+finans|kuveyt\s+t\xfcrk|enpara|garanti|i\u015f\s+bankas\u0131|akbank|yap\u0131\s+kredi)/i];for(const n of t){const t=e.match(n);if(t)return t[1]}const r=e.split(" ").filter(e=>!e.match(/\d/)&&!e.match(/tl|lira|\u20ba/i)&&!e.match(/nakit|kredi|kart|atm|\xe7ektim|g\xf6nderdim/i)&&e.length>2);return r.length>=2?`${r[0]} ${r[1]}`:1===r.length?r[0]:""};if(["\xe7ektim","para \xe7ektim","atm","atm'den","transfer","g\xf6nderdim","kredi kart\u0131 \xf6demesi","kart \xf6demesi"].some(t=>e.toLowerCase().includes(t))){console.log("\ud83d\udd04 Transfer i\u015flemi tespit edildi...");const t=V(e,r),s=a(e);return n={type:"transfer",amount:s,description:e,date:J(e)||(new Date).toISOString().split("T")[0],from_account_id:t.fromAccountId,to_account_id:t.toAccountId,category_id:"",account_id:t.fromAccountId,vendor:"",summary:`Transfer: ${s} TL`},console.log("\ud83d\udd04 Yerel transfer i\u015flemi ayr\u0131\u015ft\u0131r\u0131ld\u0131:",n),n}if(["k\u0131yma","k\xf6fte","d\xf6ner","hamburger","pizza","sucuk","past\u0131rma","salam","sosis","tavuk","bal\u0131k","et","pirzola","bonfile","yemek","yemek sipari\u015fi","restoran","cafe","kahve","\xe7ay","tatl\u0131","dondurma","\xe7orba","salata","pilav","makarna","mant\u0131","lahmacun","sebze","meyve","ekmek","s\xfct","peynir","yo\u011furt","yumurta","zeytin","bal","re\xe7el","\xe7ikolata","bisk\xfcvi","cips","f\u0131nd\u0131k","f\u0131st\u0131k","su","meyve suyu","kola","fanta","sprite","ayran","\u015falgam","limonata","ice tea","enerji i\xe7ece\u011fi","k\xf6fteci","d\xf6nerci","pizzac\u0131","burgerci","kebap\xe7\u0131","\xe7i\u011fk\xf6fteci","mant\u0131c\u0131","lahmacuncu","b\xf6rek\xe7i","simit\xe7i"].some(t=>e.toLowerCase().includes(t))){var i,o;console.log("\ud83c\udf7d\ufe0f Yemek harcamas\u0131 tespit edildi, yerel ayr\u0131\u015ft\u0131rma yap\u0131l\u0131yor...");const l=a(e),c=s(e),u=["k\u0131yma","et","pirzola","bonfile","sucuk","past\u0131rma","salam","sosis"].some(t=>e.toLowerCase().includes(t));let d;if(u&&(d=t.find(e=>e.name.toLowerCase().includes("kasap")||e.name.toLowerCase().includes("\u015fark\xfcteri")),console.log("\ud83e\udd69 Et \xfcr\xfcn\xfc tespit edildi, kasap kategorisi aran\u0131yor...")),!d){if(["yemek yedik","k\xf6fteci","restoran","lokanta","d\xf6nerci","pizzac\u0131","burgerci","kebap\xe7\u0131"].some(t=>e.toLowerCase().includes(t))&&(d=t.find(e=>e.name.toLowerCase().includes("restoran")||e.name.toLowerCase().includes("lokanta")),console.log("\ud83c\udf7d\ufe0f Restoran harcamas\u0131 tespit edildi, restoran kategorisi aran\u0131yor...")),!d){["cafe","kahve","\xe7ay","tatl\u0131","kurabiye","b\xf6rek"].some(t=>e.toLowerCase().includes(t))&&(d=t.find(e=>e.name.toLowerCase().includes("cafe")||e.name.toLowerCase().includes("kahve")),console.log("\u2615 Cafe harcamas\u0131 tespit edildi, cafe kategorisi aran\u0131yor..."))}d||(d=t.find(e=>e.name.toLowerCase().includes("yemek")||e.name.toLowerCase().includes("market")||e.name.toLowerCase().includes("g\u0131da")||e.name.toLowerCase().includes("fast food")))}let h=null;const m=e.toLowerCase(),f=["kuveytt\xfcrk","garanti","i\u015fbank","akbank","yap\u0131kredi","denizbank","enpara"].find(e=>m.includes(e));if(f&&(h=r.find(e=>(e.name.toLowerCase().includes(f)||"string"===typeof e.description&&e.description.toLowerCase().includes(f))&&(e.type.toLowerCase().includes("credit")||e.name.toLowerCase().includes("kart")||e.name.toLowerCase().includes("kredi"))),h&&console.log(`\ud83c\udfe6 Marka \xf6ncelikli kredi kart\u0131 bulundu: ${f}`)),!h){["kredi kart\u0131","kart"].some(e=>m.includes(e))&&(h=r.find(e=>e.type.toLowerCase().includes("credit")||e.name.toLowerCase().includes("kart")||e.name.toLowerCase().includes("kredi")),h&&console.log("\ud83d\udcb3 Genel kredi kart\u0131 hesab\u0131 bulundu."))}if(!h){["nakit","cash","c\xfczdan","para"].some(e=>m.includes(e))&&(h=r.find(e=>e.name.toLowerCase().includes("nakit")||e.name.toLowerCase().includes("cash")||e.type.toLowerCase().includes("cash")||e.name.toLowerCase().includes("c\xfczdan")),h&&console.log("\ud83d\udcb0 Nakit hesab\u0131 bulundu."))}return h||(h=r.length>0?r[0]:null,console.log("\ud83d\udd04 Varsay\u0131lan hesap kullan\u0131l\u0131yor:",h)),n={type:"expense",amount:l,description:e,date:J(e)||(new Date).toISOString().split("T")[0],category_id:(null===(i=d)||void 0===i?void 0:i.id)||"",account_id:(null===(o=h)||void 0===o?void 0:o.id)||"",vendor:c,summary:`${c?c+" - ":""}${l} TL ${u?"et \xfcr\xfcn\xfc":"yemek"} harcamas\u0131`},console.log("\ud83d\udd04 Yerel yemek harcamas\u0131 ayr\u0131\u015ft\u0131r\u0131ld\u0131:",n),n}if(["maa\u015f","gelir","ald\u0131m","kazand\u0131m","bonus","prim","ek gelir","kira geliri","yat\u0131r\u0131m geliri","dan\u0131\u015fmanl\u0131k"].some(t=>e.toLowerCase().includes(t))){console.log("\ud83d\udcb0 Gelir i\u015flemi tespit edildi...");const i=a(e),o=s(e),l=t.find(e=>"income"===e.type),c=r.length>0?r[0]:null;return n={type:"income",amount:i,description:e,date:J(e)||(new Date).toISOString().split("T")[0],category_id:(null===l||void 0===l?void 0:l.id)||"",account_id:(null===c||void 0===c?void 0:c.id)||"",vendor:o,summary:`${o?o+" - ":""}${i} TL gelir`},console.log("\ud83d\udd04 Yerel gelir i\u015flemi ayr\u0131\u015ft\u0131r\u0131ld\u0131:",n),n}if(["giyim","k\u0131yafet","ti\u015f\xf6rt","pantolon","elbise","g\xf6mlek","ceket","mont","kaban","h\u0131rka","kazak","ayakkab\u0131","sandalet","bot","spor ayakkab\u0131","topuklu","i\xe7 \xe7ama\u015f\u0131r\u0131","pijama","spor k\u0131yafeti","\xe7anta","c\xfczdan","kemer","\u015fal","\u015fapka","eldiven","kravat","y\xfcz\xfck","kolye","k\xfcpe","bilezik","saat"].some(t=>e.toLowerCase().includes(t))){console.log("\ud83d\udc55 Giyim harcamas\u0131 tespit edildi...");const i=a(e),o=s(e),l=t.find(e=>e.name.toLowerCase().includes("giyim")||e.name.toLowerCase().includes("al\u0131\u015fveri\u015f")),c=r.length>0?r[0]:null;return n={type:"expense",amount:i,description:e,date:J(e)||(new Date).toISOString().split("T")[0],category_id:(null===l||void 0===l?void 0:l.id)||"",account_id:(null===c||void 0===c?void 0:c.id)||"",vendor:o,summary:`${o?o+" - ":""}${i} TL giyim harcamas\u0131`},console.log("\ud83d\udd04 Yerel giyim harcamas\u0131 ayr\u0131\u015ft\u0131r\u0131ld\u0131:",n),n}if(["al\u0131\u015fveri\u015f","harcama","\xf6deme","fatura","market","ula\u015f\u0131m","benzin","yak\u0131t","sa\u011fl\u0131k","e\u011fitim","e\u011flence","konut","kira","elektrik","su","do\u011falgaz","internet","telefon","sigorta","otopark"].some(t=>e.toLowerCase().includes(t))){console.log("\ud83d\udcb8 Genel gider i\u015flemi tespit edildi...");const i=a(e),o=s(e),l=t.find(e=>"expense"===e.type),c=r.length>0?r[0]:null;return n={type:"expense",amount:i,description:e,date:J(e)||(new Date).toISOString().split("T")[0],category_id:(null===l||void 0===l?void 0:l.id)||"",account_id:(null===c||void 0===c?void 0:c.id)||"",vendor:o,summary:`${o?o+" - ":""}${i} TL harcama`},console.log("\ud83d\udd04 Yerel genel gider i\u015flemi ayr\u0131\u015ft\u0131r\u0131ld\u0131:",n),n}const l=a(e);if(l>0){console.log("\ud83d\udcb0 Tutar bulundu, genel harcama olarak i\u015faretleniyor...");const a=t.find(e=>"expense"===e.type),i=r.length>0?r[0]:null,o=s(e);return n={type:"expense",amount:l,description:e,date:J(e)||(new Date).toISOString().split("T")[0],category_id:(null===a||void 0===a?void 0:a.id)||"",account_id:(null===i||void 0===i?void 0:i.id)||"",vendor:o,summary:`${o?o+" - ":""}${l} TL genel harcama`},console.log("\ud83d\udd04 Genel harcama ayr\u0131\u015ft\u0131r\u0131ld\u0131:",n),n}return console.log("\u274c Yerel ayr\u0131\u015ft\u0131rma ba\u015far\u0131s\u0131z oldu."),null},W=(e,t)=>{E("amount"===e?r=>({...r,[e]:t}):r=>({...r,[e]:t})),"type"===e&&E("transfer"===t?e=>({...e,category_id:"",account_id:"",from_account_id:"",to_account_id:""}):e=>({...e,from_account_id:"",to_account_id:""})),"account_id"===e&&t&&(e=>{console.log("\ud83c\udfe6 Hesap se\xe7imi ba\u015flat\u0131ld\u0131:",e);const t=f.find(t=>t.id===e);let r="",n=!1;if(console.log("\ud83d\udccb Se\xe7ilen hesap:",t),t)switch(t.type){case"credit_card":r="kredi kart\u0131",n=!0,console.log("\ud83d\udcb3 Kredi kart\u0131 se\xe7ildi - taksit alan\u0131 a\xe7\u0131lacak");break;case"bank":r="banka",console.log("\ud83c\udfdb\ufe0f Banka hesab\u0131 se\xe7ildi");break;case"cash":r="nakit",console.log("\ud83d\udcb5 Nakit hesab\u0131 se\xe7ildi");break;case"wallet":r="dijital",console.log("\ud83d\udcf1 Dijital c\xfczdan se\xe7ildi");break;default:r="di\u011fer",console.log("\u2753 Di\u011fer hesap tipi se\xe7ildi:",t.type)}console.log("\ud83d\udd27 Belirlenen \xf6deme y\xf6ntemi:",r),console.log("\ud83d\udcca Taksit alan\u0131 g\xf6sterilecek mi:",n),E(t=>({...t,account_id:e,payment_method:r})),n?(M(!0),console.log("\u2705 Taksit alan\u0131 g\xf6sterildi")):(M(!1),E(e=>({...e,installments:1})),console.log("\u274c Taksit alan\u0131 gizlendi, taksit say\u0131s\u0131 1 olarak ayarland\u0131"))})(t)},Y=(e,t,r)=>{const n=e.toLowerCase();let a=r.find(e=>e.name.toLowerCase()===n&&e.type===t&&e.parent_id);if(a)return a;if(a=r.find(e=>e.name.toLowerCase().includes(n)&&e.type===t&&e.parent_id),a)return a;if(a=r.find(e=>e.name.toLowerCase()===n&&e.type===t&&!e.parent_id),a)return a;if(a=r.find(e=>e.name.toLowerCase().includes(n)&&e.type===t&&!e.parent_id),a)return a;const s={market:"Market","al\u0131\u015fveri\u015f":"Market","s\xfcpermarket":"Market","g\u0131da":"Market","k\u0131yma":"Kasap",et:"Kasap",tavuk:"Kasap","bal\u0131k":"Kasap",sucuk:"Kasap","past\u0131rma":"Kasap",sosis:"Kasap",kasap:"Kasap","ula\u015f\u0131m":"Ula\u015f\u0131m",transport:"Ula\u015f\u0131m","otob\xfcs":"Ula\u015f\u0131m",metro:"Ula\u015f\u0131m",taksi:"Ula\u015f\u0131m",fatura:"Faturalar",elektrik:"Faturalar",su:"Faturalar",internet:"Faturalar","sa\u011fl\u0131k":"Sa\u011fl\u0131k",hastane:"Sa\u011fl\u0131k",eczane:"Sa\u011fl\u0131k",doktor:"Sa\u011fl\u0131k","e\u011flence":"E\u011flence",sinema:"E\u011flence",restoran:"E\u011flence",kafe:"E\u011flence","ma\u011faza":"E\u011flence","maa\u015f":"Maa\u015f",gelir:"Maa\u015f","ek gelir":"Ek Gelir",bonus:"Ek Gelir",prim:"Ek Gelir",giyim:"Giyim","k\u0131yafet":"Giyim","erkek giyim":"Erkek Giyim","erkek k\u0131yafet":"Erkek Giyim","g\xf6mlek":"Erkek Giyim",pantolon:"Erkek Giyim",ceket:"Erkek Giyim","kad\u0131n giyim":"Kad\u0131n Giyim","kad\u0131n k\u0131yafet":"Kad\u0131n Giyim",elbise:"Kad\u0131n Giyim",bluz:"Kad\u0131n Giyim",etek:"Kad\u0131n Giyim","\xe7ocuk giyim":"\xc7ocuk Giyim","bebek k\u0131yafet":"\xc7ocuk Giyim","\xe7ocuk elbise":"\xc7ocuk Giyim","ayakkab\u0131":"Ayakkab\u0131",ayak:"Ayakkab\u0131",sandalet:"Ayakkab\u0131",topuklu:"Ayakkab\u0131","spor ayakkab\u0131":"Ayakkab\u0131",aksesuar:"Aksesuar",kolye:"Aksesuar",bilezik:"Aksesuar",saat:"Aksesuar","g\xf6zl\xfck":"Aksesuar","i\xe7 giyim":"\u0130\xe7 Giyim","i\xe7 \xe7ama\u015f\u0131r":"\u0130\xe7 Giyim",pijama:"\u0130\xe7 Giyim","spor giyim":"Spor Giyim","spor k\u0131yafet":"Spor Giyim","e\u015fofman":"Spor Giyim","tak\u0131":"Tak\u0131 & M\xfccevher","m\xfccevher":"Tak\u0131 & M\xfccevher","y\xfcz\xfck":"Tak\u0131 & M\xfccevher","k\xfcpe":"Tak\u0131 & M\xfccevher",kozmetik:"Kozmetik & Bak\u0131m",makyaj:"Kozmetik & Bak\u0131m","parf\xfcm":"Kozmetik & Bak\u0131m","bak\u0131m":"Kozmetik & Bak\u0131m","\xe7anta":"\xc7anta & C\xfczdan","c\xfczdan":"\xc7anta & C\xfczdan","s\u0131rt \xe7antas\u0131":"\xc7anta & C\xfczdan"}[n];if(s){let e=r.find(e=>e.name===s&&e.type===t&&e.parent_id);if(e)return e;if(e=r.find(e=>e.name===s&&e.type===t&&!e.parent_id),e)return e}const i=r.find(e=>"Di\u011fer"===e.name&&e.type===t&&e.parent_id);return i||r.find(e=>"Di\u011fer"===e.name&&e.type===t&&!e.parent_id)},V=(e,t)=>{const r=e.toLowerCase();let n="",a="";if(r.includes("\xe7ektim")||r.includes("para \xe7ektim")||r.includes("atm")||r.includes("atm'den")){const e=t.find(e=>"bank"===e.type||e.name.toLowerCase().includes("banka")||e.name.toLowerCase().includes("bank")||r.includes(e.name.toLowerCase())),s=t.find(e=>"cash"===e.type||e.name.toLowerCase().includes("nakit")||e.name.toLowerCase().includes("c\xfczdan")||e.name.toLowerCase().includes("cash"));e&&(n=e.id),s&&(a=s.id)}else if(r.includes("kredi kart\u0131 \xf6demesi")||r.includes("kart \xf6demesi")||r.includes("kredi kart\u0131")){const e=t.find(e=>"bank"===e.type||e.name.toLowerCase().includes("banka")||e.name.toLowerCase().includes("bank")),r=t.find(e=>"credit"===e.type||e.name.toLowerCase().includes("kredi")||e.name.toLowerCase().includes("credit"));e&&(n=e.id),r&&(a=r.id)}else(r.includes("transfer")||r.includes("g\xf6nderdim"))&&t.length>=2&&(n=t[0].id,a=t[1].id);return!n&&t.length>0&&(n=t[0].id),!a&&t.length>1&&(a=t[1].id),{fromAccountId:n,toAccountId:a}},Q=(e,t)=>{const r=e.toLowerCase();for(const n of t)if(r.includes(n.name.toLowerCase()))return n;if(r.includes("\xe7ektim")||r.includes("para \xe7ektim")||r.includes("nakit")||r.includes("c\xfczdan")){const e=t.find(e=>"cash"===e.type||e.name.toLowerCase().includes("nakit")||e.name.toLowerCase().includes("c\xfczdan"));if(e)return e}if(r.includes("t\xfcrkiye finans")||r.includes("garanti")||r.includes("i\u015f bankas\u0131")||r.includes("akbank")||r.includes("banka")||r.includes("bank")){const e=t.find(e=>"bank"===e.type||e.name.toLowerCase().includes("banka")||e.name.toLowerCase().includes("bank"));if(e)return e}if(r.includes("kredi kart\u0131")||r.includes("credit card")||r.includes("kart")||r.includes("card")){const e=t.find(e=>"credit"===e.type||e.name.toLowerCase().includes("kredi")||e.name.toLowerCase().includes("credit"));if(e)return e}if(r.includes("atm")||r.includes("atm'den")){const e=t.find(e=>"bank"===e.type||e.name.toLowerCase().includes("banka"));if(e)return e}return t[0]},J=e=>{const t=e.toLowerCase();if(t.includes("bug\xfcn")||t.includes("today"))return(new Date).toISOString().split("T")[0];if(t.includes("d\xfcn")||t.includes("yesterday")){const e=new Date;return e.setDate(e.getDate()-1),e.toISOString().split("T")[0]}if(t.includes("yar\u0131n")||t.includes("tomorrow")){const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}const r=e.match(/(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})/);if(r){const[,e,t,n]=r;return`${n}-${t.padStart(2,"0")}-${e.padStart(2,"0")}`}return null};return(0,er.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,er.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,er.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob"}),(0,er.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob animation-delay-2000"})]}),(0,er.jsxs)("div",{className:"relative max-w-2xl mx-auto p-2 sm:p-4 pt-4 sm:pt-8",children:[(0,er.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("button",{onClick:()=>e("/transactions"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,er.jsx)(ul,{className:"h-5 w-5"})}),(0,er.jsxs)("div",{children:[(0,er.jsxs)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[(0,er.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Destekli"}),(0,er.jsx)("br",{}),"\u0130\u015flem Ekle"]}),(0,er.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ak\u0131ll\u0131 \xf6nerilerle h\u0131zl\u0131 i\u015flem giri\u015fi"})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,er.jsx)(tl,{className:"h-5 w-5"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:"AI Aktif"})]})]}),(0,er.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-4 sm:p-6",children:(0,er.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!S.amount||S.amount<=0)en.error("Ge\xe7erli bir tutar girin");else{if("transfer"===S.type){if(!S.from_account_id)return void en.error("G\xf6nderen hesap se\xe7in");if(!S.to_account_id)return void en.error("Al\u0131c\u0131 hesap se\xe7in");if(S.from_account_id===S.to_account_id)return void en.error("Ayn\u0131 hesaptan ayn\u0131 hesaba transfer yapamazs\u0131n\u0131z")}else{if(!S.category_id)return void en.error("Kategori se\xe7in");if(!S.account_id)return void en.error("Hesap se\xe7in")}s(!0);try{var n,a;if("kredi kart\u0131"===S.payment_method&&S.installments&&S.installments>1){console.log("\ud83d\ude80 Taksitli i\u015flem ba\u015flat\u0131l\u0131yor:",{toplamTutar:S.amount,taksitSayisi:S.installments,baslangicTarihi:S.date,odemeYontemi:S.payment_method,kategori:S.category_id,hesap:S.account_id,aciklama:S.description||"A\xe7\u0131klama yok"}),console.log("\ud83d\udccb TransactionService.createInstallmentTransaction \xe7a\u011fr\u0131l\u0131yor...");try{const t=await dl.createInstallmentTransaction(r.id,{type:S.type,amount:S.amount,description:S.description||"A\xe7\u0131klama yok",date:S.date,payment_method:S.payment_method,vendor:S.vendor,installments:S.installments,category_id:S.category_id,account_id:S.account_id});return console.log("\u2705 Taksitli i\u015flem ba\u015far\u0131yla olu\u015fturuldu! Group ID:",t),en.success("Taksitli i\u015flem ba\u015far\u0131yla eklendi!"),void e("/transactions")}catch(i){throw console.error("\u274c TransactionService.createInstallmentTransaction hatas\u0131:",i),i}}const t={user_id:null===r||void 0===r?void 0:r.id,type:S.type,amount:S.amount,description:S.description||("transfer"===S.type?`Transfer: ${null===(n=f.find(e=>e.id===S.from_account_id))||void 0===n?void 0:n.name} \u2192 ${null===(a=f.find(e=>e.id===S.to_account_id))||void 0===a?void 0:a.name}`:"A\xe7\u0131klama yok"),date:S.date,payment_method:S.payment_method,vendor:S.vendor,installments:S.installments};"transfer"===S.type?Object.assign(t,{from_account_id:S.from_account_id,to_account_id:S.to_account_id,account_id:S.from_account_id,category_id:null}):Object.assign(t,{category_id:S.category_id,account_id:S.account_id});const{error:s}=await Ys.from("spendme_transactions").insert(t);if(s)throw s;const o="transfer"===S.type?"Transfer ba\u015far\u0131yla eklendi!":"income"===S.type?"Gelir ba\u015far\u0131yla eklendi!":"Gider ba\u015far\u0131yla eklendi!";en.success(o),e("/transactions")}catch(i){console.error("\u274c \u0130\u015flem ekleme hatas\u0131:",i),console.error("\ud83d\udccb Hata detaylar\u0131:",{message:i.message,stack:i.stack,formData:S});let e="\u0130\u015flem eklenirken hata olu\u015ftu";i.message&&(i.message.includes("installment")?e="Taksitli i\u015flem olu\u015fturulurken hata olu\u015ftu":i.message.includes("database")&&(e="Veritaban\u0131 hatas\u0131 olu\u015ftu")),en.error(e)}finally{s(!1)}}},className:"space-y-4 sm:space-y-6",children:[(0,er.jsxs)("div",{children:[(0,er.jsxs)("button",{type:"button",onClick:()=>I(!D),className:"w-full p-3 border-2 border-dashed border-blue-300 dark:border-blue-600 rounded-lg text-blue-600 dark:text-blue-400 hover:border-blue-400 dark:hover:border-blue-500 transition-colors flex items-center justify-center space-x-2 mb-4",children:[(0,er.jsx)(tl,{className:"h-4 w-4"}),(0,er.jsx)("span",{children:"Do\u011fal Dil ile \u0130\u015flem Ekle"})]}),D&&(0,er.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:[(0,er.jsxs)("div",{className:"flex items-center mb-3",children:[(0,er.jsx)(ui,{className:"h-4 w-4 text-blue-600 mr-2"}),(0,er.jsx)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Gemini AI ile Do\u011fal Dil Ayr\u0131\u015ft\u0131rma"})]}),(0,er.jsxs)("div",{className:"space-y-3",children:[(0,er.jsx)("input",{type:"text",value:R,onChange:e=>L(e.target.value),className:"block w-full px-4 py-3 border border-blue-300 dark:border-blue-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"\xd6rnek: Bug\xfcn marketten 150 TL al\u0131\u015fveri\u015f yapt\u0131m"}),(0,er.jsxs)("div",{className:"flex space-x-2",children:[(0,er.jsx)("button",{type:"button",onClick:async()=>{if(R.trim()){console.log("\ud83d\ude80 Do\u011fal dil ayr\u0131\u015ft\u0131rma ba\u015flat\u0131l\u0131yor..."),console.log("\ud83d\udcdd Input text:",R),console.log("\ud83d\udd27 Gemini configured:",al.isConfigured()),console.log("\ud83d\udcca Mevcut kategoriler:",h.map(e=>({id:e.id,name:e.name,type:e.type}))),console.log("\ud83c\udfe6 Mevcut hesaplar:",f.map(e=>({id:e.id,name:e.name,type:e.type}))),o(!0);try{if(al.isConfigured()){if(console.log("\u2705 Gemini AI yap\u0131land\u0131r\u0131lm\u0131\u015f, API \xe7a\u011fr\u0131s\u0131 yap\u0131l\u0131yor..."),0===h.length||0===f.length)return console.log("\u23f3 Kategoriler ve hesaplar y\xfckleniyor, bekleniyor..."),void en.error("Veriler y\xfckleniyor, l\xfctfen bekleyin...");const t=R.toLowerCase(),n=t.includes("transfer")||t.includes("\xe7ektim")||t.includes("para \xe7ektim")||t.includes("atm")||t.includes("kredi kart\u0131 \xf6demesi")||t.includes("g\xf6nderdim"),a=t.includes("maa\u015f")||t.includes("gelir")||t.includes("geldi")||t.includes("ald\u0131m")||t.includes("kazand\u0131m")||t.includes("bonus")||t.includes("prim")||t.includes("ek gelir")||t.includes("kira geliri")||t.includes("yat\u0131r\u0131m geliri"),s=t.includes("al\u0131\u015fveri\u015f")||t.includes("harcama")||t.includes("\xf6deme")||t.includes("fatura")||t.includes("market")||t.includes("restoran")||t.includes("yemek")||t.includes("ula\u015f\u0131m")||t.includes("benzin")||t.includes("yak\u0131t")||t.includes("sa\u011fl\u0131k")||t.includes("e\u011fitim")||t.includes("giyim")||t.includes("e\u011flence");let i;try{if(n)console.log("\ud83d\udd04 Transfer i\u015flemi tespit edildi, transfer AI fonksiyonu \xe7a\u011fr\u0131l\u0131yor..."),i=await al.parseTransfer(R,f);else if(a){console.log("\ud83d\udd04 Gelir i\u015flemi tespit edildi, gelir AI fonksiyonu \xe7a\u011fr\u0131l\u0131yor...");const e=`Bu bir gelir i\u015flemidir: ${R}`;i=await al.parseIncomeExpense(e,h,f)}else if(s){console.log("\ud83d\udd04 Gider i\u015flemi tespit edildi, gider AI fonksiyonu \xe7a\u011fr\u0131l\u0131yor...");const e=`Bu bir gider i\u015flemidir: ${R}`;i=await al.parseIncomeExpense(e,h,f)}else console.log("\ud83d\udd04 \u0130\u015flem t\xfcr\xfc belirsiz, genel AI fonksiyonu \xe7a\u011fr\u0131l\u0131yor..."),i=await al.parseIncomeExpense(R,h,f)}catch(e){if(console.error("\u274c AI servisi hatas\u0131:",e),console.log("\ud83d\udd04 AI hatas\u0131, yerel ayr\u0131\u015ft\u0131rma deneniyor..."),i=await K(R,h,f),!i)return void en.error("AI servisi ve yerel ayr\u0131\u015ft\u0131rma ba\u015far\u0131s\u0131z oldu. L\xfctfen manuel giri\u015f yap\u0131n.")}if(console.log("\ud83c\udfaf Ayr\u0131\u015ft\u0131rma sonucu:",i),!i)throw new Error("Ayr\u0131\u015ft\u0131rma sonucu d\xf6nd\xfcrmedi");if("transfer"===i.type){console.log("\ud83d\udd04 Transfer i\u015flemi i\u015fleniyor...");const e={type:"transfer",amount:i.amount,description:i.description,date:i.date,from_account_id:i.from_account_id,to_account_id:i.to_account_id,category_id:"",account_id:i.account_id};return E(t=>({...t,...e})),i.summary&&en.success(`Transfer \xf6zeti: ${i.summary}`,{duration:5e3}),en.success("Transfer i\u015flemi ba\u015far\u0131yla ayr\u0131\u015ft\u0131r\u0131ld\u0131!"),L(""),void I(!1)}console.log("\ud83d\udd04 Gelir/Gider i\u015flemi i\u015fleniyor...");const o=h.find(e=>e.id===i.category_id);if(console.log("\ud83c\udff7\ufe0f ID ile bulunan kategori:",o),!o){console.warn("\u26a0\ufe0f Kategori ID bulunamad\u0131:",i.category_id),console.log("\ud83d\udccb Mevcut kategori ID'leri:",h.map(e=>e.id));const e=Y(R,i.type,h);if(!e)return void en.error("Kategori bulunamad\u0131, manuel se\xe7im yap\u0131n");console.log("\ud83d\udd04 Yerel kategori e\u015fle\u015ftirmesi:",e),i.category_id=e.id}const l=h.find(e=>e.id===i.category_id);console.log("\ud83c\udff7\ufe0f Final kategori e\u015fle\u015ftirmesi:",l);let c=null,u=i.category_id;if(l){if(l.parent_id?(c=l.parent_id,u=i.category_id,console.log("\ud83c\udff7\ufe0f Alt kategori tespit edildi, ana kategori ID:",c)):(c=l.id,u=i.category_id,console.log("\ud83c\udff7\ufe0f Ana kategori tespit edildi, ID:",c)),console.log("\ud83c\udff7\ufe0f Ana kategori ID:",c),console.log("\ud83c\udff7\ufe0f Se\xe7ilen kategori ID:",u),j(c),N(!0),r&&!l.parent_id&&c){console.log("\ud83d\udd04 Alt kategoriler y\xfckleniyor..."),await U(r.id,c);const e=v.filter(e=>e.parent_id===c);if(e.length>0){const t=e[0];console.log("\ud83d\udd04 Varsay\u0131lan alt kategori se\xe7iliyor:",t),u=t.id}}await new Promise(e=>setTimeout(e,100))}else console.warn("\u26a0\ufe0f Kategori bulunamad\u0131, varsay\u0131lan de\u011ferler kullan\u0131l\u0131yor"),u=i.category_id;const d=f.find(e=>e.id===i.account_id);if(console.log("\ud83c\udfe6 ID ile bulunan hesap:",d),!d&&i.account_id){console.warn("\u26a0\ufe0f Hesap ID bulunamad\u0131:",i.account_id),console.log("\ud83d\udccb Mevcut hesap ID'leri:",f.map(e=>e.id));const e=Q(R,f);e?(console.log("\ud83d\udd04 Yerel hesap e\u015fle\u015ftirmesi:",e),i.account_id=e.id):f.length>0&&(console.log("\ud83d\udd04 \u0130lk hesap kullan\u0131l\u0131yor:",f[0]),i.account_id=f[0].id)}const m=J(R)||(new Date).toISOString().split("T")[0];console.log("\ud83d\udcc5 \xc7\u0131kar\u0131lan tarih:",m),console.log("\ud83c\udfea Vendor bilgisi:",i.vendor),console.log("\ud83d\udccb Al\u0131\u015fveri\u015f \xf6zeti:",i.summary);const p={type:i.type,amount:i.amount,description:i.description,date:m,vendor:i.vendor||"",category_id:u,account_id:i.account_id||(f.length>0?f[0].id:"")};console.log("\ud83d\udcdd Gelir/Gider form verisi:",p),E(e=>({...e,...p})),i.summary&&en.success(`Al\u0131\u015fveri\u015f \xf6zeti: ${i.summary}`,{duration:5e3}),console.log("\u2705 Gelir/Gider form g\xfcncellendi"),en.success("Do\u011fal dil i\u015flemi ba\u015far\u0131yla ayr\u0131\u015ft\u0131r\u0131ld\u0131!"),L(""),I(!1)}else{console.error("\u274c Gemini AI yap\u0131land\u0131r\u0131lmam\u0131\u015f"),en.error("Gemini AI yap\u0131land\u0131r\u0131lmam\u0131\u015f, yerel ayr\u0131\u015ft\u0131rma deneniyor...");const e=await K(R,h,f);e?(console.log("\u2705 Yerel ayr\u0131\u015ft\u0131rma ba\u015far\u0131l\u0131:",e),en.success("Yerel ayr\u0131\u015ft\u0131rma ba\u015far\u0131l\u0131!")):en.error("Yerel ayr\u0131\u015ft\u0131rma da ba\u015far\u0131s\u0131z, manuel giri\u015f yap\u0131n")}}catch(t){console.error("\u274c Natural language parsing error:",t),en.error(`Do\u011fal dil ayr\u0131\u015ft\u0131rma hatas\u0131: ${t instanceof Error?t.message:"Bilinmeyen hata"}`)}finally{o(!1)}}},disabled:i||!R.trim(),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?"Ayr\u0131\u015ft\u0131r\u0131l\u0131yor...":"Ayr\u0131\u015ft\u0131r"}),(0,er.jsx)("button",{type:"button",onClick:()=>{L(""),I(!1)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:"\u0130ptal"})]}),(0,er.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:'\xd6rnekler: "Maa\u015f\u0131m geldi 5000 TL", "Benzin ald\u0131m 200 TL", "Restoranda yemek yedim 80 TL"'})]})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"\u0130\u015flem T\xfcr\xfc"}),(0,er.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3",children:[(0,er.jsxs)("button",{type:"button",onClick:()=>W("type","expense"),className:"p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+("expense"===S.type?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-gray-600 hover:border-red-300 dark:hover:border-red-600"),children:[(0,er.jsx)(Ti,{className:"h-5 w-5"}),(0,er.jsx)("span",{className:"font-medium",children:"Gider"})]}),(0,er.jsxs)("button",{type:"button",onClick:()=>W("type","income"),className:"p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+("income"===S.type?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600"),children:[(0,er.jsx)(Ci,{className:"h-5 w-5"}),(0,er.jsx)("span",{className:"font-medium",children:"Gelir"})]}),(0,er.jsxs)("button",{type:"button",onClick:()=>W("type","transfer"),className:"p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+("transfer"===S.type?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[(0,er.jsx)(ol,{className:"h-5 w-5"}),(0,er.jsx)("span",{className:"font-medium",children:"Transfer"})]})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tutar"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)("span",{className:"text-gray-400 text-lg font-medium",children:"\u20ba"})}),(0,er.jsx)("input",{type:"number",step:"0.01",min:"0",value:0===S.amount?"":S.amount,onChange:e=>{const t=e.target.value,r=""===t?0:parseFloat(t);W("amount",r)},className:"block w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-lg font-medium",placeholder:"0.00"})]}),(0,er.jsxs)("div",{className:"mt-3",children:[(0,er.jsxs)("button",{type:"button",onClick:()=>T(!C),className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 flex items-center space-x-1",children:[(0,er.jsx)(ql,{className:"h-4 w-4"}),(0,er.jsx)("span",{children:"H\u0131zl\u0131 tutarlar"})]}),C&&(0,er.jsx)("div",{className:"mt-2 flex flex-wrap gap-1 sm:gap-2",children:[10,20,50,100,200,500,1e3].map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>W("amount",e),className:"px-2 sm:px-3 py-1 text-xs sm:text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e," TL"]},e))})]})]}),"transfer"!==S.type&&(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Kategori"}),(0,er.jsxs)("div",{className:"mb-4",children:[(0,er.jsx)("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Ana Kategoriler"}),(0,er.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:b.filter(e=>e.type===S.type).map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>(async e=>{j(e),N(!0),E(e=>({...e,category_id:""})),r&&await U(r.id,e)})(e.id),className:"p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+(w===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-lg",children:e.icon}),(0,er.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]}),_&&w&&(0,er.jsxs)("div",{className:"mb-4",children:[(0,er.jsx)("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Alt Kategoriler"}),v.length>0?(0,er.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>{return t=e.id,void E(e=>({...e,category_id:t}));var t},className:"p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+(S.category_id===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-lg",children:e.icon}),(0,er.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))}):(0,er.jsxs)("div",{className:"text-center py-4 text-gray-500 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[(0,er.jsx)(ii,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),(0,er.jsx)("p",{className:"text-sm",children:"Bu ana kategoride alt kategori yok"}),(0,er.jsx)("button",{type:"button",onClick:()=>e("/categories"),className:"text-blue-600 hover:text-blue-500 text-xs mt-1",children:"Alt kategori ekle"})]})]}),0===b.filter(e=>e.type===S.type).length&&(0,er.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,er.jsx)(ii,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,er.jsx)("p",{children:"Bu t\xfcrde kategori bulunamad\u0131"}),(0,er.jsx)("button",{type:"button",onClick:()=>e("/categories"),className:"text-blue-600 hover:text-blue-500 text-sm mt-1",children:"Kategori ekle"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"transfer"===S.type?"Hesaplar":"Hesap"}),"transfer"===S.type?(0,er.jsxs)("div",{className:"space-y-4",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"G\xf6nderen Hesap"}),(0,er.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:f.map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>W("from_account_id",e.id),className:"p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+(S.from_account_id===e.id?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-gray-600 hover:border-red-300 dark:hover:border-red-600"),children:[(0,er.jsx)(bl,{className:"h-4 w-4"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]}),(0,er.jsx)("div",{className:"flex justify-center",children:(0,er.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:(0,er.jsx)(ol,{className:"h-4 w-4 text-blue-600"})})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Al\u0131c\u0131 Hesap"}),(0,er.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:f.map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>W("to_account_id",e.id),className:"p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+(S.to_account_id===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600"),children:[(0,er.jsx)(bl,{className:"h-4 w-4"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]})]}):(0,er.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-48 overflow-y-auto",children:Object.entries(g).map(e=>{let[t,r]=e;return(0,er.jsxs)("div",{className:"space-y-2",children:[(0,er.jsx)("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"cash"===t?"Nakit":"credit_card"===t?"Kredi Kart\u0131":"bank"===t?"Banka Hesab\u0131":"wallet"===t?"Dijital C\xfczdan":t}),(0,er.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>W("account_id",e.id),className:"p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 "+(S.account_id===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[(0,er.jsx)(bl,{className:"h-4 w-4"}),(0,er.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]},t)})}),0===f.length&&(0,er.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,er.jsx)(bl,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,er.jsx)("p",{children:"Hesap bulunamad\u0131"}),(0,er.jsx)("button",{type:"button",onClick:()=>e("/accounts"),className:"text-blue-600 hover:text-blue-500 text-sm mt-1",children:"Hesap ekle"})]})]}),$&&(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taksit Say\u0131s\u0131"}),(0,er.jsx)("input",{type:"text",value:S.installments||1,onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");if(""===t)W("installments",1);else{const e=parseInt(t);e>=1&&e<=36&&W("installments",e)}},className:"block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"1"}),(0,er.jsx)("p",{className:"text-xs text-gray-500 mt-1 dark:text-gray-400",children:"Kredi kart\u0131 ile yap\u0131lan i\u015flemlerde taksit se\xe7ene\u011fi kullan\u0131labilir. Her taksit i\xe7in ayr\u0131 kay\u0131t olu\u015fturulur."})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"A\xe7\u0131klama"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("input",{type:"text",value:S.description,onChange:e=>W("description",e.target.value),className:"block w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"\u0130\u015flem a\xe7\u0131klamas\u0131..."}),i&&(0,er.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,er.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]}),l&&u.length>0&&(0,er.jsxs)("div",{className:"mt-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:[(0,er.jsxs)("div",{className:"flex items-center mb-2",children:[(0,er.jsx)(ui,{className:"h-4 w-4 text-blue-600 mr-2"}),(0,er.jsx)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"AI \xd6nerileri"})]}),(0,er.jsx)("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:u.map((e,t)=>(0,er.jsx)("button",{type:"button",onClick:()=>{W("description",e),c(!1)},className:"px-2 sm:px-3 py-1 text-xs sm:text-sm bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full hover:bg-blue-200 dark:hover:bg-blue-700 transition-colors",children:e},t))})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tarih"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,er.jsx)(Ho,{className:"h-5 w-5 text-gray-400"})}),(0,er.jsx)("input",{type:"date",value:S.date,onChange:e=>W("date",e.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsxs)("button",{type:"button",onClick:()=>{const e=[];P.forEach(t=>{t.type===S.type&&t.amount>0&&("transfer"===S.type?e.push({type:"recent",title:t.description,amount:t.amount}):t.category_id&&e.push({type:"recent",title:t.description,amount:t.amount,category_id:t.category_id,account_id:t.account_id}))});[10,20,50,100,200,500,1e3].forEach(t=>{t!==S.amount&&e.push({type:"amount",title:`${t} USD`,amount:t})}),z(e.slice(0,5))},className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 hover:border-blue-300 dark:hover:border-blue-600 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center justify-center space-x-2",children:[(0,er.jsx)(rl,{className:"h-4 w-4"}),(0,er.jsx)("span",{children:"Ak\u0131ll\u0131 \xd6neriler"})]}),O.length>0&&(0,er.jsx)("div",{className:"mt-3 space-y-2",children:O.map((e,t)=>(0,er.jsx)("button",{type:"button",onClick:()=>(e=>{"recent"===e.type?"transfer"===S.type?E(t=>({...t,description:e.title,amount:e.amount})):E(t=>({...t,description:e.title,amount:e.amount,category_id:e.category_id,account_id:e.account_id})):"amount"===e.type&&E(t=>({...t,amount:e.amount}))})(e),className:"w-full p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-left hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsx)("span",{className:"font-medium",children:e.title}),e.amount&&(0,er.jsxs)("span",{className:"text-sm text-gray-500",children:[e.amount," USD"]})]})},t))})]}),(0,er.jsx)("button",{type:"submit",disabled:a,className:"w-full py-4 px-6 rounded-xl font-medium text-white transition-all duration-200 "+(a?"bg-gray-400 cursor-not-allowed":"income"===S.type?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"),children:a?(0,er.jsxs)("div",{className:"flex items-center justify-center",children:[(0,er.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Ekleniyor..."]}):(0,er.jsxs)("div",{className:"flex items-center justify-center",children:[(0,er.jsx)(Ei,{className:"h-5 w-5 mr-2"}),"income"===S.type?"Gelir Ekle":"Gider Ekle"]})})]})})]})]})},Vl=ni("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ql=ni("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Jl=()=>{var e,t;const r=ne(),{user:a}=Qs(),[s,i]=(0,n.useState)({amount:"",fromAccountId:"",toAccountId:"",description:"",date:(new Date).toISOString().slice(0,10)}),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)([]),[d,h]=(0,n.useState)({}),[m,f]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),[y,b]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a&&k()},[a]);const k=async()=>{if(a)try{const{data:e}=await Ys.from("spendme_accounts").select("id, name, type, icon").eq("user_id",a.id);u(e||[]);const t=w(e||[]);h(t)}catch(e){console.error("Error loading accounts:",e),Er.error("Hesaplar y\xfcklenirken hata olu\u015ftu")}},w=e=>{const t={};return e.forEach(e=>{const r=j(e.type);t[r]||(t[r]=[]),t[r].push(e)}),t},j=e=>{switch(e){case"wallet":case"cash":return"C\xfczdan";case"credit_card":return"Kredi Kart\u0131";case"bank":case"savings":return"Banka";default:return"Di\u011fer"}},_=e=>{switch(e){case"C\xfczdan":return"\ud83d\udcb3 C\xfczdan";case"Kredi Kart\u0131":return"\ud83d\udcb3 Kredi Kart\u0131";case"Banka":return"\ud83c\udfe6 Banka";default:return"\ud83d\udcc1 Di\u011fer"}},N=e=>{const t=c.find(t=>t.id===e);return t?t.name:"Bilinmeyen Hesap"};return(0,er.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,er.jsx)("div",{className:"flex items-center justify-between",children:(0,er.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,er.jsx)("button",{onClick:()=>r("/transactions"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,er.jsx)(Vl,{className:"h-5 w-5"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hesap Transferi"}),(0,er.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Hesaplar aras\u0131 para transferi yap\u0131n"})]})]})}),(0,er.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!a)return void Er.error("Kullan\u0131c\u0131 oturumu bulunamad\u0131");if(!s.amount||!s.fromAccountId||!s.toAccountId)return void Er.error("L\xfctfen t\xfcm alanlar\u0131 doldurun");if(s.fromAccountId===s.toAccountId)return void Er.error("Ayn\u0131 hesaptan ayn\u0131 hesaba transfer yapamazs\u0131n\u0131z");const t=parseFloat(s.amount);if(isNaN(t)||t<=0)Er.error("Ge\xe7erli bir tutar girin");else{l(!0);try{const{error:e}=await Ys.from("spendme_transactions").insert({user_id:a.id,type:"transfer",amount:t,from_account_id:s.fromAccountId,to_account_id:s.toAccountId,description:s.description||`Transfer: ${N(s.fromAccountId)} \u2192 ${N(s.toAccountId)}`,date:s.date,category_id:null,account_id:s.fromAccountId});if(e)throw e;Er.success("Transfer i\u015flemi ba\u015far\u0131yla olu\u015fturuldu"),r("/transactions")}catch(n){console.error("Error creating transfer:",n),Er.error("Transfer i\u015flemi olu\u015fturulurken hata olu\u015ftu")}finally{l(!1)}}},className:"card space-y-6",children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transfer Tutar\u0131"}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,er.jsx)("input",{type:"number",step:"0.01",min:"0",value:s.amount,onChange:e=>i(t=>({...t,amount:e.target.value})),placeholder:"0.00",className:"input pl-8",required:!0})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"G\xf6nderen Hesap"}),(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Hesap Gruplar\u0131"}),(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(d).map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>(e=>{f(e),b(!0),i(e=>({...e,fromAccountId:""}))})(e),className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(m===e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[(0,er.jsx)("span",{className:"text-sm",children:_(e).split(" ")[0]}),(0,er.jsx)("span",{className:"font-medium",children:_(e).split(" ").slice(1).join(" ")})]},e))})]}),y&&m&&(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Hesaplar"}),(null===(e=d[m])||void 0===e?void 0:e.length)>0?(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:d[m].map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>{return t=e.id,void i(e=>({...e,fromAccountId:t}));var t},className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(s.fromAccountId===e.id?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-gray-600 hover:border-red-300 dark:hover:border-red-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-sm",children:e.icon}),(0,er.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}):(0,er.jsx)("div",{className:"text-center py-2 text-gray-500 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:(0,er.jsx)("p",{className:"text-xs",children:"Bu grupta hesap yok"})})]})]}),(0,er.jsx)("div",{className:"flex justify-center",children:(0,er.jsx)("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:(0,er.jsx)(ol,{className:"h-6 w-6 text-blue-600"})})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Al\u0131c\u0131 Hesap"}),(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Hesap Gruplar\u0131"}),(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(d).map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>(e=>{g(e),v(!0),i(e=>({...e,toAccountId:""}))})(e),className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(p===e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"),children:[(0,er.jsx)("span",{className:"text-sm",children:_(e).split(" ")[0]}),(0,er.jsx)("span",{className:"font-medium",children:_(e).split(" ").slice(1).join(" ")})]},e))})]}),x&&p&&(0,er.jsxs)("div",{className:"mb-3",children:[(0,er.jsx)("h4",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Hesaplar"}),(null===(t=d[p])||void 0===t?void 0:t.length)>0?(0,er.jsx)("div",{className:"grid grid-cols-2 gap-2",children:d[p].map(e=>(0,er.jsxs)("button",{type:"button",onClick:()=>{return t=e.id,void i(e=>({...e,toAccountId:t}));var t},className:"p-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-xs "+(s.toAccountId===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600"),children:[e.icon&&(0,er.jsx)("span",{className:"text-sm",children:e.icon}),(0,er.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}):(0,er.jsx)("div",{className:"text-center py-2 text-gray-500 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:(0,er.jsx)("p",{className:"text-xs",children:"Bu grupta hesap yok"})})]})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"A\xe7\u0131klama (\u0130ste\u011fe ba\u011fl\u0131)"}),(0,er.jsx)("input",{type:"text",value:s.description,onChange:e=>i(t=>({...t,description:e.target.value})),placeholder:"Transfer a\xe7\u0131klamas\u0131...",className:"input"})]}),(0,er.jsxs)("div",{children:[(0,er.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transfer Tarihi"}),(0,er.jsx)("input",{type:"date",value:s.date,onChange:e=>i(t=>({...t,date:e.target.value})),className:"input",required:!0})]}),(0,er.jsx)("button",{type:"submit",disabled:o||!s.amount||!s.fromAccountId||!s.toAccountId,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(Ql,{className:"h-4 w-4 mr-2 animate-spin"}),"Transfer Olu\u015fturuluyor..."]}):(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(fl,{className:"h-4 w-4 mr-2"}),"Transfer Olu\u015ftur"]})})]})]})},Xl=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!1),s=e=>{t(t=>[...t,`${(new Date).toLocaleTimeString()}: ${e}`])};return(0,er.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,er.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Supabase Budget Test"}),(0,er.jsx)("button",{onClick:async()=>{a(!0),t([]);try{s("Testing direct budget query...");const{data:e,error:t}=await Ys.from("spendme_budgets").select("*").limit(5);if(s(t?`Direct query error: ${t.message}`:`Direct query success: ${(null===e||void 0===e?void 0:e.length)||0} budgets found`),s("Testing service role query..."),!{NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_SERVICE_ROLE_KEY)return void s("Service role key not configured");const r=Gs({NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL,{NODE_ENV:"production",PUBLIC_URL:"/spendmev2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_SERVICE_ROLE_KEY),{data:n,error:a}=await r.from("spendme_budgets").select("*").limit(5);a?s(`Service role error: ${a.message}`):(s(`Service role success: ${(null===n||void 0===n?void 0:n.length)||0} budgets found`),n&&n.length>0&&s(`Sample budget: ${JSON.stringify(n[0],null,2)}`)),s("Testing with specific user ID and period...");const i="b5318971-add4-48ba-85fb-b856f2bd22ca",o="2025-06",{data:l,error:c}=await r.from("spendme_budgets").select("*").eq("user_id",i).eq("period",o).limit(5);c?s(`User query error: ${c.message}`):(s(`User query success: ${(null===l||void 0===l?void 0:l.length)||0} budgets found for user ${i} and period ${o}`),l&&l.length>0&&s(`Sample budget: ${JSON.stringify(l[0],null,2)}`)),s(c?`User query error: ${c.message}`:`User query success: ${(null===l||void 0===l?void 0:l.length)||0} budgets found for user`),s("Testing categories...");const{data:u,error:d}=await r.from("spendme_categories").select("*").eq("user_id",i).limit(5);s(d?`Categories error: ${d.message}`:`Categories success: ${(null===u||void 0===u?void 0:u.length)||0} categories found`)}catch(e){s(`General error: ${e instanceof Error?e.message:"Unknown error"}`)}finally{a(!1)}},disabled:r,className:"btn-primary mb-4",children:r?"Testing...":"Test Budgets"}),(0,er.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg",children:[(0,er.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Test Results:"}),(0,er.jsx)("div",{className:"space-y-1",children:e.map((e,t)=>(0,er.jsx)("div",{className:"text-sm font-mono bg-white p-2 rounded",children:e},t))})]})]})},Zl=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!1),s=e=>{t(t=>[...t,`${(new Date).toLocaleTimeString()}: ${e}`])};return(0,er.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:(0,er.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,er.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,er.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"\ud83d\udd27 Supabase Test Sayfas\u0131"}),(0,er.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,er.jsx)("button",{onClick:async()=>{a(!0),t([]);try{s("\ud83d\udd0d Supabase ba\u011flant\u0131s\u0131 test ediliyor..."),s("\ud83d\udce1 Temel ba\u011flant\u0131 testi..."),s("\u2705 Supabase ba\u011flant\u0131s\u0131 ba\u015far\u0131l\u0131 (auth.users kullan\u0131l\u0131yor)"),s("\ud83d\uddc4\ufe0f Belirli tablolar kontrol ediliyor...");const t=["spendme_user_profiles","spendme_categories","spendme_accounts","spendme_transactions","spendme_budgets"];for(const e of t)try{const{data:t,error:r}=await Ys.from(e).select("count").limit(1);s(r?`\u274c ${e}: ${r.message}`:`\u2705 ${e}: Mevcut`)}catch(n){s(`\u274c ${e}: ${n.message}`)}s("\ud83d\udd10 Auth sistemi test ediliyor...");const{data:a,error:o}=await Ys.auth.getSession();s(o?`\u274c Auth hatas\u0131: ${o.message}`:"\u2705 Auth sistemi \xe7al\u0131\u015f\u0131yor. Session: "+(a.session?"Var":"Yok")),s("\ud83d\udce6 Storage test ediliyor...");const{data:l,error:c}=await Ys.storage.listBuckets();c?s(`\u274c Storage hatas\u0131: ${c.message}`):(s(`\u2705 Storage \xe7al\u0131\u015f\u0131yor. Bucket say\u0131s\u0131: ${(null===l||void 0===l?void 0:l.length)||0}`),null===l||void 0===l||l.forEach(e=>{s(`   - Bucket: ${e.name} (${e.public?"Public":"Private"})`)})),s("\ud83d\udd11 G\xfcncellenmi\u015f \u015fifre ile giri\u015f yap\u0131l\u0131yor..."),s("\ud83d\udcdd Kullan\u0131c\u0131 bilgileri:"),s("   E-posta: fikrieren@gmail.com"),s("   \u015eifre: 123456");try{const{data:t,error:n}=await Ys.auth.signInWithPassword({email:"fikrieren@gmail.com",password:"123456"});var e,r;if(s(`\ud83d\udd0d SignIn response: ${JSON.stringify(t,null,2)}`),s(`\ud83d\udd0d SignIn error: ${JSON.stringify(n,null,2)}`),n)s(`\u274c Giri\u015f hatas\u0131: ${n.message}`),s(`\ud83d\udd0d Giri\u015f hata detay\u0131: ${JSON.stringify(n,null,2)}`);else s(`\u2705 Giri\u015f ba\u015far\u0131l\u0131! User ID: ${null===(e=t.user)||void 0===e?void 0:e.id}`),s(`\ud83d\udce7 Email: ${null===(r=t.user)||void 0===r?void 0:r.email}`),s("\ud83d\udeaa \xc7\u0131k\u0131\u015f yap\u0131l\u0131yor..."),await Ys.auth.signOut(),s("\u2705 \xc7\u0131k\u0131\u015f ba\u015far\u0131l\u0131")}catch(i){s(`\u274c Auth genel hatas\u0131: ${i.message}`)}}catch(o){s(`\ud83d\udca5 Genel hata: ${o.message}`),s(`\ud83d\udd0d Hata stack: ${o.stack}`)}finally{a(!1)}},disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?"\ud83d\udd04 Test Ediliyor...":"\ud83d\ude80 Test Ba\u015flat"}),(0,er.jsx)("button",{onClick:()=>{t([])},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\ud83d\uddd1\ufe0f Temizle"})]}),(0,er.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:[(0,er.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Test Sonu\xe7lar\u0131:"}),0===e.length?(0,er.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Test ba\u015flatmak i\xe7in yukar\u0131daki butona t\u0131klay\u0131n..."}):(0,er.jsx)("div",{className:"space-y-1",children:e.map((e,t)=>(0,er.jsx)("div",{className:"text-sm font-mono",children:e},t))})]}),(0,er.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,er.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"\ud83d\udca1 Test A\xe7\u0131klamas\u0131:"}),(0,er.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,er.jsx)("li",{children:"\u2022 Temel Supabase ba\u011flant\u0131s\u0131"}),(0,er.jsx)("li",{children:"\u2022 Auth sistemi kontrol\xfc"}),(0,er.jsx)("li",{children:"\u2022 Storage bucket listesi"}),(0,er.jsx)("li",{children:"\u2022 Test kullan\u0131c\u0131s\u0131 olu\u015fturma"}),(0,er.jsx)("li",{children:"\u2022 Test giri\u015fi ve \xe7\u0131k\u0131\u015f\u0131"})]})]})]})})})},ec=ni("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),tc=ni("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),rc=()=>{const{isInstallable:e,isInstalled:t,installApp:r}=(()=>{const[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches&&i(!0);const e=e=>{e.preventDefault(),t(e),a(!0)},r=()=>{i(!0),a(!1),t(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r)}},[]),{isInstallable:r,isInstalled:s,installApp:async()=>{if(!e)return;e.prompt();const{outcome:r}=await e.userChoice;"accepted"===r&&(i(!0),a(!1)),t(null)},requestNotificationPermission:async()=>"Notification"in window&&"granted"===await Notification.requestPermission(),sendNotification:(e,t)=>{"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{icon:"/logo192.png",badge:"/logo192.png",...t})}}})(),[a,s]=n.useState(!1);return n.useEffect(()=>{e&&!t&&s(!0)},[e,t]),a?(0,er.jsx)("div",{className:"fixed bottom-20 lg:bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50 animate-slide-up",children:(0,er.jsxs)("div",{className:"flex items-center justify-between",children:[(0,er.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,er.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,er.jsx)(ec,{className:"h-5 w-5 text-primary-600"})}),(0,er.jsxs)("div",{children:[(0,er.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"SpendMe'i Y\xfckle"}),(0,er.jsx)("p",{className:"text-xs text-gray-500",children:"Ana ekrana ekleyin ve h\u0131zl\u0131 eri\u015fim sa\u011flay\u0131n"})]})]}),(0,er.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,er.jsxs)("button",{onClick:r,className:"btn-primary text-xs px-3 py-1",children:[(0,er.jsx)(tc,{className:"h-3 w-3 mr-1"}),"Y\xfckle"]}),(0,er.jsx)("button",{onClick:()=>s(!1),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,er.jsx)(ul,{className:"h-4 w-4"})})]})]})}):null},nc=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ac(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const r=e.installing;null!=r&&(r.onstatechange=()=>{"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}const sc=()=>(0,er.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[(0,er.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-900",children:"B\xfct\xe7e Durumu"}),(0,er.jsx)(Zo,{selectedPeriod:"2025-07"})]}),ic=new class{#x;#p;#u;#v;#k;#w;#j;#_;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#x=e.queryCache||new Wt,this.#p=e.mutationCache||new Vt,this.#u=e.defaultOptions||{},this.#v=new Map,this.#k=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#j=It.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onFocus())}),this.#_=$t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onOnline())}))}unmount(){this.#w--,0===this.#w&&(this.#j?.(),this.#j=void 0,this.#_?.(),this.#_=void 0)}isFetching(e){return this.#x.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#p.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#x.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(xt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#x.findAll(e).map(e=>{let{queryKey:t,state:r}=e;return[t,r.data]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#x.get(n.queryHash),s=a?.state.data,i=function(e,t){return"function"===typeof e?e(t):e}(t,s);if(void 0!==i)return this.#x.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Lt.batch(()=>this.#x.findAll(e).map(e=>{let{queryKey:n}=e;return[n,this.setQueryData(n,t,r)]}))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state}removeQueries(e){const t=this.#x;Lt.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=this.#x;return Lt.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},r=Lt.batch(()=>this.#x.findAll(e).map(e=>e.cancel(t)));return Promise.all(r).then(bt).catch(bt)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Lt.batch(()=>(this.#x.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Lt.batch(()=>this.#x.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(bt)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(n).then(bt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#x.build(this,t);return r.isStaleByTime(xt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bt).catch(bt)}fetchInfiniteQuery(e){return e.behavior=Jt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bt).catch(bt)}ensureInfiniteQueryData(e){return e.behavior=Jt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $t.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#x}getMutationCache(){return this.#p}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#v.set(jt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#v.values()],r={};return t.forEach(t=>{_t(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#k.set(jt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#k.values()],r={};return t.forEach(t=>{_t(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ot&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#x.clear(),this.#p.clear()}};!function(e){if("serviceWorker"in navigator){if(new URL("/spendmev2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/spendmev2/sw.js";nc?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(r=>{const n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):ac(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):ac(t,e)})}}();const oc=function(){return(0,er.jsx)(rr,{client:ic,children:(0,er.jsx)(Js,{children:(0,er.jsx)(rn,{children:(0,er.jsx)(it,{children:(0,er.jsxs)("div",{className:"App",children:[(0,er.jsxs)(Ne,{children:[(0,er.jsx)(je,{path:"/login",element:(0,er.jsx)(Wl,{})}),(0,er.jsx)(je,{path:"/login-old",element:(0,er.jsx)(Ul,{})}),(0,er.jsx)(je,{path:"/test-page",element:(0,er.jsx)(Zl,{})}),(0,er.jsxs)(je,{path:"/",element:(0,er.jsx)(Ni,{}),children:[(0,er.jsx)(je,{path:"/",element:(0,er.jsx)(ke,{to:"/dashboard",replace:!0})}),(0,er.jsx)(je,{path:"dashboard",element:(0,er.jsx)(il,{})}),(0,er.jsx)(je,{path:"transactions",element:(0,er.jsx)(hl,{})}),(0,er.jsx)(je,{path:"transactions/add",element:(0,er.jsx)(Yl,{})}),(0,er.jsx)(je,{path:"transactions/transfer",element:(0,er.jsx)(Jl,{})}),(0,er.jsx)(je,{path:"categories",element:(0,er.jsx)(yl,{})}),(0,er.jsx)(je,{path:"accounts",element:(0,er.jsx)(kl,{})}),(0,er.jsx)(je,{path:"budgets",element:(0,er.jsx)(jl,{})}),(0,er.jsx)(je,{path:"budget-status",element:(0,er.jsx)(sc,{})}),(0,er.jsx)(je,{path:"settings",element:(0,er.jsx)(Ol,{})}),(0,er.jsx)(je,{path:"profile",element:(0,er.jsx)(Ml,{})}),(0,er.jsx)(je,{path:"test",element:(0,er.jsx)(Xl,{})})]}),(0,er.jsx)(je,{path:"*",element:(0,er.jsx)(ke,{to:"/login",replace:!0})})]}),(0,er.jsx)(Zr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}}),(0,er.jsx)(rc,{})]})})})})})},lc=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then(t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:s,getTTFB:i}=t;r(e),n(e),a(e),s(e),i(e)})},cc=console.error;console.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t[0];"string"===typeof n&&n.includes("ResizeObserver loop completed with undelivered notifications")||cc.apply(console,t)},window.addEventListener("error",e=>{if(e.message.includes("ResizeObserver loop completed with undelivered notifications"))return e.preventDefault(),!1});a.createRoot(document.getElementById("root")).render((0,er.jsx)(oc,{})),lc()})();
//# sourceMappingURL=main.34de023b.js.map